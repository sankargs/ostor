<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<title>GNU Emacs Manual</title>

<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the Sixteenth edition of the `GNU Emacs Manual',

updated for Emacs version 22.1.

Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software
Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with the Invariant Sections being "The GNU Manifesto,"
     "Distribution" and "GNU GENERAL PUBLIC LICENSE," with the
     Front-Cover texts being "A GNU Manual," and with the Back-Cover
     Texts as in (a) below.  A copy of the license is included in the
     section entitled "GNU Free Documentation License."

     (a) The FSF's Back-Cover Text is: "You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development."
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head><body>
<h1 class="settitle">GNU Emacs Manual</h1>
<div class="node">
<p></p><hr>
<a name="Top"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Distrib">Distrib</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">The Emacs Editor</h2>

<p>Emacs is the extensible, customizable, self-documenting real-time
display editor.  This Info file describes how to edit with Emacs and
some of how to customize it; it corresponds to GNU Emacs version
22.1.

   </p><p>For information on extending Emacs, see <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Top">Emacs Lisp</a>.

</p><ul class="menu">
<li><a accesskey="1" href="#Distrib">Distrib</a>: 	        How to get the latest Emacs distribution. 
</li><li><a accesskey="2" href="#Copying">Copying</a>: 	        The GNU General Public License gives you permission
			  to redistribute GNU Emacs on certain terms;
			  it also explains that there is no warranty. 
</li><li><a accesskey="3" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>:  The license for this documentation. 
</li><li><a accesskey="4" href="#Intro">Intro</a>: 	        An introduction to Emacs concepts. 
</li><li><a accesskey="5" href="#Glossary">Glossary</a>: 	        The glossary. 
</li><li><a accesskey="6" href="#Antinews">Antinews</a>: 	        Information about Emacs version 21. 
</li><li><a accesskey="7" href="#Mac-OS">Mac OS</a>:               Using Emacs in the Mac. 
</li><li><a accesskey="8" href="#Microsoft-Windows">Microsoft Windows</a>:    Using Emacs on Microsoft Windows and MS-DOS. 
</li><li><a accesskey="9" href="#Manifesto">Manifesto</a>: 	        What's GNU?  Gnu's Not Unix! 
</li><li><a href="#Acknowledgments">Acknowledgments</a>:      Major contributors to GNU Emacs.

</li></ul>
<p>Indexes (each index contains a large menu)
</p>
<ul class="menu">
<li><a href="#Key-Index">Key Index</a>: 	        An item for each standard Emacs key sequence. 
</li><li><a href="#Option-Index">Option Index</a>:         An item for every command-line option. 
</li><li><a href="#Command-Index">Command Index</a>:        An item for each command name. 
</li><li><a href="#Variable-Index">Variable Index</a>:       An item for each documented variable. 
</li><li><a href="#Concept-Index">Concept Index</a>:        An item for each concept.

</li></ul>
<p>Important General Concepts
</p>
<ul class="menu">
<li><a href="#Screen">Screen</a>: 	        How to interpret what you see on the screen. 
</li><li><a href="#User-Input">User Input</a>: 	        Kinds of input events (characters, buttons,
                          function keys). 
</li><li><a href="#Keys">Keys</a>: 	        Key sequences: what you type to request one
                          editing action. 
</li><li><a href="#Commands">Commands</a>: 	        Named functions run by key sequences to do editing. 
</li><li><a href="#Text-Characters">Text Characters</a>:      Character set for text (the contents of buffers
			  and strings). 
</li><li><a href="#Entering-Emacs">Entering Emacs</a>:       Starting Emacs from the shell. 
</li><li><a href="#Exiting">Exiting</a>: 	        Stopping or killing Emacs. 
</li><li><a href="#Emacs-Invocation">Emacs Invocation</a>:     Hairy startup options.

</li></ul>
<p>Fundamental Editing Commands
</p>
<ul class="menu">
<li><a href="#Basic">Basic</a>: 	        The most basic editing commands. 
</li><li><a href="#Minibuffer">Minibuffer</a>: 	        Entering arguments that are prompted for. 
</li><li><a href="#M_002dx">M-x</a>: 		        Invoking commands by their names. 
</li><li><a href="#Help">Help</a>: 	        Commands for asking Emacs about its commands.

</li></ul>
<p>Important Text-Changing Commands
</p>
<ul class="menu">
<li><a href="#Mark">Mark</a>: 	        The mark: how to delimit a ``region'' of text. 
</li><li><a href="#Killing">Killing</a>: 	        Killing (cutting) text. 
</li><li><a href="#Yanking">Yanking</a>: 	        Recovering killed text.  Moving text. (Pasting.) 
</li><li><a href="#Accumulating-Text">Accumulating Text</a>:    Other ways of copying text. 
</li><li><a href="#Rectangles">Rectangles</a>: 	        Operating on the text inside a rectangle on the screen. 
</li><li><a href="#Registers">Registers</a>: 	        Saving a text string or a location in the buffer. 
</li><li><a href="#Display">Display</a>: 	        Controlling what text is displayed. 
</li><li><a href="#Search">Search</a>: 	        Finding or replacing occurrences of a string. 
</li><li><a href="#Fixit">Fixit</a>: 	        Commands especially useful for fixing typos. 
</li><li><a href="#Keyboard-Macros">Keyboard Macros</a>: 	A keyboard macro records a sequence of
			  keystrokes to be replayed with a single command.

</li></ul>
<p>Major Structures of Emacs
</p>
<ul class="menu">
<li><a href="#Files">Files</a>: 	        All about handling files. 
</li><li><a href="#Buffers">Buffers</a>: 	        Multiple buffers; editing several files at once. 
</li><li><a href="#Windows">Windows</a>: 	        Viewing two pieces of text at once. 
</li><li><a href="#Frames">Frames</a>: 	        Running the same Emacs session in multiple X windows. 
</li><li><a href="#International">International</a>:        Using non-<acronym>ASCII</acronym> character sets (the MULE features).

</li></ul>
<p>Advanced Features
</p>
<ul class="menu">
<li><a href="#Major-Modes">Major Modes</a>: 	        Text mode vs. Lisp mode vs. C mode ... 
</li><li><a href="#Indentation">Indentation</a>: 	        Editing the white space at the beginnings of lines. 
</li><li><a href="#Text">Text</a>: 	        Commands and modes for editing English. 
</li><li><a href="#Programs">Programs</a>: 	        Commands and modes for editing programs. 
</li><li><a href="#Building">Building</a>: 	        Compiling, running and debugging programs. 
</li><li><a href="#Maintaining">Maintaining</a>:          Features for maintaining large programs. 
</li><li><a href="#Abbrevs">Abbrevs</a>: 	        How to define text abbreviations to reduce
			  the number of characters you must type.

</li><li><a href="#Picture-Mode">Picture Mode</a>:         Editing pictures made up of characters using
                          the quarter-plane screen model. 
</li><li><a href="#Sending-Mail">Sending Mail</a>:         Sending mail in Emacs. 
</li><li><a href="#Rmail">Rmail</a>: 	        Reading mail in Emacs. 
</li><li><a href="#Dired">Dired</a>: 	        You can ``edit'' a directory to manage files in it. 
</li><li><a href="#Calendar_002fDiary">Calendar/Diary</a>:       The calendar and diary facilities. 
</li><li><a href="#Gnus">Gnus</a>: 	        How to read netnews with Emacs. 
</li><li><a href="#Shell">Shell</a>: 	        Executing shell commands from Emacs. 
</li><li><a href="#Emacs-Server">Emacs Server</a>:         Using Emacs as an editing server for <code>mail</code>, etc. 
</li><li><a href="#Printing">Printing</a>: 	        Printing hardcopies of buffers or regions. 
</li><li><a href="#Sorting">Sorting</a>: 	        Sorting lines, paragraphs or pages within Emacs. 
</li><li><a href="#Narrowing">Narrowing</a>: 	        Restricting display and editing to a portion
		          of the buffer. 
</li><li><a href="#Two_002dColumn">Two-Column</a>: 	        Splitting apart columns to edit them
		          in side-by-side windows. 
</li><li><a href="#Editing-Binary-Files">Editing Binary Files</a>: Using Hexl mode to edit binary files. 
</li><li><a href="#Saving-Emacs-Sessions">Saving Emacs Sessions</a>:  Saving Emacs state from one session to the next. 
</li><li><a href="#Recursive-Edit">Recursive Edit</a>:       A command can allow you to do editing
			  "within the command".  This is called a
			  "recursive editing level". 
</li><li><a href="#Emulation">Emulation</a>: 	        Emulating some other editors with Emacs. 
</li><li><a href="#Hyperlinking">Hyperlinking</a>:         Following links in buffers. 
</li><li><a href="#Dissociated-Press">Dissociated Press</a>:    Dissociating text for fun. 
</li><li><a href="#Amusements">Amusements</a>: 	        Various games and hacks. 
</li><li><a href="#Customization">Customization</a>:        Modifying the behavior of Emacs. 
</li><li><a href="#X-Resources">X Resources</a>:          X resources for customizing Emacs.

</li></ul>
<p>Recovery from Problems
</p>
<ul class="menu">
<li><a href="#Quitting">Quitting</a>: 	        Quitting and aborting. 
</li><li><a href="#Lossage">Lossage</a>: 	        What to do if Emacs is hung or malfunctioning. 
</li><li><a href="#Bugs">Bugs</a>: 	        How and when to report a bug. 
</li><li><a href="#Contributing">Contributing</a>:         How to contribute improvements to Emacs. 
</li><li><a href="#Service">Service</a>: 	        How to get help for your own Emacs needs.

<!-- Do NOT modify the following 3 lines!  They must have this form to -->
<!-- be correctly identified by `texinfo-multiple-files-update'.  In -->
<!-- particular, the detailed menu header line MUST be identical to the -->
<!-- value of `texinfo-master-menu-header'.  See texnfo-upd.el. -->
</li></ul>
<p>--- The Detailed Node Listing ---
 ---------------------------------

</p><p>Here are some other nodes which are really inferiors of the ones
already listed, mentioned here so you can get to them in one step:

</p><p>The Organization of the Screen

</p>
<ul class="menu">
<li><a href="#Point">Point</a>: 	        The place in the text where editing commands operate. 
</li><li><a href="#Echo-Area">Echo Area</a>:            Short messages appear at the bottom of the screen. 
</li><li><a href="#Mode-Line">Mode Line</a>: 	        Interpreting the mode line. 
</li><li><a href="#Menu-Bar">Menu Bar</a>:             How to use the menu bar.

</li></ul>
<p>Basic Editing Commands

</p>
<ul class="menu">
<li><a href="#Inserting-Text">Inserting Text</a>:       Inserting text by simply typing it. 
</li><li><a href="#Moving-Point">Moving Point</a>:         How to move the cursor to the place where you want to
			  change something. 
</li><li><a href="#Erasing">Erasing</a>: 	        Deleting and killing text. 
</li><li><a href="#Basic-Undo">Basic Undo</a>: 	        Undoing recent changes in the text. 
</li><li><a href="#Basic-Files">Basic Files</a>:          Visiting, creating, and saving files. 
</li><li><a href="#Basic-Help">Basic Help</a>:           Asking what a character does. 
</li><li><a href="#Blank-Lines">Blank Lines</a>: 	        Commands to make or delete blank lines. 
</li><li><a href="#Continuation-Lines">Continuation Lines</a>:   Lines too wide for the screen. 
</li><li><a href="#Position-Info">Position Info</a>:        What page, line, row, or column is point on? 
</li><li><a href="#Arguments">Arguments</a>: 	        Numeric arguments for repeating a command. 
</li><li><a href="#Repeating">Repeating</a>:            A short-cut for repeating the previous command.

</li></ul>
<p>The Minibuffer

</p>
<ul class="menu">
<li><a href="#Minibuffer-File">Minibuffer File</a>:      Entering file names with the minibuffer. 
</li><li><a href="#Minibuffer-Edit">Minibuffer Edit</a>:      How to edit in the minibuffer. 
</li><li><a href="#Completion">Completion</a>: 		An abbreviation facility for minibuffer input. 
</li><li><a href="#Minibuffer-History">Minibuffer History</a>: 	Reusing recent minibuffer arguments. 
</li><li><a href="#Repetition">Repetition</a>: 		Re-executing commands that used the minibuffer.

</li></ul>
<p>Completion

</p>
<ul class="menu">
<li><a href="#Completion-Example">Example</a>:     Examples of using completion. 
</li><li><a href="#Completion-Commands">Commands</a>:   A list of completion commands. 
</li><li><a href="#Strict-Completion">Strict Completion</a>:              Different types of completion. 
</li><li><a href="#Completion-Options">Options</a>:     Options for completion.

</li></ul>
<p>Help

</p>
<ul class="menu">
<li><a href="#Help-Summary">Help Summary</a>: 	Brief list of all Help commands. 
</li><li><a href="#Key-Help">Key Help</a>: 		Asking what a key does in Emacs. 
</li><li><a href="#Name-Help">Name Help</a>: 		Asking about a command, variable or function name. 
</li><li><a href="#Apropos">Apropos</a>: 		Asking what pertains to a given topic. 
</li><li><a href="#Help-Mode">Help Mode</a>:            Special features of Help mode and Help buffers. 
</li><li><a href="#Library-Keywords">Library Keywords</a>: 	Finding Lisp libraries by keywords (topics). 
</li><li><a href="#Language-Help">Language Help</a>:        Help relating to international language support. 
</li><li><a href="#Misc-Help">Misc Help</a>: 		Other help commands. 
</li><li><a href="#Help-Files">Help Files</a>:           Commands to display pre-written help files. 
</li><li><a href="#Help-Echo">Help Echo</a>:            Help on active text and tooltips (`balloon help')

</li></ul>
<p>The Mark and the Region

</p>
<ul class="menu">
<li><a href="#Setting-Mark">Setting Mark</a>: 	Commands to set the mark. 
</li><li><a href="#Transient-Mark">Transient Mark</a>: 	How to make Emacs highlight the region--
			  when there is one. 
</li><li><a href="#Momentary-Mark">Momentary Mark</a>:       Enabling Transient Mark mode momentarily. 
</li><li><a href="#Using-Region">Using Region</a>: 	Summary of ways to operate on contents of the region. 
</li><li><a href="#Marking-Objects">Marking Objects</a>: 	Commands to put region around textual units. 
</li><li><a href="#Mark-Ring">Mark Ring</a>: 		Previous mark positions saved so you can go back there. 
</li><li><a href="#Global-Mark-Ring">Global Mark Ring</a>: 	Previous mark positions in various buffers.

</li></ul>
<p>Killing and Moving Text

</p>
<ul class="menu">
<li><a href="#Deletion">Deletion</a>: 		Commands for deleting small amounts of text and
			  blank areas. 
</li><li><a href="#Killing-by-Lines">Killing by Lines</a>: 	How to kill entire lines of text at one time. 
</li><li><a href="#Other-Kill-Commands">Other Kill Commands</a>:  Commands to kill large regions of text and
			  syntactic units such as words and sentences. 
</li><li><a href="#CUA-Bindings">CUA Bindings</a>:         Using <kbd>C-x</kbd>, <kbd>C-c</kbd>, <kbd>C-v</kbd> for copy
                          and paste, with enhanced rectangle support.

</li></ul>
<p>Yanking

</p>
<ul class="menu">
<li><a href="#Kill-Ring">Kill Ring</a>: 		Where killed text is stored.  Basic yanking. 
</li><li><a href="#Appending-Kills">Appending Kills</a>: 	Several kills in a row all yank together. 
</li><li><a href="#Earlier-Kills">Earlier Kills</a>: 	Yanking something killed some time ago.

</li></ul>
<p>Registers

</p>
<ul class="menu">
<li><a href="#RegPos">RegPos</a>:       	Saving positions in registers. 
</li><li><a href="#RegText">RegText</a>:      	Saving text in registers. 
</li><li><a href="#RegRect">RegRect</a>:      	Saving rectangles in registers. 
</li><li><a href="#RegConfig">RegConfig</a>:            Saving window configurations in registers. 
</li><li><a href="#RegNumbers">RegNumbers</a>:           Numbers in registers. 
</li><li><a href="#RegFiles">RegFiles</a>:     	File names in registers. 
</li><li><a href="#Bookmarks">Bookmarks</a>:            Bookmarks are like registers, but persistent.

</li></ul>
<p>Controlling the Display

</p>
<ul class="menu">
<li><a href="#Scrolling">Scrolling</a>: 	           Moving text up and down in a window. 
</li><li><a href="#Auto-Scrolling">Auto Scrolling</a>:          Redisplay scrolls text automatically when needed. 
</li><li><a href="#Horizontal-Scrolling">Horizontal Scrolling</a>:    Moving text left and right in a window. 
</li><li><a href="#Follow-Mode">Follow Mode</a>:             Follow mode lets two windows scroll as one. 
</li><li><a href="#Faces">Faces</a>: 	           How to change the display style using faces. 
</li><li><a href="#Standard-Faces">Standard Faces</a>:          Emacs' predefined faces. 
</li><li><a href="#Font-Lock">Font Lock</a>:               Minor mode for syntactic highlighting using faces. 
</li><li><a href="#Highlight-Interactively">Highlight Interactively</a>:  Tell Emacs what text to highlight. 
</li><li><a href="#Fringes">Fringes</a>:                 Enabling or disabling window fringes. 
</li><li><a href="#Displaying-Boundaries">Displaying Boundaries</a>:   Displaying top and bottom of the buffer. 
</li><li><a href="#Useless-Whitespace">Useless Whitespace</a>:      Showing possibly-spurious trailing whitespace. 
</li><li><a href="#Selective-Display">Selective Display</a>:       Hiding lines with lots of indentation. 
</li><li><a href="#Optional-Mode-Line">Optional Mode Line</a>:      Optional mode line display features. 
</li><li><a href="#Text-Display">Text Display</a>:            How text characters are normally displayed. 
</li><li><a href="#Cursor-Display">Cursor Display</a>:          Features for displaying the cursor. 
</li><li><a href="#Line-Truncation">Line Truncation</a>:         Truncating lines to fit the screen width instead
                             of continuing them to multiple screen lines. 
</li><li><a href="#Display-Custom">Display Custom</a>:          Information on variables for customizing display.

</li></ul>
<p>Searching and Replacement

</p>
<ul class="menu">
<li><a href="#Incremental-Search">Incremental Search</a>: 	   Search happens as you type the string. 
</li><li><a href="#Nonincremental-Search">Nonincremental Search</a>:   Specify entire string and then search. 
</li><li><a href="#Word-Search">Word Search</a>: 		   Search for sequence of words. 
</li><li><a href="#Regexp-Search">Regexp Search</a>: 	   Search for match for a regexp. 
</li><li><a href="#Regexps">Regexps</a>: 		   Syntax of regular expressions. 
</li><li><a href="#Regexp-Backslash">Regexp Backslash</a>:        Regular expression constructs starting with `\'. 
</li><li><a href="#Regexp-Example">Regexp Example</a>:          A complex regular expression explained. 
</li><li><a href="#Search-Case">Search Case</a>: 		   To ignore case while searching, or not. 
</li><li><a href="#Replace">Replace</a>: 		   Search, and replace some or all matches. 
</li><li><a href="#Other-Repeating-Search">Other Repeating Search</a>:  Operating on all matches for some regexp.

</li></ul>
<p>Incremental Search

</p>
<ul class="menu">
<li><a href="#Basic-Isearch">Basic Isearch</a>:        Basic incremental search commands. 
</li><li><a href="#Repeat-Isearch">Repeat Isearch</a>:       Searching for the same string again. 
</li><li><a href="#Error-in-Isearch">Error in Isearch</a>:     When your string is not found. 
</li><li><a href="#Special-Isearch">Special Isearch</a>:      Special input in incremental search. 
</li><li><a href="#Non_002dASCII-Isearch">Non-ASCII Isearch</a>:    How to search for non-ASCII characters. 
</li><li><a href="#Isearch-Yank">Isearch Yank</a>:         Commands that grab text into the search string
                          or else edit the search string. 
</li><li><a href="#Highlight-Isearch">Highlight Isearch</a>:    Isearch highlights the other possible matches. 
</li><li><a href="#Isearch-Scroll">Isearch Scroll</a>:       Scrolling during an incremental search. 
</li><li><a href="#Slow-Isearch">Slow Isearch</a>:         Incremental search features for slow terminals.

</li></ul>
<p>Replacement Commands

</p>
<ul class="menu">
<li><a href="#Unconditional-Replace">Unconditional Replace</a>:   Replacing all matches for a string. 
</li><li><a href="#Regexp-Replace">Regexp Replace</a>: 	   Replacing all matches for a regexp. 
</li><li><a href="#Replacement-and-Case">Replacement and Case</a>:    How replacements preserve case of letters. 
</li><li><a href="#Query-Replace">Query Replace</a>: 	   How to use querying.

</li></ul>
<p>Commands for Fixing Typos

</p>
<ul class="menu">
<li><a href="#Undo">Undo</a>:                 Full details of Emacs undo commands. 
</li><li><a href="#Kill-Errors">Kill Errors</a>:          Commands to kill a batch of recently entered text. 
</li><li><a href="#Transpose">Transpose</a>: 	        Exchanging two characters, words, lines, lists... 
</li><li><a href="#Fixing-Case">Fixing Case</a>:          Correcting case of last word entered. 
</li><li><a href="#Spelling">Spelling</a>: 	        Apply spelling checker to a word or a whole buffer.

</li></ul>
<p>Keyboard Macros

</p>
<ul class="menu">
<li><a href="#Basic-Keyboard-Macro">Basic Keyboard Macro</a>:      Defining and running keyboard macros. 
</li><li><a href="#Keyboard-Macro-Ring">Keyboard Macro Ring</a>:       Where previous keyboard macros are saved. 
</li><li><a href="#Keyboard-Macro-Counter">Keyboard Macro Counter</a>:    Inserting incrementing numbers in macros. 
</li><li><a href="#Keyboard-Macro-Query">Keyboard Macro Query</a>:      Making keyboard macros do different things each time. 
</li><li><a href="#Save-Keyboard-Macro">Save Keyboard Macro</a>:       Giving keyboard macros names; saving them in files. 
</li><li><a href="#Edit-Keyboard-Macro">Edit Keyboard Macro</a>:       Editing keyboard macros. 
</li><li><a href="#Keyboard-Macro-Step_002dEdit">Keyboard Macro Step-Edit</a>:  Interactively executing and editing a keyboard
                                macro.

</li></ul>
<p>File Handling

</p>
<ul class="menu">
<li><a href="#File-Names">File Names</a>:           How to type and edit file-name arguments. 
</li><li><a href="#Visiting">Visiting</a>:             Visiting a file prepares Emacs to edit the file. 
</li><li><a href="#Saving">Saving</a>:               Saving makes your changes permanent. 
</li><li><a href="#Reverting">Reverting</a>:            Reverting cancels all the changes not saved. 
</li><li><a href="#Autorevert">Autorevert</a>:           Auto Reverting non-file buffers. 
</li><li><a href="#Auto-Save">Auto Save</a>:            Auto Save periodically protects against loss of data. 
</li><li><a href="#File-Aliases">File Aliases</a>:         Handling multiple names for one file. 
</li><li><a href="#Version-Control">Version Control</a>:      Version control systems (RCS, CVS and SCCS). 
</li><li><a href="#Directories">Directories</a>:          Creating, deleting, and listing file directories. 
</li><li><a href="#Comparing-Files">Comparing Files</a>:      Finding where two files differ. 
</li><li><a href="#Diff-Mode">Diff Mode</a>:            Editing diff output. 
</li><li><a href="#Misc-File-Ops">Misc File Ops</a>:        Other things you can do on files. 
</li><li><a href="#Compressed-Files">Compressed Files</a>:     Accessing compressed files. 
</li><li><a href="#File-Archives">File Archives</a>:        Operating on tar, zip, jar etc. archive files. 
</li><li><a href="#Remote-Files">Remote Files</a>:         Accessing files on other sites. 
</li><li><a href="#Quoted-File-Names">Quoted File Names</a>:    Quoting special characters in file names. 
</li><li><a href="#File-Name-Cache">File Name Cache</a>:      Completion against a list of files you often use. 
</li><li><a href="#File-Conveniences">File Conveniences</a>:    Convenience Features for Finding Files. 
</li><li><a href="#Filesets">Filesets</a>:             Handling sets of files.

</li></ul>
<p>Saving Files

</p>
<ul class="menu">
<li><a href="#Save-Commands">Save Commands</a>:        Commands for saving files. 
</li><li><a href="#Backup">Backup</a>:               How Emacs saves the old version of your file. 
</li><li><a href="#Customize-Save">Customize Save</a>:       Customizing the saving of files. 
</li><li><a href="#Interlocking">Interlocking</a>:         How Emacs protects against simultaneous editing
                          of one file by two users. 
</li><li><a href="#File-Shadowing">File Shadowing</a>:       Copying files to "shadows" automatically. 
</li><li><a href="#Time-Stamps">Time Stamps</a>:          Emacs can update time stamps on saved files.

</li></ul>
<p>Backup Files

</p>
<ul class="menu">
<li><a href="#Numbered-Backups">One or Many</a>:  Whether to make one backup file or many. 
</li><li><a href="#Backup-Names">Names</a>: 		How backup files are named. 
</li><li><a href="#Backup-Deletion">Deletion</a>: 	Emacs deletes excess numbered backups. 
</li><li><a href="#Backup-Copying">Copying</a>: 	Backups can be made by copying or renaming.

</li></ul>
<p>Auto-Saving: Protection Against Disasters

</p>
<ul class="menu">
<li><a href="#Auto-Save-Files">Files</a>:        The file where auto-saved changes are
                                  actually made until you save the file. 
</li><li><a href="#Auto-Save-Control">Control</a>:    Controlling when and how often to auto-save. 
</li><li><a href="#Recover">Recover</a>: 		        Recovering text from auto-save files.

</li></ul>
<p>Version Control

</p>
<ul class="menu">
<li><a href="#Introduction-to-VC">Introduction to VC</a>:   How version control works in general. 
</li><li><a href="#VC-Mode-Line">VC Mode Line</a>:         How the mode line shows version control status. 
</li><li><a href="#Basic-VC-Editing">Basic VC Editing</a>:     How to edit a file under version control. 
</li><li><a href="#Old-Versions">Old Versions</a>:         Examining and comparing old versions. 
</li><li><a href="#Secondary-VC-Commands">Secondary VC Commands</a>:  The commands used a little less frequently. 
</li><li><a href="#Branches">Branches</a>:             Multiple lines of development. 
</li><li><a href="#Remote-Repositories">Remote Repositories</a>:  Efficient access to remote CVS servers. 
</li><li><a href="#Snapshots">Snapshots</a>:            Sets of file versions treated as a unit. 
</li><li><a href="#Miscellaneous-VC">Miscellaneous VC</a>:     Various other commands and features of VC. 
</li><li><a href="#Customizing-VC">Customizing VC</a>:       Variables that change VC's behavior.

</li></ul>
<p>Using Multiple Buffers

</p>
<ul class="menu">
<li><a href="#Select-Buffer">Select Buffer</a>:        Creating a new buffer or reselecting an old one. 
</li><li><a href="#List-Buffers">List Buffers</a>:         Getting a list of buffers that exist. 
</li><li><a href="#Misc-Buffer">Misc Buffer</a>: 	        Renaming; changing read-onliness; copying text. 
</li><li><a href="#Kill-Buffer">Kill Buffer</a>: 	        Killing buffers you no longer need. 
</li><li><a href="#Several-Buffers">Several Buffers</a>:      How to go through the list of all buffers
			  and operate variously on several of them. 
</li><li><a href="#Indirect-Buffers">Indirect Buffers</a>:     An indirect buffer shares the text of another buffer. 
</li><li><a href="#Buffer-Convenience">Buffer Convenience</a>:   Convenience and customization features for
                          buffer handling.

</li></ul>
<p>Multiple Windows

</p>
<ul class="menu">
<li><a href="#Basic-Window">Basic Window</a>:         Introduction to Emacs windows. 
</li><li><a href="#Split-Window">Split Window</a>:         New windows are made by splitting existing windows. 
</li><li><a href="#Other-Window">Other Window</a>:         Moving to another window or doing something to it. 
</li><li><a href="#Pop-Up-Window">Pop Up Window</a>:        Finding a file or buffer in another window. 
</li><li><a href="#Force-Same-Window">Force Same Window</a>:    Forcing certain buffers to appear in the selected
                          window rather than in another window. 
</li><li><a href="#Change-Window">Change Window</a>:        Deleting windows and changing their sizes. 
</li><li><a href="#Window-Convenience">Window Convenience</a>:   Convenience functions for window handling.

</li></ul>
<p>Frames and Graphical Displays

</p>
<ul class="menu">
<li><a href="#Cut-and-Paste">Cut and Paste</a>:        Mouse commands for cut and paste. 
</li><li><a href="#Mouse-References">Mouse References</a>:     Using the mouse to select an item from a list. 
</li><li><a href="#Menu-Mouse-Clicks">Menu Mouse Clicks</a>:    Mouse clicks that bring up menus. 
</li><li><a href="#Mode-Line-Mouse">Mode Line Mouse</a>:      Mouse clicks on the mode line. 
</li><li><a href="#Creating-Frames">Creating Frames</a>:      Creating additional Emacs frames with various contents. 
</li><li><a href="#Frame-Commands">Frame Commands</a>:       Iconifying, deleting, and switching frames. 
</li><li><a href="#Speedbar">Speedbar</a>:             How to make and use a speedbar frame. 
</li><li><a href="#Multiple-Displays">Multiple Displays</a>:    How one Emacs job can talk to several displays. 
</li><li><a href="#Special-Buffer-Frames">Special Buffer Frames</a>:   You can make certain buffers have their own frames. 
</li><li><a href="#Frame-Parameters">Frame Parameters</a>:     Changing the colors and other modes of frames. 
</li><li><a href="#Scroll-Bars">Scroll Bars</a>: 	        How to enable and disable scroll bars; how to use them. 
</li><li><a href="#Wheeled-Mice">Wheeled Mice</a>:         Using mouse wheels for scrolling. 
</li><li><a href="#Drag-and-Drop">Drag and Drop</a>:        Using drag and drop to open files and insert text. 
</li><li><a href="#Menu-Bars">Menu Bars</a>: 	        Enabling and disabling the menu bar. 
</li><li><a href="#Tool-Bars">Tool Bars</a>:            Enabling and disabling the tool bar. 
</li><li><a href="#Dialog-Boxes">Dialog Boxes</a>:         Controlling use of dialog boxes. 
</li><li><a href="#Tooltips">Tooltips</a>:             Showing "tooltips", AKA "balloon help" for active text. 
</li><li><a href="#Mouse-Avoidance">Mouse Avoidance</a>:      Moving the mouse pointer out of the way. 
</li><li><a href="#Non_002dWindow-Terminals">Non-Window Terminals</a>:   Multiple frames on terminals that show only one. 
</li><li><a href="#Text_002dOnly-Mouse">Text-Only Mouse</a>:      Using the mouse in text-only terminals.

</li></ul>
<p>International Character Set Support

</p>
<ul class="menu">
<li><a href="#International-Chars">International Chars</a>:      Basic concepts of multibyte characters. 
</li><li><a href="#Enabling-Multibyte">Enabling Multibyte</a>:       Controlling whether to use multibyte characters. 
</li><li><a href="#Language-Environments">Language Environments</a>:    Setting things up for the language you use. 
</li><li><a href="#Input-Methods">Input Methods</a>:            Entering text characters not on your keyboard. 
</li><li><a href="#Select-Input-Method">Select Input Method</a>:      Specifying your choice of input methods. 
</li><li><a href="#Multibyte-Conversion">Multibyte Conversion</a>:     How single-byte characters convert to multibyte. 
</li><li><a href="#Coding-Systems">Coding Systems</a>:           Character set conversion when you read and
                              write files, and so on. 
</li><li><a href="#Recognize-Coding">Recognize Coding</a>:         How Emacs figures out which conversion to use. 
</li><li><a href="#Specify-Coding">Specify Coding</a>:           Specifying a file's coding system explicitly. 
</li><li><a href="#Output-Coding">Output Coding</a>:            Choosing coding systems for output. 
</li><li><a href="#Text-Coding">Text Coding</a>:              Choosing conversion to use for file text. 
</li><li><a href="#Communication-Coding">Communication Coding</a>:     Coding systems for interprocess communication. 
</li><li><a href="#File-Name-Coding">File Name Coding</a>:         Coding systems for file <em>names</em>. 
</li><li><a href="#Terminal-Coding">Terminal Coding</a>:          Specifying coding systems for converting
                              terminal input and output. 
</li><li><a href="#Fontsets">Fontsets</a>:                 Fontsets are collections of fonts
                              that cover the whole spectrum of characters. 
</li><li><a href="#Defining-Fontsets">Defining Fontsets</a>:        Defining a new fontset. 
</li><li><a href="#Undisplayable-Characters">Undisplayable Characters</a>: When characters don't display. 
</li><li><a href="#Unibyte-Mode">Unibyte Mode</a>:             You can pick one European character set
                              to use without multibyte characters. 
</li><li><a href="#Charsets">Charsets</a>:                 How Emacs groups its internal character codes.

</li></ul>
<p>Major Modes

</p>
<ul class="menu">
<li><a href="#Choosing-Modes">Choosing Modes</a>:       How major modes are specified or chosen.

</li></ul>
<p>Indentation

</p>
<ul class="menu">
<li><a href="#Indentation-Commands">Indentation Commands</a>:   Various commands and techniques for indentation. 
</li><li><a href="#Tab-Stops">Tab Stops</a>: 		  You can set arbitrary "tab stops" and then
			    indent to the next tab stop when you want to. 
</li><li><a href="#Just-Spaces">Just Spaces</a>: 		  You can request indentation using just spaces.

</li></ul>
<p>Commands for Human Languages

</p>
<ul class="menu">
<li><a href="#Words">Words</a>: 	        Moving over and killing words. 
</li><li><a href="#Sentences">Sentences</a>: 	        Moving over and killing sentences. 
</li><li><a href="#Paragraphs">Paragraphs</a>: 	        Moving over paragraphs. 
</li><li><a href="#Pages">Pages</a>: 	        Moving over pages. 
</li><li><a href="#Filling">Filling</a>: 	        Filling or justifying text. 
</li><li><a href="#Case">Case</a>: 	        Changing the case of text. 
</li><li><a href="#Text-Mode">Text Mode</a>: 	        The major modes for editing text files. 
</li><li><a href="#Outline-Mode">Outline Mode</a>:         Editing outlines. 
</li><li><a href="#TeX-Mode">TeX Mode</a>: 	        Editing input to the formatter TeX. 
</li><li><a href="#HTML-Mode">HTML Mode</a>:            Editing HTML, SGML, and XML files. 
</li><li><a href="#Nroff-Mode">Nroff Mode</a>: 	        Editing input to the formatter nroff. 
</li><li><a href="#Formatted-Text">Formatted Text</a>:       Editing formatted text directly in WYSIWYG fashion. 
</li><li><a href="#Text-Based-Tables">Text Based Tables</a>:    Editing text-based tables in WYSIWYG fashion.

</li></ul>
<p>Filling Text

</p>
<ul class="menu">
<li><a href="#Auto-Fill">Auto Fill</a>: 	        Auto Fill mode breaks long lines automatically. 
</li><li><a href="#Refill">Refill</a>:               Keeping paragraphs filled. 
</li><li><a href="#Fill-Commands">Fill Commands</a>:        Commands to refill paragraphs and center lines. 
</li><li><a href="#Fill-Prefix">Fill Prefix</a>: 	        Filling paragraphs that are indented
                          or in a comment, etc. 
</li><li><a href="#Adaptive-Fill">Adaptive Fill</a>:        How Emacs can determine the fill prefix automatically. 
</li><li><a href="#Longlines">Longlines</a>:            Editing text with very long lines.

</li></ul>
<p>Outline Mode

</p>
<ul class="menu">
<li><a href="#Outline-Format">Format</a>: 	   What the text of an outline looks like. 
</li><li><a href="#Outline-Motion">Motion</a>: 	   Special commands for moving through
                                     outlines. 
</li><li><a href="#Outline-Visibility">Visibility</a>:   Commands to control what is visible. 
</li><li><a href="#Outline-Views">Views</a>:             Outlines and multiple views. 
</li><li><a href="#Foldout">Foldout</a>:                         Folding means zooming in on outlines.

</li></ul>
<p>TeX Mode

</p>
<ul class="menu">
<li><a href="#TeX-Editing">Editing</a>:    Special commands for editing in TeX mode. 
</li><li><a href="#LaTeX-Editing">LaTeX</a>:    Additional commands for LaTeX input files. 
</li><li><a href="#TeX-Print">Printing</a>:     Commands for printing part of a file with TeX. 
</li><li><a href="#TeX-Misc">Misc</a>:          Customization of TeX mode, and related features.

</li></ul>
<p>Editing Formatted Text

</p>
<ul class="menu">
<li><a href="#Requesting-Formatted-Text">Requesting Formatted Text</a>:    Entering and exiting Enriched mode. 
</li><li><a href="#Hard-and-Soft-Newlines">Hard and Soft Newlines</a>:       There are two different kinds of newlines. 
</li><li><a href="#Editing-Format-Info">Editing Format Info</a>:          How to edit text properties. 
</li><li><a href="#Format-Faces">Faces</a>:           Bold, italic, underline, etc. 
</li><li><a href="#Format-Colors">Color</a>:          Changing the color of text. 
</li><li><a href="#Format-Indentation">Indent</a>:    Changing the left and right margins. 
</li><li><a href="#Format-Justification">Justification</a>
                                Centering, setting text flush with the
                                  left or right margin, etc. 
</li><li><a href="#Format-Properties">Other</a>:      The "special" text properties submenu. 
</li><li><a href="#Forcing-Enriched-Mode">Forcing Enriched Mode</a>:        How to force use of Enriched mode.

</li></ul>
<p>Editing Text-based Tables

</p>
<ul class="menu">
<li><a href="#Table-Definition">Table Definition</a>:     What is a text based table. 
</li><li><a href="#Table-Creation">Table Creation</a>:       How to create a table. 
</li><li><a href="#Table-Recognition">Table Recognition</a>:    How to activate and deactivate tables. 
</li><li><a href="#Cell-Commands">Cell Commands</a>:        Cell-oriented commands in a table. 
</li><li><a href="#Cell-Justification">Cell Justification</a>:   Justifying cell contents. 
</li><li><a href="#Row-Commands">Row Commands</a>:         Manipulating rows of table cell. 
</li><li><a href="#Column-Commands">Column Commands</a>:      Manipulating columns of table cell. 
</li><li><a href="#Fixed-Width-Mode">Fixed Width Mode</a>:     Fixing cell width. 
</li><li><a href="#Table-Conversion">Table Conversion</a>:     Converting between plain text and tables. 
</li><li><a href="#Measuring-Tables">Measuring Tables</a>:     Analyzing table dimension. 
</li><li><a href="#Table-Misc">Table Misc</a>:           Table miscellany.

</li></ul>
<p>Editing Programs

</p>
<ul class="menu">
<li><a href="#Program-Modes">Program Modes</a>:        Major modes for editing programs. 
</li><li><a href="#Defuns">Defuns</a>:               Commands to operate on major top-level parts
                          of a program. 
</li><li><a href="#Program-Indent">Program Indent</a>:       Adjusting indentation to show the nesting. 
</li><li><a href="#Parentheses">Parentheses</a>:          Commands that operate on parentheses. 
</li><li><a href="#Comments">Comments</a>: 	        Inserting, killing, and aligning comments. 
</li><li><a href="#Documentation">Documentation</a>:        Getting documentation of functions you plan to call. 
</li><li><a href="#Hideshow">Hideshow</a>:             Displaying blocks selectively. 
</li><li><a href="#Symbol-Completion">Symbol Completion</a>:    Completion on symbol names of your program or language. 
</li><li><a href="#Glasses">Glasses</a>:              Making identifiersLikeThis more readable. 
</li><li><a href="#Misc-for-Programs">Misc for Programs</a>:    Other Emacs features useful for editing programs. 
</li><li><a href="#C-Modes">C Modes</a>:              Special commands of C, C++, Objective-C,
                          Java, and Pike modes. 
</li><li><a href="#Asm-Mode">Asm Mode</a>:             Asm mode and its special features. 
</li><li><a href="#Fortran">Fortran</a>:              Fortran mode and its special features.

</li></ul>
<p>Top-Level Definitions, or Defuns

</p>
<ul class="menu">
<li><a href="#Left-Margin-Paren">Left Margin Paren</a>:    An open-paren or similar opening delimiter
                          starts a defun if it is at the left margin. 
</li><li><a href="#Moving-by-Defuns">Moving by Defuns</a>:     Commands to move over or mark a major definition. 
</li><li><a href="#Imenu">Imenu</a>:                Making buffer indexes as menus. 
</li><li><a href="#Which-Function">Which Function</a>:       Which Function mode shows which function you are in.

</li></ul>
<p>Indentation for Programs

</p>
<ul class="menu">
<li><a href="#Basic-Indent">Basic Indent</a>: 	Indenting a single line. 
</li><li><a href="#Multi_002dline-Indent">Multi-line Indent</a>:    Commands to reindent many lines at once. 
</li><li><a href="#Lisp-Indent">Lisp Indent</a>: 		Specifying how each Lisp function should be indented. 
</li><li><a href="#C-Indent">C Indent</a>: 		Extra features for indenting C and related modes. 
</li><li><a href="#Custom-C-Indent">Custom C Indent</a>: 	Controlling indentation style for C and related modes.

</li></ul>
<p>Commands for Editing with Parentheses

</p>
<ul class="menu">
<li><a href="#Expressions">Expressions</a>:          Expressions with balanced parentheses. 
</li><li><a href="#Moving-by-Parens">Moving by Parens</a>:     Commands for moving up, down and across
                          in the structure of parentheses. 
</li><li><a href="#Matching">Matching</a>: 	        Insertion of a close-delimiter flashes matching open.

</li></ul>
<p>Manipulating Comments

</p>
<ul class="menu">
<li><a href="#Comment-Commands">Comment Commands</a>:     Inserting, killing, and aligning comments. 
</li><li><a href="#Multi_002dLine-Comments">Multi-Line Comments</a>:  Commands for adding and editing multi-line comments. 
</li><li><a href="#Options-for-Comments">Options for Comments</a>: Customizing the comment features.

</li></ul>
<p>Documentation Lookup

</p>
<ul class="menu">
<li><a href="#Info-Lookup">Info Lookup</a>:          Looking up library functions and commands
                          in Info files. 
</li><li><a href="#Man-Page">Man Page</a>:             Looking up man pages of library functions and commands. 
</li><li><a href="#Lisp-Doc">Lisp Doc</a>:             Looking up Emacs Lisp functions, etc.

</li></ul>
<p>C and Related Modes

</p>
<ul class="menu">
<li><a href="#Motion-in-C">Motion in C</a>:          Commands to move by C statements, etc. 
</li><li><a href="#Electric-C">Electric C</a>:           Colon and other chars can automatically reindent. 
</li><li><a href="#Hungry-Delete">Hungry Delete</a>:        A more powerful DEL command. 
</li><li><a href="#Other-C-Commands">Other C Commands</a>:     Filling comments, viewing expansion of macros,
                          and other neat features.

</li></ul>
<p>Compiling and Testing Programs

</p>
<ul class="menu">
<li><a href="#Compilation">Compilation</a>: 		Compiling programs in languages other
			  than Lisp (C, Pascal, etc.). 
</li><li><a href="#Compilation-Mode">Compilation Mode</a>:     The mode for visiting compiler errors. 
</li><li><a href="#Compilation-Shell">Compilation Shell</a>:    Customizing your shell properly
                          for use in the compilation buffer. 
</li><li><a href="#Grep-Searching">Grep Searching</a>:       Searching with grep. 
</li><li><a href="#Flymake">Flymake</a>:              Finding syntax errors on the fly. 
</li><li><a href="#Debuggers">Debuggers</a>: 		Running symbolic debuggers for non-Lisp programs. 
</li><li><a href="#Executing-Lisp">Executing Lisp</a>: 	Various modes for editing Lisp programs,
			  with different facilities for running
			  the Lisp programs. 
</li><li><a href="#Lisp-Libraries">Lisp Libraries</a>:       Creating Lisp programs to run in Emacs. 
</li><li><a href="#Lisp-Eval">Lisp Eval</a>: 		Executing a single Lisp expression in Emacs. 
</li><li><a href="#Lisp-Interaction">Lisp Interaction</a>:     Executing Lisp in an Emacs buffer. 
</li><li><a href="#External-Lisp">External Lisp</a>: 	Communicating through Emacs with a separate Lisp.

</li></ul>
<p>Running Debuggers Under Emacs

</p>
<ul class="menu">
<li><a href="#Starting-GUD">Starting GUD</a>: 	How to start a debugger subprocess. 
</li><li><a href="#Debugger-Operation">Debugger Operation</a>: 	Connection between the debugger and source buffers. 
</li><li><a href="#Commands-of-GUD">Commands of GUD</a>: 	Key bindings for common commands. 
</li><li><a href="#GUD-Customization">GUD Customization</a>: 	Defining your own commands for GUD. 
</li><li><a href="#GDB-Graphical-Interface">GDB Graphical Interface</a>:   An enhanced mode that uses GDB features to
                          implement a graphical debugging environment through
                          Emacs.

</li></ul>
<p>Maintaining Large Programs

</p>
<ul class="menu">
<li><a href="#Change-Log">Change Log</a>: 	        Maintaining a change history for your program. 
</li><li><a href="#Format-of-ChangeLog">Format of ChangeLog</a>:  What the change log file looks like. 
</li><li><a href="#Tags">Tags</a>: 	        Go direct to any function in your program in one
			  command.  Tags remembers which file it is in. 
</li><li><a href="#Emerge">Emerge</a>:               A convenient way of merging two versions of a program.

</li></ul>
<p>Tags Tables

</p>
<ul class="menu">
<li><a href="#Tag-Syntax">Tag Syntax</a>: 		Tag syntax for various types of code and text files. 
</li><li><a href="#Create-Tags-Table">Create Tags Table</a>: 	Creating a tags table with <code>etags</code>. 
</li><li><a href="#Etags-Regexps">Etags Regexps</a>:        Create arbitrary tags using regular expressions. 
</li><li><a href="#Select-Tags-Table">Select Tags Table</a>: 	How to visit a tags table. 
</li><li><a href="#Find-Tag">Find Tag</a>: 		Commands to find the definition of a specific tag. 
</li><li><a href="#Tags-Search">Tags Search</a>: 		Using a tags table for searching and replacing. 
</li><li><a href="#List-Tags">List Tags</a>: 		Listing and finding tags defined in a file.

</li></ul>
<p>Abbrevs

</p>
<ul class="menu">
<li><a href="#Abbrev-Concepts">Abbrev Concepts</a>:      Fundamentals of defined abbrevs. 
</li><li><a href="#Defining-Abbrevs">Defining Abbrevs</a>:     Defining an abbrev, so it will expand when typed. 
</li><li><a href="#Expanding-Abbrevs">Expanding Abbrevs</a>:    Controlling expansion: prefixes, canceling expansion. 
</li><li><a href="#Editing-Abbrevs">Editing Abbrevs</a>:      Viewing or editing the entire list of defined abbrevs. 
</li><li><a href="#Saving-Abbrevs">Saving Abbrevs</a>:       Saving the entire list of abbrevs for another session. 
</li><li><a href="#Dynamic-Abbrevs">Dynamic Abbrevs</a>:      Abbreviations for words already in the buffer. 
</li><li><a href="#Dabbrev-Customization">Dabbrev Customization</a>:  What is a word, for dynamic abbrevs.  Case handling.

</li></ul>
<p>Editing Pictures

</p>
<ul class="menu">
<li><a href="#Basic-Picture">Basic Picture</a>:          Basic concepts and simple commands of Picture Mode. 
</li><li><a href="#Insert-in-Picture">Insert in Picture</a>:      Controlling direction of cursor motion
                            after "self-inserting" characters. 
</li><li><a href="#Tabs-in-Picture">Tabs in Picture</a>:        Various features for tab stops and indentation. 
</li><li><a href="#Rectangles-in-Picture">Rectangles in Picture</a>:  Clearing and superimposing rectangles.

</li></ul>
<p>Sending Mail

</p>
<ul class="menu">
<li><a href="#Mail-Format">Mail Format</a>:  	Format of the mail being composed. 
</li><li><a href="#Mail-Headers">Mail Headers</a>:         Details of permitted mail header fields. 
</li><li><a href="#Mail-Aliases">Mail Aliases</a>:         Abbreviating and grouping mail addresses. 
</li><li><a href="#Mail-Mode">Mail Mode</a>:    	Special commands for editing mail being composed. 
</li><li><a href="#Mail-Amusements">Mail Amusements</a>:      Distract the NSA's attention; add a fortune to a msg. 
</li><li><a href="#Mail-Methods">Mail Methods</a>:         Using alternative mail-composition methods.

</li></ul>
<p>Reading Mail with Rmail

</p>
<ul class="menu">
<li><a href="#Rmail-Basics">Rmail Basics</a>:         Basic concepts of Rmail, and simple use. 
</li><li><a href="#Rmail-Scrolling">Rmail Scrolling</a>:      Scrolling through a message. 
</li><li><a href="#Rmail-Motion">Rmail Motion</a>:         Moving to another message. 
</li><li><a href="#Rmail-Deletion">Rmail Deletion</a>:       Deleting and expunging messages. 
</li><li><a href="#Rmail-Inbox">Rmail Inbox</a>:          How mail gets into the Rmail file. 
</li><li><a href="#Rmail-Files">Rmail Files</a>:          Using multiple Rmail files. 
</li><li><a href="#Rmail-Output">Rmail Output</a>:         Copying message out to files. 
</li><li><a href="#Rmail-Labels">Rmail Labels</a>:         Classifying messages by labeling them. 
</li><li><a href="#Rmail-Attributes">Rmail Attributes</a>:     Certain standard labels, called attributes. 
</li><li><a href="#Rmail-Reply">Rmail Reply</a>:          Sending replies to messages you are viewing. 
</li><li><a href="#Rmail-Summary">Rmail Summary</a>:        Summaries show brief info on many messages. 
</li><li><a href="#Rmail-Sorting">Rmail Sorting</a>:        Sorting messages in Rmail. 
</li><li><a href="#Rmail-Display">Rmail Display</a>:        How Rmail displays a message; customization. 
</li><li><a href="#Rmail-Coding">Rmail Coding</a>:         How Rmail handles decoding character sets. 
</li><li><a href="#Rmail-Editing">Rmail Editing</a>:        Editing message text and headers in Rmail. 
</li><li><a href="#Rmail-Digest">Rmail Digest</a>:         Extracting the messages from a digest message. 
</li><li><a href="#Out-of-Rmail">Out of Rmail</a>: 	Converting an Rmail file to mailbox format. 
</li><li><a href="#Rmail-Rot13">Rmail Rot13</a>:          Reading messages encoded in the rot13 code. 
</li><li><a href="#Movemail">Movemail</a>:             More details of fetching new mail. 
</li><li><a href="#Remote-Mailboxes">Remote Mailboxes</a>:     Retrieving Mail from Remote Mailboxes. 
</li><li><a href="#Other-Mailbox-Formats">Other Mailbox Formats</a>:  Retrieving Mail from Local Mailboxes in
                          Various Formats

</li></ul>
<p>Dired, the Directory Editor

</p>
<ul class="menu">
<li><a href="#Dired-Enter">Dired Enter</a>:  	     How to invoke Dired. 
</li><li><a href="#Dired-Navigation">Dired Navigation</a>:          How to move in the Dired buffer. 
</li><li><a href="#Dired-Deletion">Dired Deletion</a>:            Deleting files with Dired. 
</li><li><a href="#Flagging-Many-Files">Flagging Many Files</a>:       Flagging files based on their names. 
</li><li><a href="#Dired-Visiting">Dired Visiting</a>:            Other file operations through Dired. 
</li><li><a href="#Marks-vs-Flags">Marks vs Flags</a>: 	     Flagging for deletion vs marking. 
</li><li><a href="#Operating-on-Files">Operating on Files</a>: 	     How to copy, rename, print, compress, etc. 
			       either one file or several files. 
</li><li><a href="#Shell-Commands-in-Dired">Shell Commands in Dired</a>:   Running a shell command on the marked files. 
</li><li><a href="#Transforming-File-Names">Transforming File Names</a>:   Using patterns to rename multiple files. 
</li><li><a href="#Comparison-in-Dired">Comparison in Dired</a>: 	     Running `diff' by way of Dired. 
</li><li><a href="#Subdirectories-in-Dired">Subdirectories in Dired</a>:   Adding subdirectories to the Dired buffer. 
</li><li><a href="#Subdir-Switches">Subdir Switches</a>:           Subdirectory switches in Dired. 
</li><li><a href="#Subdirectory-Motion">Subdirectory Motion</a>: 	     Moving across subdirectories, and up and down. 
</li><li><a href="#Hiding-Subdirectories">Hiding Subdirectories</a>:     Making subdirectories visible or invisible. 
</li><li><a href="#Dired-Updating">Dired Updating</a>:            Discarding lines for files of no interest. 
</li><li><a href="#Dired-and-Find">Dired and Find</a>: 	     Using `find' to choose the files for Dired. 
</li><li><a href="#Wdired">Wdired</a>:                    Operating on files by editing the Dired buffer. 
</li><li><a href="#Image_002dDired">Image-Dired</a>:               Viewing image thumbnails in Dired
</li><li><a href="#Misc-Dired-Features">Misc Dired Features</a>:       Various other features.

</li></ul>
<p>The Calendar and the Diary

</p>
<ul class="menu">
<li><a href="#Calendar-Motion">Calendar Motion</a>:      Moving through the calendar; selecting a date. 
</li><li><a href="#Scroll-Calendar">Scroll Calendar</a>:      Bringing earlier or later months onto the screen. 
</li><li><a href="#Counting-Days">Counting Days</a>:        How many days are there between two dates? 
</li><li><a href="#General-Calendar">General Calendar</a>:     Exiting or recomputing the calendar. 
</li><li><a href="#Writing-Calendar-Files">Writing Calendar Files</a>:  Writing calendars to files of various formats. 
</li><li><a href="#Holidays">Holidays</a>:             Displaying dates of holidays. 
</li><li><a href="#Sunrise_002fSunset">Sunrise/Sunset</a>:       Displaying local times of sunrise and sunset. 
</li><li><a href="#Lunar-Phases">Lunar Phases</a>:         Displaying phases of the moon. 
</li><li><a href="#Other-Calendars">Other Calendars</a>:      Converting dates to other calendar systems. 
</li><li><a href="#Diary">Diary</a>:                Displaying events from your diary. 
</li><li><a href="#Appointments">Appointments</a>: 	Reminders when it's time to do something. 
</li><li><a href="#Importing-Diary">Importing Diary</a>:      Converting diary events to/from other formats. 
</li><li><a href="#Daylight-Saving">Daylight Saving</a>:     How to specify when daylight saving time is active. 
</li><li><a href="#Time-Intervals">Time Intervals</a>:       Keeping track of time intervals. 
</li><li><a href="#Advanced-Calendar_002fDiary-Usage">Advanced Calendar/Diary Usage</a>:  Advanced Calendar/Diary customization.

</li></ul>
<p>Movement in the Calendar

</p>
<ul class="menu">
<li><a href="#Calendar-Unit-Motion">Calendar Unit Motion</a>:       Moving by days, weeks, months, and years. 
</li><li><a href="#Move-to-Beginning-or-End">Move to Beginning or End</a>:   Moving to start/end of weeks, months, and years. 
</li><li><a href="#Specified-Dates">Specified Dates</a>: 	      Moving to the current date or another
				specific date.

</li></ul>
<p>Conversion To and From Other Calendars

</p>
<ul class="menu">
<li><a href="#Calendar-Systems">Calendar Systems</a>: 	   The calendars Emacs understands
			     (aside from Gregorian). 
</li><li><a href="#To-Other-Calendar">To Other Calendar</a>: 	   Converting the selected date to various calendars. 
</li><li><a href="#From-Other-Calendar">From Other Calendar</a>: 	   Moving to a date specified in another calendar. 
</li><li><a href="#Mayan-Calendar">Mayan Calendar</a>: 	   Moving to a date specified in a Mayan calendar.

</li></ul>
<p>The Diary

</p>
<ul class="menu">
<li><a href="#Displaying-the-Diary">Displaying the Diary</a>:    Viewing diary entries and associated calendar dates. 
</li><li><a href="#Format-of-Diary-File">Format of Diary File</a>:    Entering events in your diary. 
</li><li><a href="#Date-Formats">Date Formats</a>: 	   Various ways you can specify dates. 
</li><li><a href="#Adding-to-Diary">Adding to Diary</a>: 	   Commands to create diary entries. 
</li><li><a href="#Special-Diary-Entries">Special Diary Entries</a>:   Anniversaries, blocks of dates, cyclic entries, etc.

</li></ul>
<p>Gnus

</p>
<ul class="menu">
<li><a href="#Buffers-of-Gnus">Buffers of Gnus</a>: 	The group, summary, and article buffers. 
</li><li><a href="#Gnus-Startup">Gnus Startup</a>: 	What you should know about starting Gnus. 
</li><li><a href="#Summary-of-Gnus">Summary of Gnus</a>: 	A short description of the basic Gnus commands.

</li></ul>
<p>Running Shell Commands from Emacs

</p>
<ul class="menu">
<li><a href="#Single-Shell">Single Shell</a>: 	How to run one shell command and return. 
</li><li><a href="#Interactive-Shell">Interactive Shell</a>: 	Permanent shell taking input via Emacs. 
</li><li><a href="#Shell-Mode">Shell Mode</a>: 		Special Emacs commands used with permanent shell. 
</li><li><a href="#Shell-Prompts">Shell Prompts</a>:        Two ways to recognize shell prompts. 
</li><li><a href="#Shell-History">Shell History</a>:        Repeating previous commands in a shell buffer. 
</li><li><a href="#Directory-Tracking">Directory Tracking</a>:   Keeping track when the subshell changes directory. 
</li><li><a href="#Shell-Options">Shell Options</a>:        Options for customizing Shell mode. 
</li><li><a href="#Terminal-emulator">Terminal emulator</a>:    An Emacs window as a terminal emulator. 
</li><li><a href="#Term-Mode">Term Mode</a>:            Special Emacs commands used in Term mode. 
</li><li><a href="#Paging-in-Term">Paging in Term</a>:       Paging in the terminal emulator. 
</li><li><a href="#Remote-Host">Remote Host</a>: 		Connecting to another computer.

</li></ul>
<p>Using Emacs as a Server

</p>
<ul class="menu">
<li><a href="#Invoking-emacsclient">Invoking emacsclient</a>:  Emacs client startup options.

</li></ul>
<p>Printing Hard Copies

</p>
<ul class="menu">
<li><a href="#PostScript">PostScript</a>: 	         Printing buffers or regions as PostScript. 
</li><li><a href="#PostScript-Variables">PostScript Variables</a>:  Customizing the PostScript printing commands. 
</li><li><a href="#Printing-Package">Printing Package</a>:      An optional advanced printing interface.

</li></ul>
<p>Hyperlinking and Navigation Features

</p>
<ul class="menu">
<li><a href="#Browse_002dURL">Browse-URL</a>:           Following URLs. 
</li><li><a href="#Goto_002daddress">Goto-address</a>:         Activating URLs. 
</li><li><a href="#FFAP">FFAP</a>:                 Finding files etc. at point.

</li></ul>
<p>Customization

</p>
<ul class="menu">
<li><a href="#Minor-Modes">Minor Modes</a>: 		Each minor mode is one feature you can turn on
			  independently of any others. 
</li><li><a href="#Easy-Customization">Easy Customization</a>:   Convenient way to browse and change user options. 
</li><li><a href="#Variables">Variables</a>: 		Many Emacs commands examine Emacs variables
			  to decide what to do; by setting variables,
			  you can control their functioning. 
</li><li><a href="#Key-Bindings">Key Bindings</a>: 	The keymaps say what command each key runs. 
			  By changing them, you can "redefine keys". 
</li><li><a href="#Syntax">Syntax</a>: 		The syntax table controls how words and
			  expressions are parsed. 
</li><li><a href="#Init-File">Init File</a>: 		How to write common customizations in the
			  <samp><span class="file">.emacs</span></samp> file.

</li></ul>
<p>Variables

</p>
<ul class="menu">
<li><a href="#Examining">Examining</a>: 	        Examining or setting one variable's value. 
</li><li><a href="#Hooks">Hooks</a>: 	        Hook variables let you specify programs for parts
		          of Emacs to run on particular occasions. 
</li><li><a href="#Locals">Locals</a>: 	        Per-buffer values of variables. 
</li><li><a href="#File-Variables">File Variables</a>:       How files can specify variable values.

</li></ul>
<p>Customizing Key Bindings

</p>
<ul class="menu">
<li><a href="#Keymaps">Keymaps</a>:              Generalities.  The global keymap. 
</li><li><a href="#Prefix-Keymaps">Prefix Keymaps</a>:       Keymaps for prefix keys. 
</li><li><a href="#Local-Keymaps">Local Keymaps</a>:        Major and minor modes have their own keymaps. 
</li><li><a href="#Minibuffer-Maps">Minibuffer Maps</a>:      The minibuffer uses its own local keymaps. 
</li><li><a href="#Rebinding">Rebinding</a>:            How to redefine one key's meaning conveniently. 
</li><li><a href="#Init-Rebinding">Init Rebinding</a>:       Rebinding keys with your init file, <samp><span class="file">.emacs</span></samp>. 
</li><li><a href="#Function-Keys">Function Keys</a>:        Rebinding terminal function keys. 
</li><li><a href="#Named-ASCII-Chars">Named ASCII Chars</a>:    Distinguishing &lt;TAB&gt; from <kbd>C-i</kbd>, and so on. 
</li><li><a href="#Mouse-Buttons">Mouse Buttons</a>:        Rebinding mouse buttons in Emacs. 
</li><li><a href="#Disabling">Disabling</a>:            Disabling a command means confirmation is required
                          before it can be executed.  This is done to protect
                          beginners from surprises.

</li></ul>
<p>The Init File, <samp><span class="file">~/.emacs</span></samp>

</p>
<ul class="menu">
<li><a href="#Init-Syntax">Init Syntax</a>: 	        Syntax of constants in Emacs Lisp. 
</li><li><a href="#Init-Examples">Init Examples</a>:        How to do some things with an init file. 
</li><li><a href="#Terminal-Init">Terminal Init</a>:        Each terminal type can have an init file. 
</li><li><a href="#Find-Init">Find Init</a>: 	        How Emacs finds the init file. 
</li><li><a href="#Init-Non_002dASCII">Init Non-ASCII</a>:       Using non-<acronym>ASCII</acronym> characters in an init file.

</li></ul>
<p>Dealing with Emacs Trouble

</p>
<ul class="menu">
<li><a href="#DEL-Does-Not-Delete">DEL Does Not Delete</a>:  What to do if &lt;DEL&gt; doesn't delete. 
</li><li><a href="#Stuck-Recursive">Stuck Recursive</a>:      `[...]' in mode line around the parentheses. 
</li><li><a href="#Screen-Garbled">Screen Garbled</a>:       Garbage on the screen. 
</li><li><a href="#Text-Garbled">Text Garbled</a>:         Garbage in the text. 
</li><li><a href="#Memory-Full">Memory Full</a>:          How to cope when you run out of memory. 
</li><li><a href="#After-a-Crash">After a Crash</a>:        Recovering editing in an Emacs session that crashed. 
</li><li><a href="#Emergency-Escape">Emergency Escape</a>:     Emergency escape---
                          What to do if Emacs stops responding. 
</li><li><a href="#Total-Frustration">Total Frustration</a>:    When you are at your wits' end.

</li></ul>
<p>Reporting Bugs

</p>
<ul class="menu">
<li><a href="#Bug-Criteria">Bug Criteria</a>:         Have you really found a bug? 
</li><li><a href="#Understanding-Bug-Reporting">Understanding Bug Reporting</a>: 	How to report a bug effectively. 
</li><li><a href="#Checklist">Checklist</a>: 		Steps to follow for a good bug report. 
</li><li><a href="#Sending-Patches">Sending Patches</a>: 	How to send a patch for GNU Emacs.

</li></ul>
<p>Command Line Arguments for Emacs Invocation

</p>
<ul class="menu">
<li><a href="#Action-Arguments">Action Arguments</a>: 	Arguments to visit files, load libraries,
			  and call functions. 
</li><li><a href="#Initial-Options">Initial Options</a>:      Arguments that take effect while starting Emacs. 
</li><li><a href="#Command-Example">Command Example</a>:      Examples of using command line arguments. 
</li><li><a href="#Resume-Arguments">Resume Arguments</a>: 	Specifying arguments when you resume a running Emacs. 
</li><li><a href="#Environment">Environment</a>:          Environment variables that Emacs uses. 
</li><li><a href="#Display-X">Display X</a>:            Changing the default display and using remote login. 
</li><li><a href="#Font-X">Font X</a>: 	        Choosing a font for text, under X. 
</li><li><a href="#Colors">Colors</a>: 	        Choosing display colors. 
</li><li><a href="#Window-Size-X">Window Size X</a>:        Start-up window size, under X. 
</li><li><a href="#Borders-X">Borders X</a>: 	        Internal and external borders, under X. 
</li><li><a href="#Title-X">Title X</a>:              Specifying the initial frame's title. 
</li><li><a href="#Icons-X">Icons X</a>:              Choosing what sort of icon to use, under X. 
</li><li><a href="#Misc-X">Misc X</a>:               Other display options.

</li></ul>
<p>Environment Variables

</p>
<ul class="menu">
<li><a href="#General-Variables">General Variables</a>: 	Environment variables that all versions of Emacs use. 
</li><li><a href="#Misc-Variables">Misc Variables</a>: 	Certain system specific variables. 
</li><li><a href="#MS_002dWindows-Registry">MS-Windows Registry</a>:  An alternative to the environment on MS-Windows.

</li></ul>
<p>X Options and Resources

</p>
<ul class="menu">
<li><a href="#Resources">Resources</a>:            Using X resources with Emacs (in general). 
</li><li><a href="#Table-of-Resources">Table of Resources</a>:   Table of specific X resources that affect Emacs. 
</li><li><a href="#Face-Resources">Face Resources</a>:       X resources for customizing faces. 
</li><li><a href="#Lucid-Resources">Lucid Resources</a>:      X resources for Lucid menus. 
</li><li><a href="#LessTif-Resources">LessTif Resources</a>:    X resources for LessTif and Motif menus. 
</li><li><a href="#GTK-resources">GTK resources</a>:        Resources for GTK widgets.

</li></ul>
<p>Emacs and Mac OS

</p>
<ul class="menu">
<li><a href="#Mac-Input">Mac Input</a>:            Keyboard and mouse input on Mac. 
</li><li><a href="#Mac-International">Mac International</a>:    International character sets on Mac. 
</li><li><a href="#Mac-Environment-Variables">Mac Environment Variables</a>:   Setting environment variables for Emacs. 
</li><li><a href="#Mac-Directories">Mac Directories</a>:      Volumes and directories on Mac. 
</li><li><a href="#Mac-Font-Specs">Mac Font Specs</a>:       Specifying fonts on Mac. 
</li><li><a href="#Mac-Functions">Mac Functions</a>:        Mac-specific Lisp functions.

</li></ul>
<p>Emacs and Microsoft Windows/MS-DOS

</p>
<ul class="menu">
<li><a href="#Text-and-Binary">Text and Binary</a>:      Text files use CRLF to terminate lines. 
</li><li><a href="#Windows-Files">Windows Files</a>:        File-name conventions on Windows. 
</li><li><a href="#ls-in-Lisp">ls in Lisp</a>:           Emulation of <code>ls</code> for Dired. 
</li><li><a href="#Windows-HOME">Windows HOME</a>:         Where Emacs looks for your <samp><span class="file">.emacs</span></samp>. 
</li><li><a href="#Windows-Keyboard">Windows Keyboard</a>:     Windows-specific keyboard features. 
</li><li><a href="#Windows-Mouse">Windows Mouse</a>:        Windows-specific mouse features. 
</li><li><a href="#Windows-Processes">Windows Processes</a>:    Running subprocesses on Windows. 
</li><li><a href="#Windows-Printing">Windows Printing</a>:     How to specify the printer on MS-Windows. 
</li><li><a href="#Windows-Misc">Windows Misc</a>:         Miscellaneous Windows features. 
</li><li><a href="#MS_002dDOS">MS-DOS</a>:               Using Emacs on MS-DOS (otherwise known as <dfn>MS-DOG</dfn>). 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Distrib"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Intro">Intro</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Distribution</h2>

<p>GNU Emacs is <dfn>free software</dfn>; this means that everyone is free to
use it and free to redistribute it on certain conditions.  GNU Emacs
is not in the public domain; it is copyrighted and there are
restrictions on its distribution, but these restrictions are designed
to permit everything that a good cooperating citizen would want to do. 
What is not allowed is to try to prevent others from further sharing
any version of GNU Emacs that they might get from you.  The precise
conditions are found in the GNU General Public License that comes with
Emacs and also appears in this manual<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>. 
See <a href="#Copying">Copying</a>.

   </p><p>One way to get a copy of GNU Emacs is from someone else who has it. 
You need not ask for our permission to do so, or tell any one else;
just copy it.  If you have access to the Internet, you can get the
latest distribution version of GNU Emacs by anonymous FTP; see
<a href="http://www.gnu.org/software/emacs">http://www.gnu.org/software/emacs</a> on our website for more
information.

   </p><p>You may also receive GNU Emacs when you buy a computer.  Computer
manufacturers are free to distribute copies on the same terms that apply to
everyone else.  These terms require them to give you the full sources,
including whatever changes they may have made, and to permit you to
redistribute the GNU Emacs received from them under the usual terms of the
General Public License.  In other words, the program must be free for you
when you get it, not just free for the manufacturer.

   </p><p>You can also order copies of GNU Emacs from the Free Software
Foundation.  This is a convenient and reliable way to get a copy; it is
also a good way to help fund our work.  We also sell hardcopy versions
of this manual and <cite>An Introduction to Programming in Emacs Lisp</cite>,
by Robert J. Chassell.  You can find an order form on our web site at
<a href="http://www.gnu.org/order/order.html">http://www.gnu.org/order/order.html</a>.  For further information,
write to

</p><pre class="display">     Free Software Foundation
     51 Franklin Street, Fifth Floor
     Boston, MA 02110-1301
     USA
</pre>
   <p>The income from distribution fees goes to support the foundation's
purpose: the development of new free software, and improvements to our
existing programs including GNU Emacs.

   </p><p>If you find GNU Emacs useful, please <strong>send a donation</strong> to the
Free Software Foundation to support our work.  Donations to the Free
Software Foundation are tax deductible in the US.  If you use GNU Emacs
at your workplace, please suggest that the company make a donation.  If
company policy is unsympathetic to the idea of donating to charity, you
might instead suggest ordering a CD-ROM from the Foundation
occasionally, or subscribing to periodic updates.

</p><div class="node">
<p></p><hr>
<a name="Intro"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Glossary">Glossary</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Distrib">Distrib</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Introduction</h2>

<p>You are reading about GNU Emacs, the GNU incarnation of the
advanced, self-documenting, customizable, extensible editor Emacs. 
(The `G' in `GNU' is not silent.)

   </p><p>We call Emacs advanced because it provides much more than simple
insertion and deletion.  It can control subprocesses, indent programs
automatically, show two or more files at once, and edit formatted
text.  Emacs editing commands operate in terms of characters, words,
lines, sentences, paragraphs, and pages, as well as expressions and
comments in various programming languages.

   </p><p><dfn>Self-documenting</dfn> means that at any time you can type a special
character, <kbd>Control-h</kbd>, to find out what your options are.  You can
also use it to find out what any command does, or to find all the commands
that pertain to a topic.  See <a href="#Help">Help</a>.

   </p><p><dfn>Customizable</dfn> means that you can alter Emacs commands' behavior
in simple ways.  For example, if you use a programming language in
which comments start with `<samp><span class="samp">&lt;**</span></samp>' and end with `<samp><span class="samp">**&gt;</span></samp>', you can
tell the Emacs comment manipulation commands to use those strings
(see <a href="#Comments">Comments</a>).  Another sort of customization is rearrangement of
the command set.  For example, you can rebind the basic cursor motion
commands (up, down, left and right) to any keys on the keyboard that
you find comfortable.  See <a href="#Customization">Customization</a>.

   </p><p><dfn>Extensible</dfn> means that you can go beyond simple customization
and write entirely new commands&#8212;programs in the Lisp language to be
run by Emacs's own Lisp interpreter.  Emacs is an &#8220;on-line
extensible&#8221; system, which means that it is divided into many
functions that call each other, any of which can be redefined in the
middle of an editing session.  Almost any part of Emacs can be
replaced without making a separate copy of all of Emacs.  Most of the
editing commands of Emacs are written in Lisp; the few exceptions
could have been written in Lisp but use C instead for efficiency. 
Writing an extension is programming, but non-programmers can use it
afterwards.  See <a href="http://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Top">Emacs Lisp Intro</a>, if you want to learn Emacs
Lisp programming.

   </p><p>When running on a graphical display, Emacs provides its own menus
and convenient handling of mouse buttons.  In addition, Emacs provides
many of the benefits of a graphical display even on a text-only
terminal.  For instance, it can highlight parts of a file, display and
edit several files at once, move text between files, and edit files
while running shell commands.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2001, 2002, -->
<!-- 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Screen"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#User-Input">User Input</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Acknowledgments">Acknowledgments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 The Organization of the Screen</h2>

<p><a name="index-screen-1"></a><a name="index-parts-of-the-screen-2"></a>
  On a text-only terminal, the Emacs display occupies the whole
screen.  On a graphical display, such as on GNU/Linux using the X
Window System, Emacs creates its own windows to use.  We use the term
<dfn>frame</dfn> to mean the entire text-only screen or an entire
system-level window used by Emacs.  Emacs uses both kinds of frames,
in the same way, to display your editing.  Emacs normally starts out
with just one frame, but you can create additional frames if you wish. 
See <a href="#Frames">Frames</a>.

   </p><p>When you start Emacs, the main central area of the frame, all except
for the top and bottom and sides, displays the text you are editing. 
This area is called <dfn>the window</dfn>.  At the top there is normally a
<dfn>menu bar</dfn> where you can access a series of menus; then there may
be a <dfn>tool bar</dfn>, a row of icons that perform editing commands if
you click on them.  Below this, the window begins, often with a
<dfn>scroll bar</dfn> on one side.  Below the window comes the last line of
the frame, a special <dfn>echo area</dfn> or <dfn>minibuffer window</dfn>, where
prompts appear and you enter information when Emacs asks for it.  See
following sections for more information about these special lines.

   </p><p>You can subdivide the window horizontally or vertically to make
multiple text windows, each of which can independently display some
file or text (see <a href="#Windows">Windows</a>).  In this manual, the word &#8220;window&#8221;
refers to the initial large window if not subdivided, or any one of
the multiple windows you have subdivided it into.

   </p><p>At any time, one window is the <dfn>selected window</dfn>.  On graphical
displays, the selected window normally shows a more prominent cursor
(usually solid and blinking) while other windows show a weaker cursor
(such as a hollow box).   Text terminals have just one cursor, so it
always appears in the selected window.

   </p><p>Most Emacs commands implicitly apply to the text in the selected
window; the text in unselected windows is mostly visible for
reference.  However, mouse commands generally operate on whatever
window you click them in, whether selected or not.  If you use
multiple frames on a graphical display, then giving the input focus to
a particular frame selects a window in that frame.

   </p><p>Each window's last line is a <dfn>mode line</dfn>, which describes what
is going on in that window.  It appears in different color and/or a &#8220;3D&#8221;
box if the terminal supports them; its contents normally begin with
`<samp><span class="samp">--:--&nbsp;&nbsp;*scratch*</span></samp>'<!-- /@w --> when Emacs starts.  The mode line
displays status information such as what buffer is being displayed
above it in the window, what major and minor modes are in use, and
whether the buffer contains unsaved changes.

</p><ul class="menu">
<li><a accesskey="1" href="#Point">Point</a>: 	        The place in the text where editing commands operate. 
</li><li><a accesskey="2" href="#Echo-Area">Echo Area</a>:            Short messages appear at the bottom of the screen. 
</li><li><a accesskey="3" href="#Mode-Line">Mode Line</a>: 	        Interpreting the mode line. 
</li><li><a accesskey="4" href="#Menu-Bar">Menu Bar</a>:             How to use the menu bar. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Point"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Echo-Area">Echo Area</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Screen">Screen</a>

</div>

<h3 class="section">1.1 Point</h3>

<p><a name="index-point-3"></a><a name="index-cursor-4"></a>
  Within Emacs, the active cursor shows the location at which
editing commands will take effect.  This location is called <dfn>point</dfn>. 
Many Emacs commands move point through the text, so that you can edit at
different places in it.  You can also place point by clicking mouse
button 1 (normally the left button).

   </p><p>While the cursor appears to be <em>on</em> a character, you should
think of point as <em>between</em> two characters; it points <em>before</em>
the character that appears under the cursor.  For example, if your text
looks like `<samp><span class="samp">frob</span></samp>' with the cursor over the `<samp><span class="samp">b</span></samp>', then point is
between the `<samp><span class="samp">o</span></samp>' and the `<samp><span class="samp">b</span></samp>'.  If you insert the character
`<samp><span class="samp">!</span></samp>' at that position, the result is `<samp><span class="samp">fro!b</span></samp>', with point
between the `<samp><span class="samp">!</span></samp>' and the `<samp><span class="samp">b</span></samp>'.  Thus, the cursor remains over
the `<samp><span class="samp">b</span></samp>', as before.

   </p><p>Sometimes people speak of &#8220;the cursor&#8221; when they mean &#8220;point,&#8221; or
speak of commands that move point as &#8220;cursor motion&#8221; commands.

   </p><p>If you are editing several files in Emacs, each in its own buffer,
each buffer has its own point location.  A buffer that is not
currently displayed remembers its point location in case you display
it again later.  When Emacs displays multiple windows, each window has
its own point location.  If the same buffer appears in more than one
window, each window has its own point position in that buffer, and (when
possible) its own cursor.

   </p><p>A text-only terminal has just one cursor, in the selected window. 
The other windows do not show a cursor, even though they do have their
own position of point.  When Emacs updates the screen on a text-only
terminal, it has to put the cursor temporarily at the place the output
goes.  This doesn't mean point is there, though.  Once display
updating finishes, Emacs puts the cursor where point is.

   </p><p>On graphical displays, Emacs shows a cursor in each window; the
selected window's cursor is solid and blinking, and the other cursors
are just hollow.  Thus, the most prominent cursor always shows you the
selected window, on all kinds of terminals.

   </p><p>See <a href="#Cursor-Display">Cursor Display</a>, for customizable variables that control display
of the cursor or cursors.

   </p><p>The term &#8220;point&#8221; comes from the character `<samp><span class="samp">.</span></samp>', which was the
command in TECO (the language in which the original Emacs was written)
for accessing the value now called &#8220;point.&#8221;

</p><div class="node">
<p></p><hr>
<a name="Echo-Area"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Mode-Line">Mode Line</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point">Point</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Screen">Screen</a>

</div>

<h3 class="section">1.2 The Echo Area</h3>

<p><a name="index-echo-area-5"></a>
  The line at the bottom of the frame (below the mode line) is the
<dfn>echo area</dfn>.  It is used to display small amounts of text for
various purposes.

   </p><p><dfn>Echoing</dfn> means displaying the characters that you type.  At the
command line, the operating system normally echoes all your input. 
Emacs handles echoing differently.

   </p><p>Single-character commands do not echo in Emacs, and multi-character
commands echo only if you pause while typing them.  As soon as you pause
for more than a second in the middle of a command, Emacs echoes all the
characters of the command so far.  This is to <dfn>prompt</dfn> you for the
rest of the command.  Once echoing has started, the rest of the command
echoes immediately as you type it.  This behavior is designed to give
confident users fast response, while giving hesitant users maximum
feedback.  You can change this behavior by setting a variable
(see <a href="#Display-Custom">Display Custom</a>).

   </p><p><a name="index-error-message-in-the-echo-area-6"></a>  If a command cannot do its job, it may display an <dfn>error
message</dfn> in the echo area.  Error messages are accompanied by beeping
or by flashing the screen.  The error also discards any input you have
typed ahead.

   </p><p>Some commands display informative messages in the echo area.  These
messages look much like error messages, but they are not announced
with a beep and do not throw away input.  Sometimes the message tells
you what the command has done, when this is not obvious from looking
at the text being edited.  Sometimes the sole purpose of a command is
to show you a message giving you specific information&#8212;for example,
<kbd>C-x =</kbd> (hold down &lt;CTRL&gt; and type <kbd>x</kbd>, then let go of
&lt;CTRL&gt; and type <kbd>=</kbd>) displays a message describing the
character position of point in the text and its current column in the
window.  Commands that take a long time often display messages ending
in `<samp><span class="samp">...</span></samp>' while they are working, and add `<samp><span class="samp">done</span></samp>' at the end
when they are finished.  They may also indicate progress with
percentages.

   </p><p><a name="index-g_t_0040samp_007b_002aMessages_002a_007d-buffer-7"></a><a name="index-saved-echo-area-messages-8"></a><a name="index-messages-saved-from-echo-area-9"></a>  Echo-area informative messages are saved in an editor buffer named
`<samp><span class="samp">*Messages*</span></samp>'.  (We have not explained buffers yet; see
<a href="#Buffers">Buffers</a>, for more information about them.)  If you miss a message
that appears briefly on the screen, you can switch to the
`<samp><span class="samp">*Messages*</span></samp>' buffer to see it again.  (Successive progress messages
are often collapsed into one in that buffer.)

   </p><p><a name="index-message_002dlog_002dmax-10"></a>  The size of `<samp><span class="samp">*Messages*</span></samp>' is limited to a certain number of
lines.  The variable <code>message-log-max</code> specifies how many lines. 
Once the buffer has that many lines, adding lines at the end deletes lines
from the beginning, to keep the size constant.  See <a href="#Variables">Variables</a>, for
how to set variables such as <code>message-log-max</code>.

   </p><p>The echo area is also used to display the <dfn>minibuffer</dfn>, a window
where you can input arguments to commands, such as the name of a file
to be edited.  When the minibuffer is in use, the echo area begins
with a prompt string that usually ends with a colon; also, the cursor
appears in that line because it is the selected window.  You can
always get out of the minibuffer by typing <kbd>C-g</kbd>. 
See <a href="#Minibuffer">Minibuffer</a>.

</p><div class="node">
<p></p><hr>
<a name="Mode-Line"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Menu-Bar">Menu Bar</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Echo-Area">Echo Area</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Screen">Screen</a>

</div>

<h3 class="section">1.3 The Mode Line</h3>

<p><a name="index-mode-line-11"></a><a name="index-top-level-12"></a>
  Each text window's last line is a <dfn>mode line</dfn>, which describes
what is going on in that window.  The mode line starts and ends with
dashes.  When there is only one text window, the mode line appears
right above the echo area; it is the next-to-last line in the frame. 
On a text-only terminal, the mode line is in inverse video if the
terminal supports that; on a graphics display, the mode line has a 3D
box appearance to help it stand out.  The mode line of the selected
window is highlighted if possible; see <a href="#Optional-Mode-Line">Optional Mode Line</a>, for
more information.

   </p><p>Normally, the mode line looks like this:

</p><pre class="example">     -<var>cs</var>:<var>ch</var>-<var>fr</var>  <var>buf</var>      <var>pos</var> <var>line</var>   (<var>major</var> <var>minor</var>)------
</pre>
   <p class="noindent">This gives information about the window and the buffer it displays: the
buffer's name, what major and minor modes are in use, whether the
buffer's text has been changed, and how far down the buffer you are
currently looking.

   </p><p><var>ch</var> contains two stars `<samp><span class="samp">**</span></samp>' if the text in the buffer has
been edited (the buffer is &#8220;modified&#8221;), or `<samp><span class="samp">--</span></samp>' if the buffer has
not been edited.  For a read-only buffer, it is `<samp><span class="samp">%*</span></samp>' if the buffer
is modified, and `<samp><span class="samp">%%</span></samp>' otherwise.

   </p><p><var>fr</var> gives the selected frame name (see <a href="#Frames">Frames</a>).  It appears
only on text-only terminals.  The initial frame's name is `<samp><span class="samp">F1</span></samp>'.

   </p><p><var>buf</var> is the name of the window's <dfn>buffer</dfn>.  Usually this is
the same as the name of a file you are editing.  See <a href="#Buffers">Buffers</a>.

   </p><p>The buffer displayed in the selected window (the window with the
cursor) is the <dfn>current buffer</dfn>, where editing happens.  When a
command's effect applies to &#8220;the buffer,&#8221; we mean it does those
things to the current buffer.

   </p><p><var>pos</var> tells you whether there is additional text above the top of
the window, or below the bottom.  If your buffer is small and it is all
visible in the window, <var>pos</var> is `<samp><span class="samp">All</span></samp>'.  Otherwise, it is
`<samp><span class="samp">Top</span></samp>' if you are looking at the beginning of the buffer, `<samp><span class="samp">Bot</span></samp>'
if you are looking at the end of the buffer, or `<samp><var>nn</var><span class="samp">%</span></samp>', where
<var>nn</var> is the percentage of the buffer above the top of the window. 
With Size Indication mode, you can display the size of the buffer as
well.  See <a href="#Optional-Mode-Line">Optional Mode Line</a>.

   </p><p><var>line</var> is `<samp><span class="samp">L</span></samp>' followed by the current line number of point. 
This is present when Line Number mode is enabled (it normally is). 
You can display the current column number too, by turning on Column
Number mode.  It is not enabled by default because it is somewhat
slower.  See <a href="#Optional-Mode-Line">Optional Mode Line</a>.

   </p><p><var>major</var> is the name of the <dfn>major mode</dfn> in effect in the
buffer.  A buffer can only be in one major mode at a time.  The major
modes available include Fundamental mode (the least specialized), Text
mode, Lisp mode, C mode, Texinfo mode, and many others.  See <a href="#Major-Modes">Major Modes</a>, for details of how the modes differ and how to select
them.

   </p><p>Some major modes display additional information after the major mode
name.  For example, Rmail buffers display the current message number and
the total number of messages.  Compilation buffers and Shell buffers
display the status of the subprocess.

   </p><p><var>minor</var> is a list of some of the <dfn>minor modes</dfn> that are
turned on at the moment in the window's chosen buffer.  For example,
`<samp><span class="samp">Fill</span></samp>' means that Auto Fill mode is on.  `<samp><span class="samp">Abbrev</span></samp>' means that
Word Abbrev mode is on.  `<samp><span class="samp">Ovwrt</span></samp>' means that Overwrite mode is on. 
See <a href="#Minor-Modes">Minor Modes</a>, for more information.

   </p><p>`<samp><span class="samp">Narrow</span></samp>' means that the buffer being displayed has editing
restricted to only a portion of its text.  (This is not really a minor
mode, but is like one.)  See <a href="#Narrowing">Narrowing</a>.  `<samp><span class="samp">Def</span></samp>' means that a
keyboard macro is being defined.  See <a href="#Keyboard-Macros">Keyboard Macros</a>.

   </p><p>In addition, if Emacs is inside a recursive editing level, square
brackets (`<samp><span class="samp">[...]</span></samp>') appear around the parentheses that
surround the modes.  If Emacs is in one recursive editing level within
another, double square brackets appear, and so on.  Since recursive
editing levels affect Emacs globally, not just one buffer, the square
brackets appear in every window's mode line or not in any of them. 
See <a href="#Recursive-Edit">Recursive Edit</a>.

   </p><p><var>cs</var> states the coding system used for the file you are editing. 
A dash indicates the default state of affairs: no code conversion,
except for end-of-line translation if the file contents call for that. 
`<samp><span class="samp">=</span></samp>' means no conversion whatsoever.  Nontrivial code conversions
are represented by various letters&#8212;for example, `<samp><span class="samp">1</span></samp>' refers to ISO
Latin-1.  See <a href="#Coding-Systems">Coding Systems</a>, for more information.

   </p><p>On a text-only terminal, <var>cs</var> includes two additional characters
which describe the coding system for keyboard input and the coding
system for terminal output.  They come right before the coding system
used for the file you are editing.

   </p><p>If you are using an input method, a string of the form
`<samp><var>i</var><span class="samp">&gt;</span></samp>' is added to the beginning of <var>cs</var>; <var>i</var>
identifies the input method.  (Some input methods show `<samp><span class="samp">+</span></samp>' or
`<samp><span class="samp">@</span></samp>' instead of `<samp><span class="samp">&gt;</span></samp>'.)  See <a href="#Input-Methods">Input Methods</a>.

   </p><p>When multibyte characters are not enabled, <var>cs</var> does not appear at
all.  See <a href="#Enabling-Multibyte">Enabling Multibyte</a>.

   </p><p><a name="index-end_002dof_002dline-conversion_002c-mode_002dline-indication-13"></a>  The colon after <var>cs</var> changes to another string in some cases. 
Emacs uses newline characters to separate lines in the buffer.  Some
files use different conventions for separating lines: either
carriage-return linefeed (the MS-DOS convention) or just
carriage-return (the Macintosh convention).  If the buffer's file uses
carriage-return linefeed, the colon changes to either a backslash
(`<samp><span class="samp">\</span></samp>') or `<samp><span class="samp">(DOS)</span></samp>', depending on the operating system.  If the
file uses just carriage-return, the colon indicator changes to either
a forward slash (`<samp><span class="samp">/</span></samp>') or `<samp><span class="samp">(Mac)</span></samp>'.  On some systems, Emacs
displays `<samp><span class="samp">(Unix)</span></samp>' instead of the colon for files that use newline
as the line separator.

   </p><p>See <a href="#Optional-Mode-Line">Optional Mode Line</a>, to add other handy information to the
mode line, such as the size of the buffer, the current column number
of point, and whether new mail for you has arrived.

   </p><p>The mode line is mouse-sensitive; when you move the mouse across
various parts of it, Emacs displays help text to say what a click in
that place will do.  See <a href="#Mode-Line-Mouse">Mode Line Mouse</a>.

</p><div class="node">
<p></p><hr>
<a name="Menu-Bar"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Mode-Line">Mode Line</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Screen">Screen</a>

</div>

<h3 class="section">1.4 The Menu Bar</h3>

<p><a name="index-menu-bar-14"></a>
  Each Emacs frame normally has a <dfn>menu bar</dfn> at the top which you
can use to perform common operations.  There's no need to list them
here, as you can more easily see them yourself.

   </p><p><a name="index-M_002d_0060-15"></a><a name="index-F10-16"></a><a name="index-tmm_002dmenubar-17"></a><a name="index-menu_002dbar_002dopen-18"></a>  On a graphical display, you can use the mouse to choose a command
from the menu bar.  A right-arrow at the end of the menu item means it
leads to a subsidiary menu; `<samp><span class="samp">...</span></samp>' at the end means that the
command invoked will read arguments (further input from you) before it
actually does anything.

   </p><p>You can also invoke the first menu bar item by pressing &lt;F10&gt; (to run
the command <code>menu-bar-open</code>).  You can then navigate the menus with
the arrow keys.  You select an item by pressing &lt;RET&gt; and cancel menu
navigation with &lt;ESC&gt;.

   </p><p>To view the full command name and documentation for a menu item, type
<kbd>C-h k</kbd>, and then select the menu bar with the mouse in the usual
way (see <a href="#Key-Help">Key Help</a>).

   </p><p>On text-only terminals with no mouse, you can use the menu bar by
typing <kbd>M-`</kbd> or &lt;F10&gt; (these run the command
<code>tmm-menubar</code>).  This lets you select a menu item with the
keyboard.  A provisional choice appears in the echo area.  You can use
the up and down arrow keys to move through the menu to different
items, and then you can type &lt;RET&gt; to select the item.

   </p><p>Each menu item also has an assigned letter or digit which designates
that item; it is usually the initial of some word in the item's name. 
This letter or digit is separated from the item name by `<samp><span class="samp">=&gt;</span></samp>'.  You
can type the item's letter or digit to select the item.

   </p><p>Some of the commands in the menu bar have ordinary key bindings as
well; one such binding is shown in parentheses after the item itself.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2001, 2002, -->
<!-- 2003, 2004, 2005, 2006, 2007  Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="User-Input"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Keys">Keys</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Screen">Screen</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Kinds of User Input</h2>

<p><a name="index-input-with-the-keyboard-19"></a><a name="index-keyboard-input-20"></a><a name="index-character-set-_0028keyboard_0029-21"></a><a name="index-g_t_0040acronym_007bASCII_007d-22"></a><a name="index-C_002d-23"></a><a name="index-Control-24"></a><a name="index-control-characters-25"></a>
  GNU Emacs is designed for use with keyboard commands because that is
the most efficient way to edit.  You can do editing with the mouse, as
in other editors, and you can give commands with the menu bar and tool
bar, and scroll with the scroll bar.  But if you keep on editing that
way, you won't get the benefits of Emacs.  Therefore, this manual
documents primarily how to edit with the keyboard.  You can force
yourself to practice using the keyboard by using the shell command
`<samp><span class="samp">emacs -nw</span></samp>' to start Emacs, so that the mouse won't work.

   </p><p>Emacs uses an extension of the <acronym>ASCII</acronym> character set for
keyboard input; it also accepts non-character input events including
function keys and mouse button actions.

   </p><p><acronym>ASCII</acronym> consists of 128 character codes.  Some of these codes are
assigned graphic symbols such as `<samp><span class="samp">a</span></samp>' and `<samp><span class="samp">=</span></samp>'; the rest are
control characters, such as <kbd>Control-a</kbd> (usually written <kbd>C-a</kbd>
for short).  <kbd>C-a</kbd> gets its name from the fact that you type it by
holding down the &lt;CTRL&gt; key while pressing <kbd>a</kbd>.

   </p><p>Some <acronym>ASCII</acronym> control characters have special names, and most
terminals have special keys you can type them with: for example,
&lt;RET&gt;, &lt;TAB&gt;, &lt;DEL&gt; and &lt;ESC&gt;.  The space character is
usually known as &lt;SPC&gt;, even though strictly speaking it is a
graphic character that is blank.

   </p><p>Emacs extends the <acronym>ASCII</acronym> character set with thousands more printing
characters (see <a href="#International">International</a>), additional control characters, and a
few more modifiers that can be combined with any character.

   </p><p>On <acronym>ASCII</acronym> terminals, there are only 32 possible control characters. 
These are the control variants of letters and `<samp><span class="samp">@[]\^_</span></samp>'.  In
addition, the shift key is meaningless with control characters:
<kbd>C-a</kbd> and <kbd>C-A</kbd> are the same character, and Emacs cannot
distinguish them.

   </p><p>The Emacs character set has room for control variants of all
printing characters, and distinguishes <kbd>C-A</kbd> from <kbd>C-a</kbd>. 
Graphical terminals make it possible to enter all these characters. 
For example, <kbd>C--</kbd> (that's Control-Minus) and <kbd>C-5</kbd> are
meaningful Emacs commands on a graphical terminal.

   </p><p>Another Emacs character-set extension is additional modifier bits. 
Only one modifier bit is commonly used; it is called Meta.  Every
character has a Meta variant; examples include <kbd>Meta-a</kbd> (normally
written <kbd>M-a</kbd>, for short), <kbd>M-A</kbd> (different from <kbd>M-a</kbd>,
but they are normally equivalent in Emacs), <kbd>M-&lt;RET&gt;</kbd>, and
<kbd>M-C-a</kbd>.  That last means <kbd>a</kbd> with both the &lt;CTRL&gt; and
&lt;META&gt; modifiers.  We usually write it as <kbd>C-M-a</kbd> rather than
<kbd>M-C-a</kbd>, for reasons of tradition.

   </p><p><a name="index-Meta-26"></a><a name="index-M_002d-27"></a><a name="index-g_t_0040key_007bESC_007d-replacing-_0040key_007bMETA_007d-key-28"></a>  Some terminals have a &lt;META&gt; key, and allow you to type Meta
characters by holding this key down.  Thus, you can type <kbd>Meta-a</kbd>
by holding down &lt;META&gt; and pressing <kbd>a</kbd>.  The &lt;META&gt; key
works much like the &lt;SHIFT&gt; key.  In fact, this key is more often
labeled &lt;ALT&gt; or &lt;EDIT&gt;, instead of &lt;META&gt;; on a Sun
keyboard, it may have a diamond on it.

   </p><p>If there is no &lt;META&gt; key, you can still type Meta characters
using two-character sequences starting with &lt;ESC&gt;.  Thus, you can
enter <kbd>M-a</kbd> by typing <kbd>&lt;ESC&gt; a</kbd>.  You can enter
<kbd>C-M-a</kbd> by typing <kbd>&lt;ESC&gt; C-a</kbd>.  Unlike &lt;META&gt;, which
modifies other characters, &lt;ESC&gt; is a separate character.  You
don't hold down &lt;ESC&gt; while typing the next character; instead,
you press it and release it, then you enter the next character. 
&lt;ESC&gt; is allowed on terminals with &lt;META&gt; keys, too, in case
you have formed a habit of using it.

   </p><p>Emacs defines several other modifier keys that can be applied to any
input character.  These are called &lt;SUPER&gt;, &lt;HYPER&gt; and
&lt;ALT&gt;.  We write `<samp><span class="samp">s-</span></samp>', `<samp><span class="samp">H-</span></samp>' and `<samp><span class="samp">A-</span></samp>' to say that a
character uses these modifiers.  Thus, <kbd>s-H-C-x</kbd> is short for
<kbd>Super-Hyper-Control-x</kbd>.  Not all graphical terminals actually
provide keys for these modifier flags&#8212;in fact, many terminals have a
key labeled &lt;ALT&gt; which is really a &lt;META&gt; key.  The standard
key bindings of Emacs do not include any characters with these
modifiers.  But you can assign them meanings of your own by
customizing Emacs.

   </p><p>If your keyboard lacks one of these modifier keys, you can enter it
using <kbd>C-x @</kbd>: <kbd>C-x @ h</kbd> adds the &#8220;hyper&#8221; flag to the next
character, <kbd>C-x @ s</kbd> adds the &#8220;super&#8221; flag, and <kbd>C-x @ a</kbd>
adds the &#8220;alt&#8221; flag.  For instance, <kbd>C-x @ h C-a</kbd> is a way to
enter <kbd>Hyper-Control-a</kbd>.  (Unfortunately there is no way to add
two modifiers by using <kbd>C-x @</kbd> twice for the same character,
because the first one goes to work on the <kbd>C-x</kbd>.)

   </p><p>Keyboard input includes keyboard keys that are not characters at
all, such as function keys and arrow keys.  Mouse buttons are also not
characters.  However, you can modify these events with the modifier
keys &lt;CTRL&gt;, &lt;META&gt;, &lt;SUPER&gt;, &lt;HYPER&gt; and &lt;ALT&gt;,
just like keyboard characters.

   </p><p><a name="index-input-event-29"></a>  Input characters and non-character inputs are collectively called
<dfn>input events</dfn>.  See <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Input-Events">Input Events</a>, for the full Lisp-level details.  If you are not
doing Lisp programming, but simply want to redefine the meaning of
some characters or non-character events, see <a href="#Customization">Customization</a>.

   </p><p><acronym>ASCII</acronym> terminals cannot really send anything to the computer except
<acronym>ASCII</acronym> characters.  These terminals use a sequence of characters to
represent each function key.  But that is invisible to the Emacs user,
because the keyboard input routines catch these special sequences
and convert them to function key events before any other part of Emacs
gets to see them.

   </p><p><a name="index-keys-stolen-by-window-manager-30"></a><a name="index-window-manager_002c-keys-stolen-by-31"></a>  On graphical displays, the window manager is likely to block the
character <kbd>Meta-&lt;TAB&gt;</kbd> before Emacs can see it.  It may also
block <kbd>Meta-&lt;SPC&gt;</kbd>, <kbd>C-M-d</kbd> and <kbd>C-M-l</kbd>.  If you have
these problems, we recommend that you customize your window manager to
turn off those commands, or put them on key combinations that Emacs
does not use.

</p><div class="node">
<p></p><hr>
<a name="Keys"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Commands">Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#User-Input">User Input</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Keys</h2>

<p><a name="index-key-sequence-32"></a><a name="index-key-33"></a>  A <dfn>key sequence</dfn> (<dfn>key</dfn>, for short) is a sequence of input
events that is meaningful as a unit&#8212;a &#8220;single command.&#8221;  Some
Emacs command sequences are invoked by just one character or one
event; for example, just <kbd>C-f</kbd> moves forward one character in the
buffer.  But Emacs also has commands that take two or more events to
invoke.

   </p><p><a name="index-complete-key-34"></a><a name="index-prefix-key-35"></a>  If a sequence of events is enough to invoke a command, it is a
<dfn>complete key</dfn>.  Examples of complete keys include <kbd>C-a</kbd>,
<kbd>X</kbd>, &lt;RET&gt;, &lt;NEXT&gt; (a function key), &lt;DOWN&gt; (an arrow
key), <kbd>C-x C-f</kbd>, and <kbd>C-x 4 C-f</kbd>.  If it isn't long enough to be
complete, we call it a <dfn>prefix key</dfn>.  The above examples show that
<kbd>C-x</kbd> and <kbd>C-x 4</kbd> are prefix keys.  Every key sequence is either
a complete key or a prefix key.

   </p><p>Most single characters constitute complete keys in the standard Emacs
command bindings.  A few of them are prefix keys.  A prefix key combines
with the following input event to make a longer key sequence, which may
itself be complete or a prefix.  For example, <kbd>C-x</kbd> is a prefix key,
so <kbd>C-x</kbd> and the next input event combine to make a two-event
key sequence.  Most of these key sequences are complete keys, including
<kbd>C-x C-f</kbd> and <kbd>C-x b</kbd>.  A few, such as <kbd>C-x 4</kbd> and <kbd>C-x
r</kbd>, are themselves prefix keys that lead to three-event key
sequences.  There's no limit to the length of a key sequence, but in
practice people rarely use sequences longer than four events.

   </p><p>You can't add input events onto a complete key.  For example, the
two-event sequence <kbd>C-f C-k</kbd> is not a key, because the <kbd>C-f</kbd>
is a complete key in itself.  It's impossible to give <kbd>C-f C-k</kbd> an
independent meaning as a command.  <kbd>C-f C-k</kbd> is two key sequences,
not one.

   </p><p>All told, the prefix keys in Emacs are <kbd>C-c</kbd>, <kbd>C-h</kbd>,
<kbd>C-x</kbd>, <kbd>C-x &lt;RET&gt;</kbd>, <kbd>C-x @</kbd>, <kbd>C-x a</kbd>, <kbd>C-x
n</kbd>, <kbd>C-x&nbsp;r</kbd><!-- /@w -->, <kbd>C-x v</kbd>, <kbd>C-x 4</kbd>, <kbd>C-x 5</kbd>, <kbd>C-x
6</kbd>, &lt;ESC&gt;, <kbd>M-g</kbd>, and <kbd>M-o</kbd>.  (&lt;F1&gt; and &lt;F2&gt; are
aliases for <kbd>C-h</kbd> and <kbd>C-x 6</kbd>.)  This list is not cast in stone;
it describes the standard key bindings.  If you customize Emacs, you can make
new prefix keys, or eliminate some of the standard ones (not
recommended for most users).  See <a href="#Key-Bindings">Key Bindings</a>.

   </p><p>If you make or eliminate prefix keys, that changes the set of
possible key sequences.  For example, if you redefine <kbd>C-f</kbd> as a
prefix, <kbd>C-f C-k</kbd> automatically becomes a key (complete, unless
you define that too as a prefix).  Conversely, if you remove the
prefix definition of <kbd>C-x 4</kbd>, then <kbd>C-x 4 f</kbd> and <kbd>C-x 4
</kbd><var>anything</var> are no longer keys.

   </p><p>Typing the help character (<kbd>C-h</kbd> or &lt;F1&gt;) after a prefix key
displays a list of the commands starting with that prefix.  There are
a few prefix keys after which <kbd>C-h</kbd> does not work&#8212;for historical
reasons, they define other meanings for <kbd>C-h</kbd> which are painful to
change.  &lt;F1&gt; works after all prefix keys.

</p><div class="node">
<p></p><hr>
<a name="Commands"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Text-Characters">Text Characters</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Keys">Keys</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Keys and Commands</h2>

<p><a name="index-binding-36"></a><a name="index-command-37"></a><a name="index-function-definition-38"></a>  This manual is full of passages that tell you what particular keys
do.  But Emacs does not assign meanings to keys directly.  Instead,
Emacs assigns meanings to named <dfn>commands</dfn>, and then gives keys
their meanings by <dfn>binding</dfn> them to commands.

   </p><p>Every command has a name chosen by a programmer.  The name is
usually made of a few English words separated by dashes; for example,
<code>next-line</code> or <code>forward-word</code>.  A command also has a
<dfn>function definition</dfn> which is a Lisp program; this is how the
command does its work.  In Emacs Lisp, a command is a Lisp function with
special options to read arguments and for interactive use.  For more
information on commands and functions, see <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#What-Is-a-Function">What Is a Function</a>.  (The
definition here is simplified slightly.)

   </p><p>The bindings between keys and commands are recorded in tables called
<dfn>keymaps</dfn>.  See <a href="#Keymaps">Keymaps</a>.

   </p><p>When we say that &#8220;<kbd>C-n</kbd> moves down vertically one line&#8221; we are
glossing over a subtle distinction that is irrelevant in ordinary use,
but vital for Emacs customization.  The command <code>next-line</code> does
a vertical move downward.  <kbd>C-n</kbd> has this effect <em>because</em> it
is bound to <code>next-line</code>.  If you rebind <kbd>C-n</kbd> to the command
<code>forward-word</code>, <kbd>C-n</kbd> will move forward one word instead. 
Rebinding keys is an important method of customization.

   </p><p>In the rest of this manual, we usually ignore this distinction to
keep things simple.  We will often speak of keys like <kbd>C-n</kbd> as
commands, even though strictly speaking the key is bound to a command. 
Usually we state the name of the command which really does the work in
parentheses after mentioning the key that runs it.  For example, we
will say that &#8220;The command <kbd>C-n</kbd> (<code>next-line</code>) moves point
vertically down,&#8221; meaning that the command <code>next-line</code> moves
vertically down, and the key <kbd>C-n</kbd> is normally bound to it.

   </p><p>Since we are discussing customization, we should tell you about
<dfn>variables</dfn>.  Often the description of a command will say, &#8220;To
change this, set the variable <code>mumble-foo</code>.&#8221;  A variable is a
name used to store a value.  Most of the variables documented in this
manual are meant for customization: some command or other part of
Emacs examines the variable and behaves differently according to the
value that you set.  You can ignore the information about variables
until you are interested in customizing them.  Then read the basic
information on variables (see <a href="#Variables">Variables</a>) and the information about
specific variables will make sense.

</p><div class="node">
<p></p><hr>
<a name="Text-Characters"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Entering-Emacs">Entering Emacs</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Commands">Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Character Set for Text</h2>

<p><a name="index-characters-_0028in-text_0029-39"></a>
  Text in Emacs buffers is a sequence of characters.  In the simplest
case, these are <acronym>ASCII</acronym> characters, each stored in one 8-bit
byte.  Both <acronym>ASCII</acronym> control characters (octal codes 000
through 037, and 0177) and <acronym>ASCII</acronym> printing characters (codes
040 through 0176) are allowed.  The other modifier flags used in
keyboard input, such as Meta, are not allowed in buffers.

   </p><p>Non-<acronym>ASCII</acronym> printing characters can also appear in buffers,
when multibyte characters are enabled.  They have character codes
starting at 256, octal 0400, and each one is represented as a sequence
of two or more bytes.  See <a href="#International">International</a>.  Single-byte characters
with codes 128 through 255 can also appear in multibyte buffers. 
However, non-<acronym>ASCII</acronym> control characters cannot appear in a
buffer.

   </p><p>Some <acronym>ASCII</acronym> control characters serve special purposes in text, and have
special names.  For example, the newline character (octal code 012) is
used in the buffer to end a line, and the tab character (octal code 011)
is used for indenting to the next tab stop column (normally every 8
columns).  See <a href="#Text-Display">Text Display</a>.

   </p><p>If you disable multibyte characters, then you can use only one
alphabet of non-<acronym>ASCII</acronym> characters, which all fit in one byte. 
They use octal codes 0200 through 0377.  See <a href="#Unibyte-Mode">Unibyte Mode</a>.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 2001, 2002, 2003, -->
<!-- 2004, 2005, 2006, 2007  Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Entering-Emacs"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Exiting">Exiting</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Text-Characters">Text Characters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Entering and Exiting Emacs</h2>

<p><a name="index-entering-Emacs-40"></a><a name="index-starting-Emacs-41"></a>
  The usual way to invoke Emacs is with the shell command
<samp><span class="command">emacs</span></samp>.  Emacs clears the screen, then displays an initial
help message and copyright notice.  Some operating systems discard
your type-ahead when Emacs starts up; they give Emacs no way to
prevent this.  On those systems, wait for Emacs to clear the screen
before you start typing.

   </p><p>From a shell window under the X Window System, run Emacs in the
background with <samp><span class="command">emacs&amp;</span></samp>.  This way, Emacs won't tie up the
shell window, so you can use it to run other shell commands while
Emacs is running.  You can type Emacs commands as soon as you direct
your keyboard input to an Emacs frame.

   </p><p><a name="index-initial_002dmajor_002dmode-42"></a>  When Emacs starts up, it creates a buffer named `<samp><span class="samp">*scratch*</span></samp>'. 
That's the buffer you start out in.  The `<samp><span class="samp">*scratch*</span></samp>' buffer uses
Lisp Interaction mode; you can use it to type Lisp expressions and
evaluate them.  You can also ignore that capability and just write notes
there.  You can specify a different major mode for this buffer by
setting the variable <code>initial-major-mode</code> in your init file. 
See <a href="#Init-File">Init File</a>.

   </p><p>It is possible to specify files to be visited, Lisp files to be
loaded, and functions to be called through Emacs command-line
arguments.  See <a href="#Emacs-Invocation">Emacs Invocation</a>.  The feature exists mainly for
compatibility with other editors, and for scripts.

   </p><p>Many editors are designed to edit one file.  When done with that
file, you exit the editor.  The next time you want to edit a file, you
must start the editor again.  Working this way, it is convenient to
use a command-line argument to say which file to edit.

   </p><p>However, killing Emacs after editing one each and starting it afresh
for the next file is both unnecessary and harmful, since it denies you
the full power of Emacs.  Emacs can visit more than one file in a
single editing session, and that is the right way to use it.  Exiting
the Emacs session loses valuable accumulated context, such as the kill
ring, registers, undo history, and mark ring.  These features are
useful for operating on multiple files, or even continuing to edit one
file.  If you kill Emacs after each file, you don't take advantage of
them.

   </p><p>The recommended way to use GNU Emacs is to start it only once, just
after you log in, and do all your editing in the same Emacs session. 
Each time you edit a file, you visit it with the existing Emacs, which
eventually has many files in it ready for editing.  Usually you do not
kill Emacs until you are about to log out.  See <a href="#Files">Files</a>, for more
information on visiting more than one file.

   </p><p>To edit a file from another program while Emacs is running, you can
use the <samp><span class="command">emacsclient</span></samp> helper program to open a file in the
already running Emacs.  See <a href="#Emacs-Server">Emacs Server</a>.

</p><div class="node">
<p></p><hr>
<a name="Exiting"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Basic">Basic</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Entering-Emacs">Entering Emacs</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 Exiting Emacs</h2>

<p><a name="index-exiting-43"></a><a name="index-killing-Emacs-44"></a><a name="index-suspending-45"></a><a name="index-leaving-Emacs-46"></a><a name="index-quitting-Emacs-47"></a>
  There are two commands for exiting Emacs, and three kinds of
exiting: <dfn>iconifying</dfn> Emacs, <dfn>suspending</dfn> Emacs, and
<dfn>killing</dfn> Emacs.

   </p><p><dfn>Iconifying</dfn> means replacing the Emacs frame with a small box or
&#8220;icon&#8221; on the screen.  This is the usual way to exit Emacs when
you're using a graphical display&#8212;if you bother to &#8220;exit&#8221; at all. 
(Just switching to another application is usually sufficient.)

   </p><p><dfn>Suspending</dfn> means stopping Emacs temporarily and returning
control to its parent process (usually a shell), allowing you to
resume editing later in the same Emacs job.  This is the usual way to
exit Emacs when running it on a text terminal.

   </p><p><dfn>Killing</dfn> Emacs means destroying the Emacs job.  You can run Emacs
again later, but you will get a fresh Emacs; there is no way to resume
the same editing session after it has been killed.

     </p><dl>
<dt><kbd>C-z</kbd></dt><dd>Suspend Emacs (<code>suspend-emacs</code>) or iconify a frame
(<code>iconify-or-deiconify-frame</code>). 
<br></dd><dt><kbd>C-x C-c</kbd></dt><dd>Kill Emacs (<code>save-buffers-kill-emacs</code>). 
</dd></dl>

   <p><a name="index-C_002dz-48"></a><a name="index-iconify_002dor_002ddeiconify_002dframe-49"></a>  On graphical displays, <kbd>C-z</kbd> runs the command
<code>iconify-or-deiconify-frame</code>, which temporarily iconifies (or
&#8220;minimizes&#8221;) the selected Emacs frame (see <a href="#Frames">Frames</a>).  You can
then use the window manager to select some other application.  (You
could select another application without iconifying Emacs first, but
getting the Emacs frame out of the way can make it more convenient to
find the other application.)

   </p><p><a name="index-suspend_002demacs-50"></a>  On a text terminal, <kbd>C-z</kbd> runs the command <code>suspend-emacs</code>. 
Suspending Emacs takes you back to the shell from which you invoked
Emacs.  You can resume Emacs with the shell command <samp><span class="command">%emacs</span></samp>
in most common shells.  On systems that don't support suspending
programs, <kbd>C-z</kbd> starts an inferior shell that communicates
directly with the terminal, and Emacs waits until you exit the
subshell.  (The way to do that is probably with <kbd>C-d</kbd> or
<samp><span class="command">exit</span></samp>, but it depends on which shell you use.)  On these
systems, you can only get back to the shell from which Emacs was run
(to log out, for example) when you kill Emacs.

   </p><p><a name="index-cannot_002dsuspend-51"></a>  Suspending can fail if you run Emacs under a shell that doesn't
support suspendion of its subjobs, even if the system itself does
support it.  In such a case, you can set the variable
<code>cannot-suspend</code> to a non-<code>nil</code> value to force <kbd>C-z</kbd> to
start an inferior shell.

   </p><p><a name="index-C_002dx-C_002dc-52"></a><a name="index-save_002dbuffers_002dkill_002demacs-53"></a>  To exit and kill Emacs, type <kbd>C-x C-c</kbd>
(<code>save-buffers-kill-emacs</code>).  A two-character key is used to make
it harder to type by accident.  This command first offers to save any
modified file-visiting buffers.  If you do not save them all, it asks
for confirmation with <kbd>yes</kbd> before killing Emacs, since any
changes not saved now will be lost forever.  Also, if any subprocesses are
still running, <kbd>C-x C-c</kbd> asks for confirmation about them, since
killing Emacs will also kill the subprocesses.

   </p><p><a name="index-confirm_002dkill_002demacs-54"></a>  If the value of the variable <code>confirm-kill-emacs</code> is
non-<code>nil</code>, <kbd>C-x C-c</kbd> assumes that its value is a predicate
function, and calls that function.  If the result is non-<code>nil</code>, the
session is killed, otherwise Emacs continues to run.  One convenient
function to use as the value of <code>confirm-kill-emacs</code> is the
function <code>yes-or-no-p</code>.  The default value of
<code>confirm-kill-emacs</code> is <code>nil</code>.

   </p><p>You can't resume an Emacs session after killing it.  Emacs can,
however, record certain session information when you kill it, such as
which files you visited, so the next time you start Emacs it will try
to visit the same files.  See <a href="#Saving-Emacs-Sessions">Saving Emacs Sessions</a>.

   </p><p>The operating system usually listens for certain special characters
whose meaning is to kill or suspend the program you are running. 
<b>This operating system feature is turned off while you are in Emacs.</b>
The meanings of <kbd>C-z</kbd> and <kbd>C-x C-c</kbd> as keys in Emacs were
inspired by the use of <kbd>C-z</kbd> and <kbd>C-c</kbd> on several operating
systems as the characters for stopping or killing a program, but that is
their only relationship with the operating system.  You can customize
these keys to run any commands of your choice (see <a href="#Keymaps">Keymaps</a>).

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2000, 2001, -->
<!-- 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Basic"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Minibuffer">Minibuffer</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Exiting">Exiting</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 Basic Editing Commands</h2>

<p><a name="index-C_002dh-t-55"></a><a name="index-help_002dwith_002dtutorial-56"></a>  Here we explain the basics of how to enter text, make corrections,
and save the text in a file.  If this material is new to you, we
suggest you first run the Emacs learn-by-doing tutorial, by typing
<kbd>Control-h t</kbd> inside Emacs.  (<code>help-with-tutorial</code>).

   </p><p>To clear and redisplay the screen, type <kbd>C-l</kbd> (<code>recenter</code>).

</p><ul class="menu">
<li><a accesskey="1" href="#Inserting-Text">Inserting Text</a>:       Inserting text by simply typing it. 
</li><li><a accesskey="2" href="#Moving-Point">Moving Point</a>:         Moving the cursor to the place where you want to
			  change something. 
</li><li><a accesskey="3" href="#Erasing">Erasing</a>: 	        Deleting and killing text. 
</li><li><a accesskey="4" href="#Basic-Undo">Basic Undo</a>: 	        Undoing recent changes in the text. 
</li><li><a accesskey="5" href="#Basic-Files">Files</a>:    Visiting, creating, and saving files. 
</li><li><a accesskey="6" href="#Basic-Help">Help</a>:      Asking what a character does. 
</li><li><a accesskey="7" href="#Blank-Lines">Blank Lines</a>: 	        Making and deleting blank lines. 
</li><li><a accesskey="8" href="#Continuation-Lines">Continuation Lines</a>:   How Emacs displays lines too wide for the screen. 
</li><li><a accesskey="9" href="#Position-Info">Position Info</a>:        What page, line, row, or column is point on? 
</li><li><a href="#Arguments">Arguments</a>: 	        Numeric arguments for repeating a command N times. 
</li><li><a href="#Repeating">Repeating</a>:            Repeating the previous command quickly. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Inserting-Text"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Moving-Point">Moving Point</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.1 Inserting Text</h3>

<p><a name="index-insertion-57"></a><a name="index-graphic-characters-58"></a>  Typing printing characters inserts them into the text you are
editing.  It inserts them into the buffer at the cursor; more
precisely, it inserts them at <dfn>point</dfn>, but the cursor normally
shows where point is.  See <a href="#Point">Point</a>.

   </p><p>Insertion moves the cursor forward, and the following text moves
forward with the cursor.  If the text in the buffer is `<samp><span class="samp">FOOBAR</span></samp>',
with the cursor before the `<samp><span class="samp">B</span></samp>', and you type <kbd>XX</kbd>, you get
`<samp><span class="samp">FOOXXBAR</span></samp>', with the cursor still before the `<samp><span class="samp">B</span></samp>'.

   </p><p>To <dfn>delete</dfn> text you have just inserted, use the large key
labeled &lt;DEL&gt;, &lt;BACKSPACE&gt; or &lt;DELETE&gt; which is a short
distance above the &lt;RET&gt; or &lt;ENTER&gt; key.  Regardless of the
label on that key, Emacs thinks of it as &lt;DEL&gt;, and that's what we
call it in this manual.  &lt;DEL&gt; is the key you normally use outside
Emacs to erase the last character that you typed.

   </p><p>The &lt;DEL&gt; key deletes the character <em>before</em> the cursor. 
As a consequence, the cursor and all the characters after it move
backwards.  If you type a printing character and then type &lt;DEL&gt;,
they cancel out.

   </p><p>On most computers, Emacs sets up &lt;DEL&gt; automatically.  In some
cases, especially with text-only terminals, Emacs may guess wrong.  If
the key that ought to erase the last character doesn't do it in Emacs,
see <a href="#DEL-Does-Not-Delete">DEL Does Not Delete</a>.

   </p><p>Most PC keyboards have both a &lt;BACKSPACE&gt; key a little ways
above &lt;RET&gt; or &lt;ENTER&gt;, and a &lt;DELETE&gt; key elsewhere.  On
these keyboards, Emacs tries to set up &lt;BACKSPACE&gt; as &lt;DEL&gt;. 
The &lt;DELETE&gt; key deletes &#8220;forwards&#8221; like <kbd>C-d</kbd> (see below),
which means it deletes the character underneath the cursor (after
point).

   </p><p><a name="index-RET-59"></a><a name="index-newline-60"></a>   To end a line and start typing a new one, type &lt;RET&gt;.  (This
key may be labeled &lt;RETURN&gt; or &lt;ENTER&gt;, but in Emacs we call
it &lt;RET&gt;.)  This inserts a newline character in the buffer.  If
point is at the end of the line, this creates a new blank line after
it.  If point is in the middle of a line, the effect is to split that
line.  Typing &lt;DEL&gt; when the cursor is at the beginning of a line
deletes the preceding newline character, thus joining the line with
the one before it.

   </p><p>Emacs can split lines automatically when they become too long, if
you turn on a special minor mode called <dfn>Auto Fill</dfn> mode. 
See <a href="#Filling">Filling</a>, for Auto Fill mode and other methods of <dfn>filling</dfn>
text.

   </p><p>If you prefer printing characters to replace (overwrite) existing
text, rather than shove it to the right, you should enable Overwrite
mode, a minor mode.  See <a href="#Minor-Modes">Minor Modes</a>.

   </p><p><a name="index-quoting-61"></a><a name="index-C_002dq-62"></a><a name="index-quoted_002dinsert-63"></a>  Only printing characters and &lt;SPC&gt; insert themselves in Emacs. 
Other characters act as editing commands and do not insert themselves. 
These include control characters, and characters with codes above 200
octal.  If you need to insert one of these characters in the buffer,
you must <dfn>quote</dfn> it by typing the character <kbd>Control-q</kbd>
(<code>quoted-insert</code>) first.  (This character's name is normally
written <kbd>C-q</kbd> for short.)  There are two ways to use
<kbd>C-q</kbd>:

     </p><ul>
<li><kbd>C-q</kbd> followed by any non-graphic character (even <kbd>C-g</kbd>)
inserts that character.

     </li><li><kbd>C-q</kbd> followed by a sequence of octal digits inserts the character
with the specified octal character code.  You can use any number of
octal digits; any non-digit terminates the sequence.  If the
terminating character is &lt;RET&gt;, it serves only to terminate the
sequence.  Any other non-digit terminates the sequence and then acts
as normal input&#8212;thus, <kbd>C-q 1 0 1 B</kbd> inserts `<samp><span class="samp">AB</span></samp>'.

     <p>The use of octal sequences is disabled in ordinary non-binary
Overwrite mode, to give you a convenient way to insert a digit instead
of overwriting with it. 
</p></li></ul>

   <p><a name="index-g_t8_002dbit-character-codes-64"></a>When multibyte characters are enabled, if you specify a code in the
range 0200 through 0377 octal, <kbd>C-q</kbd> assumes that you intend to
use some ISO 8859-<var>n</var> character set, and converts the specified
code to the corresponding Emacs character code.  See <a href="#Enabling-Multibyte">Enabling Multibyte</a>.  You select <em>which</em> of the ISO 8859 character sets to
use through your choice of language environment (see <a href="#Language-Environments">Language Environments</a>).

   </p><p><a name="index-read_002dquoted_002dchar_002dradix-65"></a>To use decimal or hexadecimal instead of octal, set the variable
<code>read-quoted-char-radix</code> to 10 or 16.  If the radix is greater than
10, some letters starting with <kbd>a</kbd> serve as part of a character
code, just like digits.

   </p><p>A numeric argument tells <kbd>C-q</kbd> how many copies of the quoted
character to insert (see <a href="#Arguments">Arguments</a>).

   </p><p><a name="index-newline-66"></a><a name="index-self_002dinsert-67"></a>  Customization information: &lt;DEL&gt; in most modes runs the command
<code>delete-backward-char</code>; &lt;RET&gt; runs the command
<code>newline</code>, and self-inserting printing characters run the command
<code>self-insert</code>, which inserts whatever character you typed.  Some
major modes rebind &lt;DEL&gt; to other commands.

</p><div class="node">
<p></p><hr>
<a name="Moving-Point"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Erasing">Erasing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Inserting-Text">Inserting Text</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.2 Changing the Location of Point</h3>

<p><a name="index-arrow-keys-68"></a><a name="index-moving-point-69"></a><a name="index-movement-70"></a><a name="index-cursor-motion-71"></a><a name="index-moving-the-cursor-72"></a>  To do more than insert characters, you have to know how to move point
(see <a href="#Point">Point</a>).  The simplest way to do this is with arrow keys, or by
clicking the left mouse button where you want to move to.

   </p><p>There are also control and meta characters for cursor motion.  Some
are equivalent to the arrow keys (it is faster to use these control
keys than move your hand over to the arrow keys).  Others do more
sophisticated things.

   </p><p><a name="index-C_002da-73"></a><a name="index-C_002de-74"></a><a name="index-C_002df-75"></a><a name="index-C_002db-76"></a><a name="index-C_002dn-77"></a><a name="index-C_002dp-78"></a><a name="index-M_002d_003e-79"></a><a name="index-M_002d_003c-80"></a><a name="index-M_002dr-81"></a><a name="index-LEFT-82"></a><a name="index-RIGHT-83"></a><a name="index-UP-84"></a><a name="index-DOWN-85"></a><a name="index-move_002dbeginning_002dof_002dline-86"></a><a name="index-move_002dend_002dof_002dline-87"></a><a name="index-forward_002dchar-88"></a><a name="index-backward_002dchar-89"></a><a name="index-next_002dline-90"></a><a name="index-previous_002dline-91"></a><a name="index-beginning_002dof_002dbuffer-92"></a><a name="index-end_002dof_002dbuffer-93"></a><a name="index-goto_002dchar-94"></a><a name="index-goto_002dline-95"></a><a name="index-move_002dto_002dwindow_002dline-96"></a>
     </p><dl>
<dt><kbd>C-a</kbd></dt><dd>Move to the beginning of the line (<code>move-beginning-of-line</code>). 
<br></dd><dt><kbd>C-e</kbd></dt><dd>Move to the end of the line (<code>move-end-of-line</code>). 
<br></dd><dt><kbd>C-f</kbd></dt><dd>Move forward one character (<code>forward-char</code>).  The right-arrow key
does the same thing. 
<br></dd><dt><kbd>C-b</kbd></dt><dd>Move backward one character (<code>backward-char</code>).  The left-arrow
key has the same effect. 
<br></dd><dt><kbd>M-f</kbd></dt><dd>Move forward one word (<code>forward-word</code>). 
<br></dd><dt><kbd>M-b</kbd></dt><dd>Move backward one word (<code>backward-word</code>). 
<br></dd><dt><kbd>C-n</kbd></dt><dd>Move down one line vertically (<code>next-line</code>).  This command
attempts to keep the horizontal position unchanged, so if you start in
the middle of one line, you move to the middle of the next.  The
down-arrow key does the same thing. 
<br></dd><dt><kbd>C-p</kbd></dt><dd>Move up one line, vertically (<code>previous-line</code>).  The up-arrow key
has the same effect.  This command preserves position within the line,
like <kbd>C-n</kbd>. 
<br></dd><dt><kbd>M-r</kbd></dt><dd>Move point to left margin, vertically centered in the window
(<code>move-to-window-line</code>).  Text does not move on the screen. 
A numeric argument says which screen line to place point on, counting
downward from the top of the window (zero means the top line).  A
negative argument counts lines up from the bottom (&#8722;1 means the
bottom line). 
<br></dd><dt><kbd>M-&lt;</kbd></dt><dd>Move to the top of the buffer (<code>beginning-of-buffer</code>).  With
numeric argument <var>n</var>, move to <var>n</var>/10 of the way from the top. 
See <a href="#Arguments">Arguments</a>, for more information on numeric arguments. 
<br></dd><dt><kbd>M-&gt;</kbd></dt><dd>Move to the end of the buffer (<code>end-of-buffer</code>). 
<br></dd><dt><kbd>C-v</kbd></dt><dt><kbd>&lt;PAGEDOWN&gt;</kbd></dt><dt><kbd>&lt;PRIOR&gt;</kbd></dt><dd>Scroll the display one screen forward, and move point if necessary to
put it on the screen (<code>scroll-up</code>).  This doesn't always move
point, but it is commonly used to do so.  If your keyboard has a
&lt;PAGEDOWN&gt; or &lt;PRIOR&gt; key, it does the same thing.

     <p>Scrolling commands are described further in <a href="#Scrolling">Scrolling</a>. 
<br></p></dd><dt><kbd>M-v</kbd></dt><dt><kbd>&lt;PAGEUP&gt;</kbd></dt><dt><kbd>&lt;NEXT&gt;</kbd></dt><dd>Scroll one screen backward, and move point if necessary to put it on
the screen (<code>scroll-down</code>).  This doesn't always move point, but
it is commonly used to do so.  If your keyboard has a &lt;PAGEUP&gt; or
&lt;NEXT&gt; key, it does the same thing. 
<br></dd><dt><kbd>M-x goto-char</kbd></dt><dd>Read a number <var>n</var> and move point to buffer position <var>n</var>. 
Position 1 is the beginning of the buffer. 
<br></dd><dt><kbd>M-g M-g</kbd></dt><dt><kbd>M-g g</kbd></dt><dt><kbd>M-x goto-line</kbd></dt><dd>Read a number <var>n</var> and move point to the beginning of line number
<var>n</var>.  Line 1 is the beginning of the buffer.  If point is on or
just after a number in the buffer, and you type &lt;RET&gt; with the
minibuffer empty, that number is used for <var>n</var>. 
<br></dd><dt><kbd>C-x C-n</kbd></dt><dd><a name="index-set_002dgoal_002dcolumn-97"></a><a name="index-C_002dx-C_002dn-98"></a>Use the current column of point as the <dfn>semipermanent goal column</dfn>
for <kbd>C-n</kbd> and <kbd>C-p</kbd> (<code>set-goal-column</code>).  When a
semipermanent goal column is in effect, those commands always try to
move to this column, or as close as possible to it, after moving
vertically.  The goal column remains in effect until canceled. 
<br></dd><dt><kbd>C-u C-x C-n</kbd></dt><dd>Cancel the goal column.  Henceforth, <kbd>C-n</kbd> and <kbd>C-p</kbd> try to
preserve the horizontal position, as usual. 
</dd></dl>

   <p><a name="index-track_002deol-99"></a>  If you set the variable <code>track-eol</code> to a non-<code>nil</code> value,
then <kbd>C-n</kbd> and <kbd>C-p</kbd>, when starting at the end of the line, move
to the end of another line.  Normally, <code>track-eol</code> is <code>nil</code>. 
See <a href="#Variables">Variables</a>, for how to set variables such as <code>track-eol</code>.

   </p><p><a name="index-next_002dline_002dadd_002dnewlines-100"></a>  <kbd>C-n</kbd> normally stops at the end of the buffer when you use it on
the last line of the buffer.  However, if you set the variable
<code>next-line-add-newlines</code> to a non-<code>nil</code> value, <kbd>C-n</kbd> on
the last line of a buffer creates an additional line at the end and
moves down into it.

</p><div class="node">
<p></p><hr>
<a name="Erasing"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Basic-Undo">Basic Undo</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Moving-Point">Moving Point</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.3 Erasing Text</h3>

     <dl>
<dt><kbd>&lt;DEL&gt;</kbd></dt><dd>Delete the character before point (<code>delete-backward-char</code>). 
<br></dd><dt><kbd>C-d</kbd></dt><dd>Delete the character after point (<code>delete-char</code>). 
<br></dd><dt><kbd>&lt;DELETE&gt;</kbd></dt><dt><kbd>&lt;BACKSPACE&gt;</kbd></dt><dd>One of these keys, whichever is the large key above the &lt;RET&gt; or
&lt;ENTER&gt; key, deletes the character before point&#8212;it is &lt;DEL&gt;. 
If &lt;BACKSPACE&gt; is &lt;DEL&gt;, and your keyboard also has &lt;DELETE&gt;,
then &lt;DELETE&gt; deletes forwards, like <kbd>C-d</kbd>. 
<br></dd><dt><kbd>C-k</kbd></dt><dd>Kill to the end of the line (<code>kill-line</code>). 
<br></dd><dt><kbd>M-d</kbd></dt><dd>Kill forward to the end of the next word (<code>kill-word</code>). 
<br></dd><dt><kbd>M-&lt;DEL&gt;</kbd></dt><dd>Kill back to the beginning of the previous word
(<code>backward-kill-word</code>). 
</dd></dl>

   <p><a name="index-killing-characters-and-lines-101"></a><a name="index-deleting-characters-and-lines-102"></a><a name="index-erasing-characters-and-lines-103"></a>  You already know about the &lt;DEL&gt; key which deletes the character
before point (that is, before the cursor).  Another key, <kbd>Control-d</kbd>
(<kbd>C-d</kbd> for short), deletes the character after point (that is, the
character that the cursor is on).  This shifts the rest of the text on
the line to the left.  If you type <kbd>C-d</kbd> at the end of a line, it
joins that line with the following line.

   </p><p>To erase a larger amount of text, use the <kbd>C-k</kbd> key, which
erases (kills) a line at a time.  If you type <kbd>C-k</kbd> at the
beginning or middle of a line, it kills all the text up to the end of
the line.  If you type <kbd>C-k</kbd> at the end of a line, it joins that
line with the following line.

   </p><p>See <a href="#Killing">Killing</a>, for more flexible ways of killing text.

</p><div class="node">
<p></p><hr>
<a name="Basic-Undo"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Basic-Files">Basic Files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Erasing">Erasing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.4 Undoing Changes</h3>

<p>Emacs records a list of changes made in the buffer text, so you can
you can undo recent changes, as far as the records go. 
Usually each editing command makes a separate entry in the undo
records, but sometimes an entry covers just part of a command, and
very simple commands may be grouped.

     </p><dl>
<dt><kbd>C-x u</kbd></dt><dd>Undo one entry of the undo records&#8212;usually, one command worth
(<code>undo</code>). 
<br></dd><dt><kbd>C-_</kbd></dt><dt><kbd>C-/</kbd></dt><dd>The same. 
</dd></dl>

   <p>The command <kbd>C-x u</kbd> (or <kbd>C-_</kbd> or <kbd>C-/</kbd>) is how you undo. 
Normally this command undoes the last change, and moves point back to
where it was before the change.

   </p><p>If you repeat <kbd>C-x u</kbd> (or its aliases), each repetition undoes
another, earlier change, back to the limit of the undo information
available.  If all recorded changes have already been undone, the undo
command displays an error message and does nothing.

   </p><p>The undo command applies only to changes in the buffer; you can't
use it to undo mere cursor motion.  However, some cursor motion
commands set the mark, so if you use these commands from time to time,
you can move back to the neighborhoods you have moved through by
popping the mark ring (see <a href="#Mark-Ring">Mark Ring</a>).

</p><div class="node">
<p></p><hr>
<a name="Basic-Files"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Basic-Help">Basic Help</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basic-Undo">Basic Undo</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.5 Files</h3>

<p>Text that you insert in an Emacs buffer lasts only as long as the
Emacs session.  To keep any text permanently you must put it in a
<dfn>file</dfn>.  Files are named units of text which are stored by the
operating system for you to retrieve later by name.  To use the
contents of a file in any way, you must specify the file name.  That
includes editing the file with Emacs.

   </p><p>Suppose there is a file named <samp><span class="file">test.emacs</span></samp> in your home
directory.  To begin editing this file in Emacs, type

</p><pre class="example">     C-x C-f test.emacs &lt;RET&gt;
</pre>
   <p class="noindent">Here the file name is given as an <dfn>argument</dfn> to the command <kbd>C-x
C-f</kbd> (<code>find-file</code>).  That command uses the <dfn>minibuffer</dfn> to
read the argument, and you type &lt;RET&gt; to terminate the argument
(see <a href="#Minibuffer">Minibuffer</a>).

   </p><p>Emacs obeys this command by <dfn>visiting</dfn> the file: it creates a
buffer, it copies the contents of the file into the buffer, and then
displays the buffer for editing.  If you alter the text, you can
<dfn>save</dfn> the new text in the file by typing <kbd>C-x C-s</kbd>
(<code>save-buffer</code>).  This copies the altered buffer contents back
into the file <samp><span class="file">test.emacs</span></samp>, making them permanent.  Until you
save, the changed text exists only inside Emacs, and the file
<samp><span class="file">test.emacs</span></samp> is unaltered.

   </p><p>To create a file, just visit it with <kbd>C-x C-f</kbd> as if it already
existed.  This creates an empty buffer, in which you can insert the
text you want to put in the file.  Emacs actually creates the file the
first time you save this buffer with <kbd>C-x C-s</kbd>.

   </p><p>To learn more about using files in Emacs, see <a href="#Files">Files</a>.

</p><div class="node">
<p></p><hr>
<a name="Basic-Help"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Blank-Lines">Blank Lines</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basic-Files">Basic Files</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.6 Help</h3>

<p><a name="index-getting-help-with-keys-104"></a>  If you forget what a key does, you can find out with the Help
character, which is <kbd>C-h</kbd> (or &lt;F1&gt;, which is an alias for
<kbd>C-h</kbd>).  Type <kbd>C-h k</kbd> followed by the key of interest; for
example, <kbd>C-h k C-n</kbd> tells you what <kbd>C-n</kbd> does.  <kbd>C-h</kbd> is
a prefix key; <kbd>C-h k</kbd> is just one of its subcommands (the command
<code>describe-key</code>).  The other subcommands of <kbd>C-h</kbd> provide
different kinds of help.  Type <kbd>C-h</kbd> twice to get a description of
all the help facilities.  See <a href="#Help">Help</a>.

</p><div class="node">
<p></p><hr>
<a name="Blank-Lines"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Continuation-Lines">Continuation Lines</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basic-Help">Basic Help</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.7 Blank Lines</h3>

<p><a name="index-inserting-blank-lines-105"></a><a name="index-deleting-blank-lines-106"></a>  Here are special commands and techniques for inserting and deleting
blank lines.

     </p><dl>
<dt><kbd>C-o</kbd></dt><dd>Insert one or more blank lines after the cursor (<code>open-line</code>). 
<br></dd><dt><kbd>C-x C-o</kbd></dt><dd>Delete all but one of many consecutive blank lines
(<code>delete-blank-lines</code>). 
</dd></dl>

   <p><a name="index-C_002do-107"></a><a name="index-C_002dx-C_002do-108"></a><a name="index-blank-lines-109"></a><a name="index-open_002dline-110"></a><a name="index-delete_002dblank_002dlines-111"></a>  To insert a new line of text before an existing line,
type the new line of text, followed by &lt;RET&gt;. 
However, it may be easier to see what you are doing if you first make a
blank line and then insert the desired text into it.  This is easy to do
using the key <kbd>C-o</kbd> (<code>open-line</code>), which inserts a newline
after point but leaves point in front of the newline.  After <kbd>C-o</kbd>,
type the text for the new line.  <kbd>C-o F O O</kbd> has the same effect as
<kbd>F&nbsp;O&nbsp;O&nbsp;&lt;RET&gt;</kbd><!-- /@w -->, except for the final location of point.

   </p><p>You can make several blank lines by typing <kbd>C-o</kbd> several times, or
by giving it a numeric argument specifying how many blank lines to make. 
See <a href="#Arguments">Arguments</a>, for how.  If you have a fill prefix, the <kbd>C-o</kbd>
command inserts the fill prefix on the new line, if typed at the
beginning of a line.  See <a href="#Fill-Prefix">Fill Prefix</a>.

   </p><p>The easy way to get rid of extra blank lines is with the command
<kbd>C-x C-o</kbd> (<code>delete-blank-lines</code>).  <kbd>C-x C-o</kbd> in a run of
several blank lines deletes all but one of them.  <kbd>C-x C-o</kbd> on a
lone blank line deletes that one.  When point is on a nonblank line,
<kbd>C-x C-o</kbd> deletes all following blank lines (if any).

</p><div class="node">
<p></p><hr>
<a name="Continuation-Lines"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Position-Info">Position Info</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Blank-Lines">Blank Lines</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.8 Continuation Lines</h3>

<p><a name="index-continuation-line-112"></a><a name="index-wrapping-113"></a><a name="index-line-wrapping-114"></a><a name="index-fringes_002c-and-continuation-lines-115"></a>  When a text line is too long to fit in one screen line, Emacs
displays it on two or more screen lines.  This is called
<dfn>continuation</dfn> or <dfn>line wrapping</dfn>.  On graphical displays,
Emacs indicates line wrapping with small bent arrows in the left and
right window fringes.  On text-only terminals, Emacs displays a
`<samp><span class="samp">\</span></samp>' character at the right margin of a screen line if it is not
the last in its text line.  This `<samp><span class="samp">\</span></samp>' character says that the
following screen line is not really a new text line.

   </p><p>When line wrapping occurs just before a character that is wider than one
column, some columns at the end of the previous screen line may be
&#8220;empty.&#8221;  In this case, Emacs displays additional `<samp><span class="samp">\</span></samp>'
characters in the &#8220;empty&#8221; columns before the `<samp><span class="samp">\</span></samp>'
character that indicates continuation.

   </p><p>Continued lines can be difficult to read, since lines can break in
the middle of a word.  If you prefer, you can make Emacs insert a
newline automatically when a line gets too long, by using Auto Fill
mode.  Or enable Long Lines mode, which ensures that wrapping only
occurs between words.  See <a href="#Filling">Filling</a>.

   </p><p><a name="index-truncation-116"></a><a name="index-line-truncation_002c-and-fringes-117"></a>  Emacs can optionally <dfn>truncate</dfn> long lines&#8212;this means
displaying just one screen line worth, and the rest of the long line
does not appear at all.  `<samp><span class="samp">$</span></samp>' in the last column or a small
straight arrow in the window's right fringe indicates a truncated
line.

   </p><p>See <a href="#Line-Truncation">Line Truncation</a>, for more about line truncation,
and other variables that control how text is displayed.

</p><div class="node">
<p></p><hr>
<a name="Position-Info"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Arguments">Arguments</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Continuation-Lines">Continuation Lines</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.9 Cursor Position Information</h3>

<p>Here are commands to get information about the size and position of
parts of the buffer, and to count lines.

     </p><dl>
<dt><kbd>M-x what-page</kbd></dt><dd>Display the page number of point, and the line number within that page. 
<br></dd><dt><kbd>M-x what-line</kbd></dt><dd>Display the line number of point in the whole buffer. 
<br></dd><dt><kbd>M-x line-number-mode</kbd></dt><dt><kbd>M-x column-number-mode</kbd></dt><dd>Toggle automatic display of the current line number or column number. 
See <a href="#Optional-Mode-Line">Optional Mode Line</a>. 
<br></dd><dt><kbd>M-=</kbd></dt><dd>Display the number of lines in the current region (<code>count-lines-region</code>). 
See <a href="#Mark">Mark</a>, for information about the region. 
<br></dd><dt><kbd>C-x =</kbd></dt><dd>Display the character code of character after point, character position of
point, and column of point (<code>what-cursor-position</code>). 
<br></dd><dt><kbd>M-x hl-line-mode</kbd></dt><dd>Enable or disable highlighting of the current line.  See <a href="#Cursor-Display">Cursor Display</a>. 
<br></dd><dt><kbd>M-x size-indication-mode</kbd></dt><dd>Toggle automatic display of the size of the buffer. 
See <a href="#Optional-Mode-Line">Optional Mode Line</a>. 
</dd></dl>

   <p><a name="index-what_002dpage-118"></a><a name="index-what_002dline-119"></a><a name="index-line-number-commands-120"></a><a name="index-location-of-point-121"></a><a name="index-cursor-location-122"></a><a name="index-point-location-123"></a>  <kbd>M-x what-line</kbd> displays the current line number
in the echo area.  You can also see the current line number in the
mode line; see <a href="#Mode-Line">Mode Line</a>; but if you narrow the buffer, the
line number in the mode line is relative to the accessible portion
(see <a href="#Narrowing">Narrowing</a>).  By contrast, <code>what-line</code> shows both the
line number relative to the narrowed region and the line number
relative to the whole buffer.

   </p><p><kbd>M-x what-page</kbd> counts pages from the beginning of the file, and
counts lines within the page, showing both numbers in the echo area. 
See <a href="#Pages">Pages</a>.

   </p><p><a name="index-M_002d_003d-124"></a><a name="index-count_002dlines_002dregion-125"></a>  Use <kbd>M-=</kbd> (<code>count-lines-region</code>) to displays the number of
lines in the region (see <a href="#Mark">Mark</a>).  See <a href="#Pages">Pages</a>, for the command
<kbd>C-x l</kbd> which counts the lines in the current page.

   </p><p><a name="index-C_002dx-_003d-126"></a><a name="index-what_002dcursor_002dposition-127"></a>  The command <kbd>C-x =</kbd> (<code>what-cursor-position</code>) shows what
cursor's column position, and other information about point and the
character after it.  It displays a line in the echo area that looks
like this:

</p><pre class="smallexample">     Char: c (99, #o143, #x63) point=28062 of 36168 (78%) column=53
</pre>
   <p>The four values after `<samp><span class="samp">Char:</span></samp>' describe the character that follows
point, first by showing it and then by giving its character code in
decimal, octal and hex.  For a non-<acronym>ASCII</acronym> multibyte character, these are
followed by `<samp><span class="samp">file</span></samp>' and the character's representation, in hex, in
the buffer's coding system, if that coding system encodes the character
safely and with a single byte (see <a href="#Coding-Systems">Coding Systems</a>).  If the
character's encoding is longer than one byte, Emacs shows `<samp><span class="samp">file ...</span></samp>'.

   </p><p>However, if the character displayed is in the range 0200 through
0377 octal, it may actually stand for an invalid UTF-8 byte read from
a file.  In Emacs, that byte is represented as a sequence of 8-bit
characters, but all of them together display as the original invalid
byte, in octal code.  In this case, <kbd>C-x =</kbd> shows `<samp><span class="samp">part of
display ...</span></samp>' instead of `<samp><span class="samp">file</span></samp>'.

   </p><p>`<samp><span class="samp">point=</span></samp>' is followed by the position of point expressed as a
character count.  The start of the buffer is position 1, one character
later is position 2, and so on.  The next, larger, number is the total
number of characters in the buffer.  Afterward in parentheses comes
the position expressed as a percentage of the total size.

   </p><p>`<samp><span class="samp">column=</span></samp>' is followed by the horizontal position of point, in
columns from the left edge of the window.

   </p><p>If the buffer has been narrowed, making some of the text at the
beginning and the end temporarily inaccessible, <kbd>C-x =</kbd> displays
additional text describing the currently accessible range.  For example, it
might display this:

</p><pre class="smallexample">     Char: C (67, #o103, #x43) point=252 of 889 (28%) &lt;231-599&gt; column=0
</pre>
   <p class="noindent">where the two extra numbers give the smallest and largest character
position that point is allowed to assume.  The characters between those
two positions are the accessible ones.  See <a href="#Narrowing">Narrowing</a>.

   </p><p>If point is at the end of the buffer (or the end of the accessible
part), the <kbd>C-x&nbsp;=</kbd><!-- /@w --> output does not describe a character after
point.  The output might look like this:

</p><pre class="smallexample">     point=36169 of 36168 (EOB) column=0
</pre>
   <p><a name="index-character-set-of-character-at-point-128"></a><a name="index-font-of-character-at-point-129"></a><a name="index-text-properties-at-point-130"></a>  <kbd>C-u&nbsp;C-x&nbsp;=</kbd><!-- /@w --> displays the following additional information about a
character.

     </p><ul>
<li>The character set name, and the codes that identify the character
within that character set; <acronym>ASCII</acronym> characters are identified
as belonging to the <code>ascii</code> character set.

     </li><li>The character's syntax and categories.

     </li><li>The character's encodings, both internally in the buffer, and externally
if you were to save the file.

     </li><li>What keys to type to input the character in the current input method
(if it supports the character).

     </li><li>If you are running Emacs on a graphical display, the font name and
glyph code for the character.  If you are running Emacs on a text-only
terminal, the code(s) sent to the terminal.

     </li><li>The character's text properties (see <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Text-Properties">Text Properties</a>), and any overlays containing it
(see <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Overlays">Overlays</a>). 
</li></ul>

   <p>Here's an example showing the Latin-1 character A with grave accent,
in a buffer whose coding system is <code>iso-latin-1</code>, whose
terminal coding system is <code>iso-latin-1</code> (so the terminal actually
displays the character as `<samp><span class="samp"></span></samp>'), and which has font-lock-mode
(see <a href="#Font-Lock">Font Lock</a>) enabled:

</p><pre class="smallexample">       character:  (2240, #o4300, #x8c0, U+00C0)
         charset: latin-iso8859-1
                  (Right-Hand Part of Latin Alphabet 1...
      code point: #x40
          syntax: w 	which means: word
        category: l:Latin
        to input: type "`A" with latin-1-prefix
     buffer code: #x81 #xC0
       file code: #xC0 (encoded by coding system iso-latin-1)
         display: terminal code #xC0
     
     There are text properties here:
       fontified            t
</pre>
   <div class="node">
<p></p><hr>
<a name="Arguments"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Repeating">Repeating</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Position-Info">Position Info</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.10 Numeric Arguments</h3>

<p><a name="index-numeric-arguments-131"></a><a name="index-prefix-arguments-132"></a><a name="index-arguments-to-commands-133"></a>
  In mathematics and computer usage, <dfn>argument</dfn> means
&#8220;data provided to a function or operation.&#8221;  You can give any Emacs
command a <dfn>numeric argument</dfn> (also called a <dfn>prefix argument</dfn>). 
Some commands interpret the argument as a repetition count.  For
example, <kbd>C-f</kbd> with an argument of ten moves forward ten characters
instead of one.  With these commands, no argument is equivalent to an
argument of one.  Negative arguments tell most such commands to move or
act in the opposite direction.

   </p><p><a name="index-M_002d1-134"></a><a name="index-M_002d_0040t_007b_002d_007d-135"></a><a name="index-digit_002dargument-136"></a><a name="index-negative_002dargument-137"></a>  If your terminal keyboard has a &lt;META&gt; key (labeled &lt;ALT&gt; on
PC keyboards), the easiest way to specify a numeric argument is to
type digits and/or a minus sign while holding down the &lt;META&gt; key. 
For example,

</p><pre class="example">     M-5 C-n
</pre>
   <p class="noindent">moves down five lines.  The characters <kbd>Meta-1</kbd>, <kbd>Meta-2</kbd>,
and so on, as well as <kbd>Meta--</kbd>, do this because they are keys bound
to commands (<code>digit-argument</code> and <code>negative-argument</code>) that
are defined to set up an argument for the next command. 
<kbd>Meta--</kbd> without digits normally means &#8722;1.  Digits and
<kbd>-</kbd> modified with Control, or Control and Meta, also specify numeric
arguments.

   </p><p><a name="index-C_002du-138"></a><a name="index-universal_002dargument-139"></a>  You can also specify a numeric argument by typing <kbd>C-u</kbd>
(<code>universal-argument</code>) followed by the digits.  The advantage of
<kbd>C-u</kbd> is that you can type the digits without modifier keys; thus,
<kbd>C-u</kbd> works on all terminals.  For a negative argument, type a
minus sign after <kbd>C-u</kbd>.  A minus sign without digits normally
means &#8722;1.

   </p><p><kbd>C-u</kbd> alone has the special meaning of
&#8220;four times&#8221;: it multiplies the argument for the next command by
four.  <kbd>C-u C-u</kbd> multiplies it by sixteen.  Thus, <kbd>C-u C-u
C-f</kbd> moves forward sixteen characters.  This is a good way to move
forward &#8220;fast,&#8221; since it moves about 1/5 of a line in the usual size
screen.  Other useful combinations are <kbd>C-u C-n</kbd>, <kbd>C-u C-u
C-n</kbd> (move down a good fraction of a screen), <kbd>C-u C-u C-o</kbd> (make
&#8220;a lot&#8221; of blank lines), and <kbd>C-u C-k</kbd> (kill four lines).

   </p><p>Some commands care whether there is an argument, but ignore its
value.  For example, the command <kbd>M-q</kbd> (<code>fill-paragraph</code>)
fills text; with an argument, it justifies the text as well. 
(See <a href="#Filling">Filling</a>, for more information on <kbd>M-q</kbd>.)  Plain <kbd>C-u</kbd>
is a handy way of providing an argument for such commands.

   </p><p>Some commands use the value of the argument as a repeat count, but do
something peculiar when there is no argument.  For example, the command
<kbd>C-k</kbd> (<code>kill-line</code>) with argument <var>n</var> kills <var>n</var> lines,
including their terminating newlines.  But <kbd>C-k</kbd> with no argument is
special: it kills the text up to the next newline, or, if point is right at
the end of the line, it kills the newline itself.  Thus, two <kbd>C-k</kbd>
commands with no arguments can kill a nonblank line, just like <kbd>C-k</kbd>
with an argument of one.  (See <a href="#Killing">Killing</a>, for more information on
<kbd>C-k</kbd>.)

   </p><p>A few commands treat a plain <kbd>C-u</kbd> differently from an ordinary
argument.  A few others may treat an argument of just a minus sign
differently from an argument of &#8722;1.  These unusual cases are
described when they come up; they exist to make an individual command
more convenient, and they are documented in that command's
documentation string.

   </p><p>You can use a numeric argument before a self-inserting character to
insert multiple copies of it.  This is straightforward when the
character is not a digit; for example, <kbd>C-u 6 4 a</kbd> inserts 64
copies of the character `<samp><span class="samp">a</span></samp>'.  But this does not work for
inserting digits; <kbd>C-u 6 4 1</kbd> specifies an argument of 641.  You
can separate the argument from the digit to insert with another
<kbd>C-u</kbd>; for example, <kbd>C-u 6 4 C-u 1</kbd> does insert 64 copies of
the character `<samp><span class="samp">1</span></samp>'.

   </p><p>We use the term &#8220;prefix argument&#8221; as well as &#8220;numeric argument,&#8221;
to emphasize that you type these argument before the command, and to
distinguish them from minibuffer arguments that come after the
command.

</p><div class="node">
<p></p><hr>
<a name="Repeating"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Arguments">Arguments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic">Basic</a>

</div>

<h3 class="section">8.11 Repeating a Command</h3>

<p><a name="index-repeating-a-command-140"></a>
  Many simple commands, such as those invoked with a single key or
with <kbd>M-x </kbd><var>command-name</var><kbd> &lt;RET&gt;</kbd>, can be repeated by
invoking them with a numeric argument that serves as a repeat count
(see <a href="#Arguments">Arguments</a>).  However, if the command you want to repeat
prompts for input, or uses a numeric argument in another way, that
method won't work.

   </p><p><a name="index-C_002dx-z-141"></a><a name="index-repeat-142"></a>  The command <kbd>C-x z</kbd> (<code>repeat</code>) provides another way to repeat
an Emacs command many times.  This command repeats the previous Emacs
command, whatever that was.  Repeating a command uses the same arguments
that were used before; it does not read new arguments each time.

   </p><p>To repeat the command more than once, type additional <kbd>z</kbd>'s: each
<kbd>z</kbd> repeats the command one more time.  Repetition ends when you
type a character other than <kbd>z</kbd>, or press a mouse button.

   </p><p>For example, suppose you type <kbd>C-u 2 0 C-d</kbd> to delete 20
characters.  You can repeat that command (including its argument) three
additional times, to delete a total of 80 characters, by typing <kbd>C-x
z z z</kbd>.  The first <kbd>C-x z</kbd> repeats the command once, and each
subsequent <kbd>z</kbd> repeats it once again.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2000, 2001, -->
<!-- 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Minibuffer"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#M_002dx">M-x</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basic">Basic</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">9 The Minibuffer</h2>

<p><a name="index-minibuffer-143"></a>
  The <dfn>minibuffer</dfn> is where Emacs commands read complicated
arguments (anything more a single number).  We call it the
&#8220;minibuffer&#8221; because it's a special-purpose buffer with a small
amount of screen space.  Minibuffer arguments can be file names,
buffer names, Lisp function names, Emacs command names, Lisp
expressions, and many other things&#8212;whatever the command wants to
read.  You can use the usual Emacs editing commands in the minibuffer
to edit the argument text.

   </p><p><a name="index-prompt-144"></a>  When the minibuffer is in use, it appears in the echo area, with a
cursor.  The minibuffer display starts with a <dfn>prompt</dfn> in a
distinct color; it says what kind of input is expected and how it will
be used.  Often the prompt is derived from the name of the command
that is reading the argument.  The prompt normally ends with a colon.

   </p><p><a name="index-default-argument-145"></a>  Sometimes a <dfn>default argument</dfn> appears in the prompt, inside
parentheses before the colon.  The default will be used as the
argument value if you just type &lt;RET&gt;.  For example, commands that
read buffer names show a buffer name as the default.  You can type
&lt;RET&gt; to operate on that default buffer.

   </p><p>The simplest way to enter a minibuffer argument is to type the text,
then &lt;RET&gt; to exit the minibuffer.  You can cancel the minibuffer,
and the command that wants the argument, by typing <kbd>C-g</kbd>.

   </p><p>Since the minibuffer appears in the echo area, it can conflict with
other uses of the echo area.  Here is how Emacs handles such
conflicts:

     </p><ul>
<li>An error occurs while the minibuffer is active.

     <p>The error message hides the minibuffer for a few seconds, or until you
type something.  Then the minibuffer comes back.

     </p></li><li>A command such as <kbd>C-x =</kbd> needs to display a message in the echo
area.

     <p>The message hides the minibuffer for a few seconds, or until you type
something.  Then the minibuffer comes back.

     </p></li><li>Keystrokes don't echo while the minibuffer is in use. 
</li></ul>

<ul class="menu">
<li><a accesskey="1" href="#Minibuffer-File">File</a>:   Entering file names with the minibuffer. 
</li><li><a accesskey="2" href="#Minibuffer-Edit">Edit</a>:   How to edit in the minibuffer. 
</li><li><a accesskey="3" href="#Completion">Completion</a>: 		  An abbreviation facility for minibuffer input. 
</li><li><a accesskey="4" href="#Minibuffer-History">Minibuffer History</a>:     Reusing recent minibuffer arguments. 
</li><li><a accesskey="5" href="#Repetition">Repetition</a>: 		  Re-executing commands that used the minibuffer. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Minibuffer-File"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Minibuffer-Edit">Minibuffer Edit</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Minibuffer">Minibuffer</a>

</div>

<h3 class="section">9.1 Minibuffers for File Names</h3>

<p>When you use the minibuffer to enter a file name, it starts out with
some initial text&#8212;the <dfn>default directory</dfn>, ending in a slash. 
The file you specify will be in this directory unless you alter or
replace it.

<!-- Separate paragraph to clean up ugly page break-rms -->
</p><p>For example, if the minibuffer starts out with these contents:

</p><pre class="example">     Find File: /u2/emacs/src/
</pre>
   <p class="noindent">(where `<samp><span class="samp">Find File: </span></samp>' is the prompt), and you type
<kbd>buffer.c</kbd> as input, that specifies the file
<samp><span class="file">/u2/emacs/src/buffer.c</span></samp>.  You can specify the parent directory
by adding <samp><span class="file">..</span></samp>; thus, if you type <kbd>../lisp/simple.el</kbd>, you
will get <samp><span class="file">/u2/emacs/lisp/simple.el</span></samp>.  Alternatively, you can use
<kbd>M-&lt;DEL&gt;</kbd> to kill the directory names you don't want
(see <a href="#Words">Words</a>).

   </p><p>You can kill the entire default with <kbd>C-a C-k</kbd>, but there's no
need to do that.  It's easier to ignore the default, and enter an
absolute file name starting with a slash or a tilde after the default
directory.  For example, to specify <samp><span class="file">/etc/termcap</span></samp>, just type
that name:

</p><pre class="example">     Find File: /u2/emacs/src//etc/termcap
</pre>
   <p class="noindent"><a name="index-g_t_002f_002f-in-file-name-146"></a><a name="index-double-slash-in-file-name-147"></a><a name="index-slashes-repeated-in-file-name-148"></a><a name="index-file_002dname_002dshadow_002dmode-149"></a>GNU Emacs interprets a double slash (which is not normally useful in
file names) as, &#8220;ignore everything before the second slash in the
pair.&#8221;  In the example above. `<samp><span class="samp">/u2/emacs/src/</span></samp>' is ignored, so
you get <samp><span class="file">/etc/termcap</span></samp>.  The ignored part of the file name is
dimmed if the terminal allows it; to disable this dimming, turn off
File Name Shadow mode (a minor mode) with the command
<kbd>M-x file-name-shadow-mode</kbd>.

   </p><p>If the variable <code>insert-default-directory</code> is <code>nil</code>, the
default directory is never inserted in the minibuffer&#8212;so the
minibuffer starts out empty.  Nonetheless, relative file name
arguments are still interpreted based on the same default directory.

</p><div class="node">
<p></p><hr>
<a name="Minibuffer-Edit"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Completion">Completion</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Minibuffer-File">Minibuffer File</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Minibuffer">Minibuffer</a>

</div>

<h3 class="section">9.2 Editing in the Minibuffer</h3>

<p>The minibuffer is an Emacs buffer (albeit a peculiar one), and the
usual Emacs commands are available for editing the argument text.

   </p><p>Since &lt;RET&gt; in the minibuffer is defined to exit the minibuffer,
you can't use it to insert a newline in the minibuffer.  To do that,
type <kbd>C-o</kbd> or <kbd>C-q C-j</kbd>.  (The newline character is really the
<acronym>ASCII</acronym> character control-J.)

   </p><p>The minibuffer has its own window, which normally has space in the
frame at all times, but it only acts like an Emacs window when the
minibuffer is active.  When active, this window is much like any other
Emacs window; for instance, you can switch to another window (with
<kbd>C-x o</kbd>), edit text there, then return to the minibuffer window to
finish the argument.  You can even kill text in another window, return
to the minibuffer window, and then yank the text into the argument. 
See <a href="#Windows">Windows</a>.

   </p><p><a name="index-height-of-minibuffer-150"></a><a name="index-size-of-minibuffer-151"></a><a name="index-growing-minibuffer-152"></a><a name="index-resizing-minibuffer-153"></a>  There are some restrictions on the minibuffer window, however: you
cannot kill it, or split it, or switch buffers in it&#8212;the minibuffer
and its window are permanently attached.

   </p><p><a name="index-resize_002dmini_002dwindows-154"></a>  The minibuffer window expands vertically as necessary to hold the
text that you put in the minibuffer.  If <code>resize-mini-windows</code> is
<code>t</code> (the default), the window always resizes as needed by its
contents.  If its value is the symbol <code>grow-only</code>, the window
grows automatically as needed, but shrinks (back to the normal size)
only when the minibuffer becomes inactive.  If its value is
<code>nil</code>, you have to adjust the height yourself.

   </p><p><a name="index-max_002dmini_002dwindow_002dheight-155"></a>  The variable <code>max-mini-window-height</code> controls the maximum
height for resizing the minibuffer window: a floating-point number
specifies a fraction of the frame's height; an integer specifies the
maximum number of lines; <code>nil</code> means do not resize the minibuffer
window automatically.  The default value is 0.25.

   </p><p>The <kbd>C-M-v</kbd> command in the minibuffer scrolls the help text from
commands that display help text of any sort in another window. 
<kbd>M-&lt;PAGEUP&gt;</kbd> and <kbd>M-&lt;PAGEDOWN&gt;</kbd> also operate on that
help text.  This is especially useful with long lists of possible
completions.  See <a href="#Other-Window">Other Window</a>.

   </p><p><a name="index-enable_002drecursive_002dminibuffers-156"></a>  Emacs normally disallows most commands that use the minibuffer while
the minibuffer is active.  (Entering the minibuffer from the
minibuffer can be confusing.)  To allow such commands in the
minibuffer, set the variable <code>enable-recursive-minibuffers</code> to
<code>t</code>.

</p><div class="node">
<p></p><hr>
<a name="Completion"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Minibuffer-History">Minibuffer History</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Minibuffer-Edit">Minibuffer Edit</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Minibuffer">Minibuffer</a>

</div>

<h3 class="section">9.3 Completion</h3>

<p><a name="index-completion-157"></a>
  Some arguments allow <dfn>completion</dfn> to enter their value.  This
means that after you type part of the argument, Emacs can fill in the
rest, or some of it, based on what you have typed so far.

   </p><p>When completion is available, certain keys&#8212;&lt;TAB&gt;, &lt;RET&gt;,
and &lt;SPC&gt;&#8212;are rebound to complete the text in the minibuffer
before point into a longer string chosen from a set of <dfn>completion
alternatives</dfn> provided by the command that requested the argument. 
(&lt;SPC&gt; does not do completion in reading file names, because it is
common to use spaces in file names on some systems.)  <kbd>?</kbd> displays
a list of the possible completions at any time.

   </p><p>For example, <kbd>M-x</kbd> uses the minibuffer to read the name of a
command, so it provides a list of all Emacs command names for
completion candidates.  The completion keys match the minibuffer text
against these candidates, find any additional name characters implied
by the text already present in the minibuffer, and add those
characters.  This makes it possible to type <kbd>M-x ins &lt;SPC&gt; b
&lt;RET&gt;</kbd> instead of <kbd>M-x insert-buffer &lt;RET&gt;</kbd>, for example.

   </p><p>Case is significant in completion when it is significant in the
argument you are entering (buffer names, file names, command names,
for instance).  Thus, `<samp><span class="samp">fo</span></samp>' does not complete to `<samp><span class="samp">Foo</span></samp>'. 
Completion ignores case distinctions for certain arguments in which
case does not matter.

   </p><p>Completion acts only on the text before point.  If there is text in
the minibuffer after point&#8212;i.e., if you move point backward after
typing some text into the minibuffer&#8212;it remains unchanged.

</p><ul class="menu">
<li><a accesskey="1" href="#Completion-Example">Example</a>:     Examples of using completion. 
</li><li><a accesskey="2" href="#Completion-Commands">Commands</a>:   A list of completion commands. 
</li><li><a accesskey="3" href="#Strict-Completion">Strict Completion</a>:              Different types of completion. 
</li><li><a accesskey="4" href="#Completion-Options">Options</a>:     Options for completion. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Completion-Example"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Completion-Commands">Completion Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Completion">Completion</a>

</div>

<h4 class="subsection">9.3.1 Completion Example</h4>

<p><a name="index-TAB-_0040r_007b_0028completion_0029_007d-158"></a>  A concrete example may help here.  If you type <kbd>M-x au
&lt;TAB&gt;</kbd>, the &lt;TAB&gt; looks for alternatives (in this case,
command names) that start with `<samp><span class="samp">au</span></samp>'.  There are several,
including <code>auto-fill-mode</code> and <code>auto-save-mode</code>, but they
all begin with <code>auto-</code>, so the `<samp><span class="samp">au</span></samp>' in the minibuffer
completes to `<samp><span class="samp">auto-</span></samp>'.

   </p><p>If you type &lt;TAB&gt; again immediately, it cannot determine the
next character; it could be any of `<samp><span class="samp">cfilrs</span></samp>'.  So it does not add
any characters; instead, &lt;TAB&gt; displays a list of all possible
completions in another window.

   </p><p>Now type <kbd>f &lt;TAB&gt;</kbd>.  This &lt;TAB&gt; sees `<samp><span class="samp">auto-f</span></samp>'.  The
only command name starting with that is <code>auto-fill-mode</code>, so
completion fills in the rest of that.  You have been able to enter
`<samp><span class="samp">auto-fill-mode</span></samp>' by typing just <kbd>au &lt;TAB&gt; f &lt;TAB&gt;</kbd>.

</p><div class="node">
<p></p><hr>
<a name="Completion-Commands"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Strict-Completion">Strict Completion</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Completion-Example">Completion Example</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Completion">Completion</a>

</div>

<h4 class="subsection">9.3.2 Completion Commands</h4>

<p>Here is a list of the completion commands defined in the minibuffer
when completion is allowed.

     </p><dl>
<dt><kbd>&lt;TAB&gt;</kbd></dt><dd><a name="index-minibuffer_002dcomplete-159"></a>Complete the text before point in the minibuffer as much as possible
(<code>minibuffer-complete</code>). 
<br></dd><dt><kbd>&lt;SPC&gt;</kbd></dt><dd>Complete up to one word from the minibuffer text before point
(<code>minibuffer-complete-word</code>).  &lt;SPC&gt; for completion is not
available when entering a file name, since file names often include
spaces. 
<br></dd><dt><kbd>&lt;RET&gt;</kbd></dt><dd>Submit the text in the minibuffer as the argument, possibly completing
first as described
in the next node (<code>minibuffer-complete-and-exit</code>).  See <a href="#Strict-Completion">Strict Completion</a>. 
<br></dd><dt><kbd>?</kbd></dt><dd>Display a list of possible completions of the text before point
(<code>minibuffer-completion-help</code>). 
</dd></dl>

   <p><a name="index-SPC-160"></a><a name="index-minibuffer_002dcomplete_002dword-161"></a>  &lt;SPC&gt; completes like &lt;TAB&gt;, but only up to the next hyphen
or space.  If you have `<samp><span class="samp">auto-f</span></samp>' in the minibuffer and type
&lt;SPC&gt;, it finds that the completion is `<samp><span class="samp">auto-fill-mode</span></samp>', but
it only inserts `<samp><span class="samp">ill-</span></samp>', giving `<samp><span class="samp">auto-fill-</span></samp>'.  Another
&lt;SPC&gt; at this point completes all the way to
`<samp><span class="samp">auto-fill-mode</span></samp>'.  The command that implements this behavior is
called <code>minibuffer-complete-word</code>.

   </p><p>When you display a list of possible completions, you can choose
one from it:

     
<a name="index-mouse_002dchoose_002dcompletion-162"></a>
</p><dl><dt><kbd>Mouse-1</kbd></dt><dt><kbd>Mouse-2</kbd></dt><dd>Clicking mouse button 1 or 2 on a completion possibility chooses that
completion (<code>mouse-choose-completion</code>).  You must click in the
list of completions, not in the minibuffer.

     <p><a name="index-switch_002dto_002dcompletions-163"></a><br></p></dd><dt><kbd>&lt;PRIOR&gt;</kbd></dt><dt><kbd>M-v</kbd></dt><dd>Typing &lt;PRIOR&gt; or &lt;PAGE-UP&gt;, or <kbd>M-v</kbd>, while in the
minibuffer, selects the window showing the completion list buffer
(<code>switch-to-completions</code>).  This paves the way for using the
commands below.  (Selecting that window in other ways has the same
effect.)

     <p><a name="index-choose_002dcompletion-164"></a><br></p></dd><dt><kbd>&lt;RET&gt;</kbd></dt><dd>Typing &lt;RET&gt; <em>in the completion list buffer</em> chooses the
completion that point is in or next to (<code>choose-completion</code>).  To
use this command, you must first switch to the completion list window.

     <p><a name="index-next_002dcompletion-165"></a><br></p></dd><dt><kbd>&lt;RIGHT&gt;</kbd></dt><dd>Typing the right-arrow key &lt;RIGHT&gt; <em>in the completion list
buffer</em> moves point to the following completion possibility
(<code>next-completion</code>).

     <p><a name="index-previous_002dcompletion-166"></a><br></p></dd><dt><kbd>&lt;LEFT&gt;</kbd></dt><dd>Typing the left-arrow key &lt;LEFT&gt; <em>in the completion list
buffer</em> moves point to the previous completion possibility
(<code>previous-completion</code>). 
</dd></dl>

<div class="node">
<p></p><hr>
<a name="Strict-Completion"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Completion-Options">Completion Options</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Completion-Commands">Completion Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Completion">Completion</a>

</div>

<h4 class="subsection">9.3.3 Strict Completion</h4>

<p>There are three different ways that &lt;RET&gt; can do completion,
depending on how the argument will be used.

     </p><ul>
<li><dfn>Strict</dfn> completion accepts only known completion candidates.  For
example, when <kbd>C-x k</kbd> reads the name of a buffer to kill, only the
name of an existing buffer makes sense.  In strict completion,
&lt;RET&gt; refuses to exit if the text in the minibuffer does not
complete to an exact match.

     </li><li><dfn>Cautious</dfn> completion is similar to strict completion, except that
&lt;RET&gt; exits only if the text is an already exact match. 
Otherwise, &lt;RET&gt; does not exit, but it does complete the text.  If
that completes to an exact match, a second &lt;RET&gt; will exit.

     <p>Cautious completion is used for reading file names for files that must
already exist, for example.

     </p></li><li><dfn>Permissive</dfn> completion allows any input; the completion
candidates are just suggestions.  For example, when <kbd>C-x C-f</kbd>
reads the name of a file to visit, any file name is allowed, including
nonexistent file (in case you want to create a file).  In permissive
completion, &lt;RET&gt; does not complete, it just submits the argument
as you have entered it. 
</li></ul>

   <p>The completion commands display a list of all possible completions
whenever they can't determine even one more character by completion. 
Also, typing <kbd>?</kbd> explicitly requests such a list.  You can scroll
the list with <kbd>C-M-v</kbd> (see <a href="#Other-Window">Other Window</a>).

</p><div class="node">
<p></p><hr>
<a name="Completion-Options"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Strict-Completion">Strict Completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Completion">Completion</a>

</div>

<h4 class="subsection">9.3.4 Completion Options</h4>

<p><a name="index-completion_002dignored_002dextensions-167"></a><a name="index-ignored-file-names_002c-in-completion-168"></a>  When completing file names, certain file names are usually ignored. 
The variable <code>completion-ignored-extensions</code> contains a list of
strings; a file name ending in any of those strings is ignored as a
completion candidate.  The standard value of this variable has several
elements including <code>".o"</code>, <code>".elc"</code>, <code>".dvi"</code> and
<code>"~"</code>.  The effect is that, for example, `<samp><span class="samp">foo</span></samp>' can complete
to `<samp><span class="samp">foo.c</span></samp>' even though `<samp><span class="samp">foo.o</span></samp>' exists as well.  However, if
<em>all</em> the possible completions end in &#8220;ignored&#8221; strings, then
they are not ignored.  Displaying a list of possible completions
disregards <code>completion-ignored-extensions</code>; it shows them all.

   </p><p>If an element of <code>completion-ignored-extensions</code> ends in a
slash (<samp><span class="file">/</span></samp>), it's a subdirectory name; then that directory and
its contents are ignored.  Elements of
<code>completion-ignored-extensions</code> which do not end in a slash are
ordinary file names, and do not apply to names of directories.

   </p><p><a name="index-completion_002dauto_002dhelp-169"></a>  If <code>completion-auto-help</code> is set to <code>nil</code>, the completion
commands never display a list of possibilities; you must type <kbd>?</kbd>
to display the list.

   </p><p><a name="index-Partial-Completion-mode-170"></a><a name="index-partial_002dcompletion_002dmode-171"></a><a name="index-partial_002dcompletion_002dmode-172"></a>  Partial Completion mode implements a more powerful kind of
completion that can complete multiple words in parallel.  For example,
it can complete the command name abbreviation <code>p-b</code> into
<code>print-buffer</code> if no other command starts with two words whose
initials are `<samp><span class="samp">p</span></samp>' and `<samp><span class="samp">b</span></samp>'.

   </p><p>To enable this mode, use <kbd>M-x partial-completion-mode</kbd>, or
customize the variable <code>partial-completion-mode</code>.  This mode
binds special partial completion commands to &lt;TAB&gt;, &lt;SPC&gt;,
&lt;RET&gt;, and <kbd>?</kbd> in the minibuffer.  The usual completion
commands are available on <kbd>M-&lt;TAB&gt;</kbd> (or <kbd>C-M-i</kbd>),
<kbd>M-&lt;SPC&gt;</kbd>, <kbd>M-&lt;RET&gt;</kbd> and <kbd>M-?</kbd>.

   </p><p>Partial completion of directories in file names uses `<samp><span class="samp">*</span></samp>' to
indicate the places for completion; thus, <samp><span class="file">/u*/b*/f*</span></samp> might
complete to <samp><span class="file">/usr/bin/foo</span></samp>.  For remote files, partial completion
enables completion of methods, user names and host names. 
See <a href="#Remote-Files">Remote Files</a>.

   </p><p><a name="index-PC_002dinclude_002dfile_002dpath-173"></a><a name="index-PC_002ddisable_002dincludes-174"></a>  Partial Completion mode also extends <code>find-file</code> so that
`<samp><span class="samp">&lt;</span><var>include</var><span class="samp">&gt;</span></samp>' looks for the file named <var>include</var> in the
directories in the path <code>PC-include-file-path</code>.  If you set
<code>PC-disable-includes</code> to non-<code>nil</code>, this feature is
disabled.

   </p><p><a name="index-Icomplete-mode-175"></a><a name="index-icomplete_002dmode-176"></a>  Icomplete mode presents a constantly-updated display that tells you
what completions are available for the text you've entered so far.  The
command to enable or disable this minor mode is <kbd>M-x
icomplete-mode</kbd>.

</p><div class="node">
<p></p><hr>
<a name="Minibuffer-History"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Repetition">Repetition</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Completion">Completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Minibuffer">Minibuffer</a>

</div>

<h3 class="section">9.4 Minibuffer History</h3>

<p><a name="index-minibuffer-history-177"></a><a name="index-history-of-minibuffer-input-178"></a>
  Every argument that you enter with the minibuffer is saved on a
<dfn>minibuffer history list</dfn> so you can easily use it again later. 
Special commands fetch the text of an earlier argument into the
minibuffer, replacing the old minibuffer contents.  You can think of
them as moving through the history of previous arguments.

     </p><dl>
<dt><kbd>&lt;UP&gt;</kbd></dt><dt><kbd>M-p</kbd></dt><dd>Move to the previous item in the minibuffer history, an earlier argument
(<code>previous-history-element</code>). 
<br></dd><dt><kbd>&lt;DOWN&gt;</kbd></dt><dt><kbd>M-n</kbd></dt><dd>Move to the next item in the minibuffer history
(<code>next-history-element</code>). 
<br></dd><dt><kbd>M-r </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd></dt><dd>Move to an earlier item in the minibuffer history that
matches <var>regexp</var> (<code>previous-matching-history-element</code>). 
<br></dd><dt><kbd>M-s </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd></dt><dd>Move to a later item in the minibuffer history that matches
<var>regexp</var> (<code>next-matching-history-element</code>). 
</dd></dl>

   <p><a name="index-M_002dp-_0040r_007b_0028minibuffer-history_0029_007d-179"></a><a name="index-M_002dn-_0040r_007b_0028minibuffer-history_0029_007d-180"></a><a name="index-next_002dhistory_002delement-181"></a><a name="index-previous_002dhistory_002delement-182"></a>  To move through the minibuffer history list one item at a time, use
<kbd>M-p</kbd> or up-arrow (<code>previous-history-element</code>) to fetch the
next earlier minibuffer input, and use <kbd>M-n</kbd> or down-arrow
(<code>next-history-element</code>) to fetch the next later input.  These
commands don't move the cursor, they pull different saved strings into
the minibuffer.  But you can think of them as &#8220;moving&#8221; through the
history list.

   </p><p>The input that you fetch from the history entirely replaces the
contents of the minibuffer.  To use it again unchanged, just type
&lt;RET&gt;.  You can also edit the text before you reuse it; this does
not change the history element that you &#8220;moved&#8221; to, but your new
argument does go at the end of the history list in its own right.

   </p><p>For many minibuffer arguments there is a &#8220;default&#8221; value.  You can
insert the default value into the minibuffer as text by using
<kbd>M-n</kbd>.  You can think of this as moving &#8220;into the future&#8221; in the
history.

   </p><p><a name="index-previous_002dmatching_002dhistory_002delement-183"></a><a name="index-next_002dmatching_002dhistory_002delement-184"></a><a name="index-M_002dr-_0040r_007b_0028minibuffer-history_0029_007d-185"></a><a name="index-M_002ds-_0040r_007b_0028minibuffer-history_0029_007d-186"></a>  There are also commands to search forward or backward through the
history; they search for history elements that match a regular
expression.  <kbd>M-r</kbd> (<code>previous-matching-history-element</code>)
searches older elements in the history, while <kbd>M-s</kbd>
(<code>next-matching-history-element</code>) searches newer elements.  These
commands are unusual; they use the minibuffer to read the regular
expression even though they are invoked from the minibuffer.  As with
incremental searching, an upper-case letter in the regular expression
makes the search case-sensitive (see <a href="#Search-Case">Search Case</a>).

   </p><p>All uses of the minibuffer record your input on a history list, but
there are separate history lists for different kinds of arguments. 
For example, there is a list for file names, used by all the commands
that read file names.  (As a special feature, this history list
records the absolute file name, even if the name you entered was not
absolute.)

   </p><p>There are several other specific history lists, including one for
buffer names, one for arguments of commands like <code>query-replace</code>,
one used by <kbd>M-x</kbd> for command names, and one used by
<code>compile</code> for compilation commands.  Finally, there is one
&#8220;miscellaneous&#8221; history list that most minibuffer arguments use.

   </p><p><a name="index-history_002dlength-187"></a>  The variable <code>history-length</code> specifies the maximum length of a
minibuffer history list; adding a new element deletes the oldest
element if the list gets too long.  If the value of
<code>history-length</code> is <code>t</code>, though, there is no maximum length.

   </p><p><a name="index-history_002ddelete_002dduplicates-188"></a>  The variable <code>history-delete-duplicates</code> specifies whether to
delete duplicates in history.  If it is <code>t</code>, adding a new element
deletes from the list all other elements that are equal to it.

</p><div class="node">
<p></p><hr>
<a name="Repetition"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Minibuffer-History">Minibuffer History</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Minibuffer">Minibuffer</a>

</div>

<h3 class="section">9.5 Repeating Minibuffer Commands</h3>

<p><a name="index-command-history-189"></a><a name="index-history-of-commands-190"></a>
  Every command that uses the minibuffer once is recorded on a special
history list, the <dfn>command history</dfn>, together with the values of
its arguments, so that you can repeat the entire command.  In
particular, every use of <kbd>M-x</kbd> is recorded there, since <kbd>M-x</kbd>
uses the minibuffer to read the command name.

   </p><p><a name="index-list_002dcommand_002dhistory-191"></a>
     </p><dl>
<dt><kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd></dt><dd>Re-execute a recent minibuffer command from the command history
 (<code>repeat-complex-command</code>). 
<br></dd><dt><kbd>M-x list-command-history</kbd></dt><dd>Display the entire command history, showing all the commands
<kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd> can repeat, most recent first. 
</dd></dl>

   <p><a name="index-C_002dx-ESC-ESC-192"></a><a name="index-repeat_002dcomplex_002dcommand-193"></a>  <kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd> is used to re-execute a recent command
that used the minibuffer.  With no argument, it repeats the last such
command.  A numeric argument specifies which command to repeat; 1
means the last one, 2 the previous, and so on.

   </p><p><kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd> works by turning the previous command
into a Lisp expression and then entering a minibuffer initialized with
the text for that expression.  Even if you don't understand Lisp
syntax, it will probably be obvious which command is displayed for
repetition.  If you type just &lt;RET&gt;, that repeats the command
unchanged.  You can also change the command by editing the Lisp
expression before you execute it.  The repeated command is added to
the front of the command history unless it is identical to the most
recently item.

   </p><p>Once inside the minibuffer for <kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd>, you can
use the minibuffer history commands (<kbd>M-p</kbd>, <kbd>M-n</kbd>, <kbd>M-r</kbd>,
<kbd>M-s</kbd>; see <a href="#Minibuffer-History">Minibuffer History</a>) to move through the history list
of saved entire commands.  After finding the desired previous command,
you can edit its expression as usual and then repeat it by typing
&lt;RET&gt;.

   </p><p><a name="index-isearch_002dresume_002din_002dcommand_002dhistory-194"></a>  Incremental search does not, strictly speaking, use the minibuffer. 
Therefore, although it behaves like a complex command, it normally
does not appear in the history list for <kbd>C-x &lt;ESC&gt; &lt;ESC&gt;</kbd>. 
You can make incremental search commands appear in the history by
setting <code>isearch-resume-in-command-history</code> to a non-<code>nil</code>
value.  See <a href="#Incremental-Search">Incremental Search</a>.

   </p><p><a name="index-command_002dhistory-195"></a>  The list of previous minibuffer-using commands is stored as a Lisp
list in the variable <code>command-history</code>.  Each element is a Lisp
expression which describes one command and its arguments.  Lisp programs
can re-execute a command by calling <code>eval</code> with the
<code>command-history</code> element.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2001, 2002, -->
<!-- 2003, 2004, 2005, 2006, 2007  Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="M-x"></a>
<a name="M_002dx"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Help">Help</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Minibuffer">Minibuffer</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">10 Running Commands by Name</h2>

<p>Every Emacs command has a name that you can use to run it.  For
convenience, many commands also have key bindings.  You can run those
commands by typing the keys, or run them by name.  Most Emacs commands
have no key bindings, so the only way to run them is by name. 
(See <a href="#Key-Bindings">Key Bindings</a>, for how to set up key bindings.)

   </p><p>By convention, a command name consists of one or more words,
separated by hyphens; for example, <code>auto-fill-mode</code> or
<code>manual-entry</code>.  Command names mostly use complete English words
to make them easier to remember.

   </p><p><a name="index-M_002dx-196"></a>  To run a command by name, start with <kbd>M-x</kbd>, type the command
name, then terminate it with &lt;RET&gt;.  <kbd>M-x</kbd> uses the minibuffer
to read the command name.  The string `<samp><span class="samp">M-x</span></samp>' appears at the
beginning of the minibuffer as a <dfn>prompt</dfn> to remind you to enter a
command name to be run.  &lt;RET&gt; exits the minibuffer and runs the
command.  See <a href="#Minibuffer">Minibuffer</a>, for more information on the minibuffer.

   </p><p>You can use completion to enter the command name.  For example,
to invoke the command <code>forward-char</code>, you can type

</p><pre class="example">     M-x forward-char &lt;RET&gt;
</pre>
   <p class="noindent">or

</p><pre class="example">     M-x forw &lt;TAB&gt; c &lt;RET&gt;
</pre>
   <p class="noindent">Note that <code>forward-char</code> is the same command that you invoke with
the key <kbd>C-f</kbd>.  The existence of a key binding does not stop you
from running the command by name.

   </p><p>To cancel the <kbd>M-x</kbd> and not run a command, type <kbd>C-g</kbd> instead
of entering the command name.  This takes you back to command level.

   </p><p>To pass a numeric argument to the command you are invoking with
<kbd>M-x</kbd>, specify the numeric argument before <kbd>M-x</kbd>.  The
argument value appears in the prompt while the command name is being
read, and finally <kbd>M-x</kbd> passes the argument to that command.

   </p><p><a name="index-suggest_002dkey_002dbindings-197"></a>  When the command you run with <kbd>M-x</kbd> has a key binding, Emacs
mentions this in the echo area after running the command.  For
example, if you type <kbd>M-x forward-word</kbd>, the message says that you
can run the same command by typing <kbd>M-f</kbd>.  You can turn off these
messages by setting the variable <code>suggest-key-bindings</code> to
<code>nil</code>.

   </p><p>In this manual, when we speak of running a command by name, we often
omit the &lt;RET&gt; that terminates the name.  Thus we might say
<kbd>M-x auto-fill-mode</kbd> rather than <kbd>M-x auto-fill-mode
&lt;RET&gt;</kbd>.  We mention the &lt;RET&gt; only for emphasis, such as when
the command is followed by arguments.

   </p><p><a name="index-execute_002dextended_002dcommand-198"></a>  <kbd>M-x</kbd> works by running the command
<code>execute-extended-command</code>, which is responsible for reading the
name of another command and invoking it.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2000, 2001, -->
<!-- 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Help"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Mark">Mark</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#M_002dx">M-x</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">11 Help</h2>

<p><a name="index-Help-199"></a><a name="index-help-200"></a><a name="index-self_002ddocumentation-201"></a><a name="index-help_002dcommand-202"></a><a name="index-C_002dh-203"></a><a name="index-F1-204"></a>
  Emacs provides extensive help features, all accessible through the
<dfn>help character</dfn>, <kbd>C-h</kbd>.  This is a prefix key that is used
for commands that display documentation; the next character you type
should be a <dfn>help options</dfn>, to ask for a particular kind of help. 
You can cancel the <kbd>C-h</kbd> command with <kbd>C-g</kbd>.  The function key
&lt;F1&gt; is equivalent to <kbd>C-h</kbd>.

   </p><p><a name="index-C_002dh-C_002dh-205"></a><a name="index-help_002dfor_002dhelp-206"></a>  <kbd>C-h</kbd> itself is one of the help options; <kbd>C-h C-h</kbd> displays
a list of help options, with a brief description of each one
(<code>help-for-help</code>).  You can scroll the list with &lt;SPC&gt; and
&lt;DEL&gt;, then type the help option you want.  To cancel, type
<kbd>C-g</kbd>.

   </p><p><kbd>C-h</kbd> or &lt;F1&gt; means &#8220;help&#8221; in various other contexts as
well.  For instance, you can type them after a prefix key to display
list of the keys that can follow the prefix key.  (A few prefix keys
don't support <kbd>C-h</kbd> in this way, because they define other
meanings for it, but they all support &lt;F1&gt; for help.)

   </p><p>Most help buffers use a special major mode, Help mode, which lets
you scroll conveniently with &lt;SPC&gt; and &lt;DEL&gt;.  You can also
follow hyperlinks to URLs, and to other facilities including Info
nodes and customization buffers.  See <a href="#Help-Mode">Help Mode</a>.

   </p><p><a name="index-searching-documentation-efficiently-207"></a><a name="index-looking-for-a-subject-in-documentation-208"></a>  If you are looking for a certain feature, but don't know what it is
called or where to look, we recommend three methods.  First, try an
apropos command, then try searching the manual index, then look in the
FAQ and the package keywords.

     </p><dl>
<dt><kbd>C-h a </kbd><var>topics</var><kbd> &lt;RET&gt;</kbd></dt><dd>This searches for commands whose names match the argument
<var>topics</var>.  The argument can be a keyword, a list of keywords, or a
regular expression (see <a href="#Regexps">Regexps</a>).  This command displays all the
matches in a new buffer.  See <a href="#Apropos">Apropos</a>.

     <br></dd><dt><kbd>C-h i d m emacs &lt;RET&gt; i </kbd><var>topic</var><kbd> &lt;RET&gt;</kbd></dt><dd>This searches for <var>topic</var> in the indices of the on-line Emacs
manual, and displays the first match found.  Press <kbd>,</kbd> to see
subsequent matches.  You can use a regular expression as <var>topic</var>.

     <br></dd><dt><kbd>C-h i d m emacs &lt;RET&gt; s </kbd><var>topic</var><kbd> &lt;RET&gt;</kbd></dt><dd>Similar, but searches the <em>text</em> of the manual rather than the
indices.

     <br></dd><dt><kbd>C-h C-f</kbd></dt><dd>This displays the Emacs FAQ.  You can use the Info commands
to browse it.

     <br></dd><dt><kbd>C-h p</kbd></dt><dd>This displays the available Emacs packages based on keywords. 
See <a href="#Library-Keywords">Library Keywords</a>. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#Help-Summary">Help Summary</a>: 	Brief list of all Help commands. 
</li><li><a accesskey="2" href="#Key-Help">Key Help</a>: 		Asking what a key does in Emacs. 
</li><li><a accesskey="3" href="#Name-Help">Name Help</a>: 		Asking about a command, variable or function name. 
</li><li><a accesskey="4" href="#Apropos">Apropos</a>: 		Asking what pertains to a given topic. 
</li><li><a accesskey="5" href="#Help-Mode">Help Mode</a>:            Special features of Help mode and Help buffers. 
</li><li><a accesskey="6" href="#Library-Keywords">Library Keywords</a>: 	Finding Lisp libraries by keywords (topics). 
</li><li><a accesskey="7" href="#Language-Help">Language Help</a>:        Help relating to international language support. 
</li><li><a accesskey="8" href="#Misc-Help">Misc Help</a>: 		Other help commands. 
</li><li><a accesskey="9" href="#Help-Files">Help Files</a>:           Commands to display pre-written help files. 
</li><li><a href="#Help-Echo">Help Echo</a>:            Help on active text and tooltips (`balloon help')
</li></ul>

<div class="node">
<p></p><hr>
<a name="Help-Summary"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Key-Help">Key Help</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.1 Help Summary</h3>

   <p>Here is a summary of the Emacs interactive help commands.  (The
character that follows <kbd>C-h</kbd> is the &#8220;help option.&#8221;)  See <a href="#Help-Files">Help Files</a>, for other help commands that display fixed files of
information.

     </p><dl>
<dt><kbd>C-h a </kbd><var>topics</var><kbd> &lt;RET&gt;</kbd></dt><dd>Display a list of commands whose names match <var>topics</var>
(<code>apropos-command</code>; see <a href="#Apropos">Apropos</a>). 
<br></dd><dt><kbd>C-h b</kbd></dt><dd>Display all active key bindings; minor mode bindings first, then those
of the major mode, then global bindings (<code>describe-bindings</code>). 
<br></dd><dt><kbd>C-h c </kbd><var>key</var></dt><dd>Given a key sequence <var>key</var>, show the name of the command that it
runs (<code>describe-key-briefly</code>).  Here <kbd>c</kbd> stands for
&#8220;character.&#8221;  For more extensive information on <var>key</var>, use
<kbd>C-h k</kbd>. 
<br></dd><dt><kbd>C-h d </kbd><var>topics</var><kbd> &lt;RET&gt;</kbd></dt><dd>Display the commands and variables whose documentation matches
<var>topics</var> (<code>apropos-documentation</code>). 
<br></dd><dt><kbd>C-h e</kbd></dt><dd>Display the <code>*Messages*</code> buffer
(<code>view-echo-area-messages</code>). 
<br></dd><dt><kbd>C-h f </kbd><var>function</var><kbd> &lt;RET&gt;</kbd></dt><dd>Display documentation on the Lisp function named <var>function</var>
(<code>describe-function</code>).  Since commands are Lisp functions,
this works for commands too. 
<br></dd><dt><kbd>C-h h</kbd></dt><dd>Display the <samp><span class="file">HELLO</span></samp> file, which shows examples of various character
sets. 
<br></dd><dt><kbd>C-h i</kbd></dt><dd>Run Info, the GNU documentation browser (<code>info</code>). 
The complete Emacs manual is available on-line in Info. 
<br></dd><dt><kbd>C-h k </kbd><var>key</var></dt><dd>Display the name and documentation of the command that <var>key</var> runs
(<code>describe-key</code>). 
<br></dd><dt><kbd>C-h l</kbd></dt><dd>Display a description of the last 100 characters you typed
(<code>view-lossage</code>). 
<br></dd><dt><kbd>C-h m</kbd></dt><dd>Display documentation of the current major mode (<code>describe-mode</code>). 
<br></dd><dt><kbd>C-h p</kbd></dt><dd>Find packages by topic keyword (<code>finder-by-keyword</code>). 
<br></dd><dt><kbd>C-h s</kbd></dt><dd>Display the current contents of the syntax table, with an explanation of
what they mean (<code>describe-syntax</code>).  See <a href="#Syntax">Syntax</a>. 
<br></dd><dt><kbd>C-h t</kbd></dt><dd>Enter the Emacs interactive tutorial (<code>help-with-tutorial</code>). 
<br></dd><dt><kbd>C-h v </kbd><var>var</var><kbd> &lt;RET&gt;</kbd></dt><dd>Display the documentation of the Lisp variable <var>var</var>
(<code>describe-variable</code>). 
<br></dd><dt><kbd>C-h w </kbd><var>command</var><kbd> &lt;RET&gt;</kbd></dt><dd>Show which keys run the command named <var>command</var> (<code>where-is</code>). 
<br></dd><dt><kbd>C-h C </kbd><var>coding</var><kbd> &lt;RET&gt;</kbd></dt><dd>Describe the coding system <var>coding</var>
(<code>describe-coding-system</code>). 
<br></dd><dt><kbd>C-h C &lt;RET&gt;</kbd></dt><dd>Describe the coding systems currently in use. 
<br></dd><dt><kbd>C-h I </kbd><var>method</var><kbd> &lt;RET&gt;</kbd></dt><dd>Describe the input method <var>method</var> (<code>describe-input-method</code>). 
<br></dd><dt><kbd>C-h L </kbd><var>language-env</var><kbd> &lt;RET&gt;</kbd></dt><dd>Display information on the character sets, coding systems, and input
methods used in language environment <var>language-env</var>
(<code>describe-language-environment</code>). 
<br></dd><dt><kbd>C-h F </kbd><var>function</var><kbd> &lt;RET&gt;</kbd></dt><dd>Enter Info and goes to the node that documents the Emacs function
<var>function</var> (<code>Info-goto-emacs-command-node</code>). 
<br></dd><dt><kbd>C-h K </kbd><var>key</var></dt><dd>Enter Info and goes to the node that documents the key sequence
<var>key</var> (<code>Info-goto-emacs-key-command-node</code>). 
<br></dd><dt><kbd>C-h S </kbd><var>symbol</var><kbd> &lt;RET&gt;</kbd></dt><dd>Display the Info documentation on symbol <var>symbol</var> according to the
programming language you are editing (<code>info-lookup-symbol</code>). 
<br></dd><dt><kbd>C-h .</kbd></dt><dd>Display the help message for a special text area, if point is in one
(<code>display-local-help</code>).  (These include, for example, links in
`<samp><span class="samp">*Help*</span></samp>' buffers.) 
</dd></dl>

<div class="node">
<p></p><hr>
<a name="Key-Help"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Name-Help">Name Help</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Help-Summary">Help Summary</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.2 Documentation for a Key</h3>

<p><a name="index-C_002dh-c-209"></a><a name="index-describe_002dkey_002dbriefly-210"></a>  The help commands to get information about a key sequence are
<kbd>C-h c</kbd> and <kbd>C-h&nbsp;k</kbd><!-- /@w -->.  <kbd>C-h c </kbd><var>key</var> displays in
the echo area the name of the command that <var>key</var> is bound to.  For
example, <kbd>C-h c C-f</kbd> displays `<samp><span class="samp">forward-char</span></samp>'.  Since command
names are chosen to describe what the commands do, this gives you a
very brief description of what <var>key</var> does.

   </p><p><a name="index-C_002dh-k-211"></a><a name="index-describe_002dkey-212"></a>  <kbd>C-h k </kbd><var>key</var> is similar but gives more information: it
displays the documentation string of the command as well as its name. 
It displays this information in a window, since it may not fit in the
echo area.

   </p><p><a name="index-C_002dh-K-213"></a><a name="index-Info_002dgoto_002demacs_002dkey_002dcommand_002dnode-214"></a>  To find the documentation of a key sequence <var>key</var>, type <kbd>C-h
K </kbd><var>key</var>.  This displays the appropriate manual section which
contains the documentation of <var>key</var>.

   </p><p><kbd>C-h c</kbd>, <kbd>C-h k</kbd> and <kbd>C-h K</kbd> work for any sort of key
sequences, including function keys, menus, and mouse events.  For
instance, after <kbd>C-h k</kbd> you can select a menu item from the menu
bar, to view the documentation string of the command it runs.

   </p><p><a name="index-C_002dh-w-215"></a><a name="index-where_002dis-216"></a>  <kbd>C-h w </kbd><var>command</var><kbd> &lt;RET&gt;</kbd> lists the keys that are bound to
<var>command</var>.  It displays the list in the echo area.  If it says the
command is not on any key, that means you must use <kbd>M-x</kbd> to run
it.  <kbd>C-h w</kbd> runs the command <code>where-is</code>.

</p><div class="node">
<p></p><hr>
<a name="Name-Help"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Apropos">Apropos</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Key-Help">Key Help</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.3 Help by Command or Variable Name</h3>

<p><a name="index-C_002dh-f-217"></a><a name="index-describe_002dfunction-218"></a>  <kbd>C-h f </kbd><var>function</var><kbd> &lt;RET&gt;</kbd> (<code>describe-function</code>)
displays the documentation of Lisp function <var>function</var>, in a
window.  Since commands are Lisp functions, you can use this method to
view the documentation of any command whose name you know.  For
example,

</p><pre class="example">     C-h f auto-fill-mode &lt;RET&gt;
</pre>
   <p class="noindent">displays the documentation of <code>auto-fill-mode</code>.  This is the only
way to get the documentation of a command that is not bound to any key
(one which you would normally run using <kbd>M-x</kbd>).

   </p><p><kbd>C-h f</kbd> is also useful for Lisp functions that you use in a Lisp
program.  For example, if you have just written the expression
<code>(make-vector len)</code> and want to check that you are using
<code>make-vector</code> properly, type <kbd>C-h f make-vector &lt;RET&gt;</kbd>. 
Because <kbd>C-h f</kbd> allows all function names, not just command names,
you may find that some of your favorite completion abbreviations that
work in <kbd>M-x</kbd> don't work in <kbd>C-h f</kbd>.  An abbreviation that is
unique among command names may not be unique among all function names.

   </p><p>If you type <kbd>C-h f &lt;RET&gt;</kbd>, it describes the function called
by the innermost Lisp expression in the buffer around point,
<em>provided</em> that function name is a valid, defined Lisp function. 
(That name appears as the default while you enter the argument.)  For
example, if point is located following the text `<samp><span class="samp">(make-vector
(car x)</span></samp>', the innermost list containing point is the one that starts
with `<samp><span class="samp">(make-vector</span></samp>', so <kbd>C-h f &lt;RET&gt;</kbd> will describe the
function <code>make-vector</code>.

   </p><p><kbd>C-h f</kbd> is also useful just to verify that you spelled a
function name correctly.  If the minibuffer prompt for <kbd>C-h f</kbd>
shows the function name from the buffer as the default, it means that
name is defined as a Lisp function.  Type <kbd>C-g</kbd> to cancel the
<kbd>C-h f</kbd> command if you don't really want to view the
documentation.

   </p><p><a name="index-C_002dh-v-219"></a><a name="index-describe_002dvariable-220"></a>  <kbd>C-h v</kbd> (<code>describe-variable</code>) is like <kbd>C-h f</kbd> but
describes Lisp variables instead of Lisp functions.  Its default is
the Lisp symbol around or before point, if that is the name of a
defined Lisp variable.  See <a href="#Variables">Variables</a>.

   </p><p>Help buffers that describe Emacs variables and functions normally
have hyperlinks to the corresponding source definition, if you have
the source files installed.  (See <a href="#Hyperlinking">Hyperlinking</a>.)  If you know Lisp
(or C), this provides the ultimate documentation.  If you don't know
Lisp, you should learn it.  (The Introduction to Emacs Lisp
Programming, available from the FSF through fsf.org, is a good way to
get started.)  If Emacs feels you are just <em>using</em> it, treating
it as an object program, its feelings may be hurt.  For real intimacy,
read the Emacs source code.

   </p><p><a name="index-C_002dh-F-221"></a><a name="index-Info_002dgoto_002demacs_002dcommand_002dnode-222"></a>  To find a function's documentation in a manual, use <kbd>C-h F</kbd>
(<code>Info-goto-emacs-command-node</code>).  This knows about various
manuals, not just the Emacs manual, and finds the right one.

</p><div class="node">
<p></p><hr>
<a name="Apropos"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Help-Mode">Help Mode</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Name-Help">Name Help</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.4 Apropos</h3>

<p>The <dfn>apropos</dfn> commands answer questions like, &#8220;What are the
commands for working with files?&#8221;  More precisely, you specify an
<dfn>apropos pattern</dfn>, which means either a word, a list of words, or
a regular expression.  Each apropos command displays a list of items
that match the pattern, in a separate buffer.

     </p><dl>
<dt><kbd>C-h a </kbd><var>pattern</var><kbd> &lt;RET&gt;</kbd></dt><dd>Search for commands whose names match <var>pattern</var>.

     <br></dd><dt><kbd>M-x apropos &lt;RET&gt; </kbd><var>pattern</var><kbd> &lt;RET&gt;</kbd></dt><dd>Search for functions and variables whose names match <var>pattern</var>. 
Both interactive functions (commands) and noninteractive functions can
be found by this command.

     <br></dd><dt><kbd>M-x apropos-variable &lt;RET&gt; </kbd><var>pattern</var><kbd> &lt;RET&gt;</kbd></dt><dd>Search for user-option variables whose names match <var>pattern</var>.

     <br></dd><dt><kbd>M-x apropos-value &lt;RET&gt; </kbd><var>pattern</var><kbd> &lt;RET&gt;</kbd></dt><dd>Search for functions whose definitions <var>pattern</var>, and variables
whose values match <var>pattern</var>.

     <br></dd><dt><kbd>C-h d </kbd><var>pattern</var><kbd> &lt;RET&gt;</kbd></dt><dd>Search for functions and variables whose <strong>documentation
strings</strong> match <var>pattern</var>. 
</dd></dl>

   <p><a name="index-C_002dh-a-223"></a><a name="index-apropos_002dcommand-224"></a><a name="index-apropos-225"></a>  The simplest kind of apropos pattern is one word.  Anything which
contains that word matches the pattern.  Thus, to find the commands
that work on files, type <kbd>C-h a file &lt;RET&gt;</kbd>.  This displays a
list of all command names that contain `<samp><span class="samp">file</span></samp>', including
<code>copy-file</code>, <code>find-file</code>, and so on.  Each command name
comes with a brief description and a list of keys you can currently
invoke it with.  In our example, it would say that you can invoke
<code>find-file</code> by typing <kbd>C-x C-f</kbd>.

   </p><p>The <kbd>a</kbd> in <kbd>C-h a</kbd> stands for &#8220;Apropos&#8221;; <kbd>C-h a</kbd>
runs the command <code>apropos-command</code>.  This command normally checks
only commands (interactive functions); if you specify a prefix
argument, it checks noninteractive functions as well.

   </p><p>For more information about a function definition, variable or symbol
property listed in the apropos buffer, you can click on it with
<kbd>Mouse-1</kbd> or <kbd>Mouse-2</kbd>, or move there and type &lt;RET&gt;.

   </p><p>When you specify more than one word in the apropos pattern, a name
must contain at least two of the words in order to match.  Thus, if
you are looking for commands to kill a chunk of text before point, you
could try <kbd>C-h a kill back backward behind before &lt;RET&gt;</kbd>.  The
real command name <code>kill-backward</code> will match that; if there were
a command <code>kill-text-before</code>, it would also match, since it
contains two of the specified words.

   </p><p>For even greater flexibility, you can specify a regular expression
(see <a href="#Regexps">Regexps</a>).  An apropos pattern is interpreted as a regular
expression if it contains any of the regular expression special
characters, `<samp><span class="samp">^$*+?.\[</span></samp>'.

   </p><p>Following the conventions for naming Emacs commands, here are some
words that you'll find useful in apropos patterns.  By using them in
<kbd>C-h a</kbd>, you will also get a feel for the naming conventions.

   </p><blockquote>
char, line, word, sentence, paragraph, region, page, sexp, list, defun,
rect, buffer, frame, window, face, file, dir, register, mode, beginning, end,
forward, backward, next, previous, up, down, search, goto, kill, delete,
mark, insert, yank, fill, indent, case, change, set, what, list, find,
view, describe, default. 
</blockquote>

   <p><a name="index-apropos-226"></a>  Use <kbd>M-x apropos</kbd> instead of <kbd>C-h a</kbd> to list all the Lisp
symbols that match an apropos pattern, not just the symbols that are
commands.  This command does not list key bindings by default; specify
a numeric argument if you want it to list them.

   </p><p><a name="index-apropos_002dvariable-227"></a>  Use <kbd>M-x apropos-variable</kbd> to list user-customizable variables
that match an apropos pattern.  If you specify a prefix argument, it
lists all matching variables.

   </p><p><a name="index-C_002dh-d-228"></a><a name="index-apropos_002ddocumentation-229"></a>  The <code>apropos-documentation</code> command is like <code>apropos</code>
except that it searches documentation strings instead of symbol names
for matches.

   </p><p><a name="index-apropos_002dvalue-230"></a>  The <code>apropos-value</code> command is like <code>apropos</code> except that
it searches variables' values for matches for the apropos pattern. 
With a prefix argument, it also checks symbols' function definitions
and property lists.

   </p><p><a name="index-apropos_002ddo_002dall-231"></a>  If the variable <code>apropos-do-all</code> is non-<code>nil</code>, the apropos
commands always behave as if they had been given a prefix argument.

   </p><p><a name="index-apropos_002dsort_002dby_002dscores-232"></a><a name="index-apropos-search-results_002c-order-by-score-233"></a>  By default, apropos lists the search results in alphabetical order. 
If the variable <code>apropos-sort-by-scores</code> is non-<code>nil</code>, the
apropos commands try to guess the relevance of each result, and
display the most relevant ones first.

   </p><p><a name="index-apropos_002ddocumentation_002dsort_002dby_002dscores-234"></a>  By default, apropos lists the search results for
<code>apropos-documentation</code> in order of relevance of the match.  If
the variable <code>apropos-documentation-sort-by-scores</code> is
<code>nil</code>, apropos lists the symbols found in alphabetical order.

</p><div class="node">
<p></p><hr>
<a name="Help-Mode"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Library-Keywords">Library Keywords</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Apropos">Apropos</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.5 Help Mode Commands</h3>

<p>Help buffers provide the same commands as View mode (see <a href="#Misc-File-Ops">Misc File Ops</a>), plus a few special commands of their own.

     </p><dl>
<dt><kbd>&lt;SPC&gt;</kbd></dt><dd>Scroll forward. 
<br></dd><dt><kbd>&lt;DEL&gt;</kbd></dt><dd>Scroll backward. 
<br></dd><dt><kbd>&lt;RET&gt;</kbd></dt><dd>Follow a cross reference at point. 
<br></dd><dt><kbd>&lt;TAB&gt;</kbd></dt><dd>Move point forward to the next cross reference. 
<br></dd><dt><kbd>S-&lt;TAB&gt;</kbd></dt><dd>Move point back to the previous cross reference. 
<br></dd><dt><kbd>Mouse-1</kbd></dt><dt><kbd>Mouse-2</kbd></dt><dd>Follow a cross reference that you click on. 
<br></dd><dt><kbd>C-c C-c</kbd></dt><dd>Show all documentation about the symbol at point. 
</dd></dl>

   <p>When a function name (see <a href="#M_002dx">Running Commands by Name</a>),
variable name (see <a href="#Variables">Variables</a>), or face name (see <a href="#Faces">Faces</a>)
appears in the documentation, it normally appears inside paired
single-quotes.  To view the documentation of that command, variable or
face, you can click on the name with <kbd>Mouse-1</kbd> or <kbd>Mouse-2</kbd>,
or move point there and type &lt;RET&gt;.  Use <kbd>C-c C-b</kbd> to retrace
your steps.

   </p><p><a name="index-URL_002c-viewing-in-help-235"></a><a name="index-help_002c-viewing-web-pages-236"></a><a name="index-viewing-web-pages-in-help-237"></a><a name="index-web-pages_002c-viewing-in-help-238"></a><a name="index-browse_002durl-239"></a>  You can follow cross references to URLs (web pages) also.  This uses
the <code>browse-url</code> command to view the page in the browser you
choose.  See <a href="#Browse_002dURL">Browse-URL</a>.

   </p><p><a name="index-g_t_0040key_007bTAB_007d-_0040r_007b_0028Help-mode_0029_007d-240"></a><a name="index-help_002dnext_002dref-241"></a><a name="index-S_002d_0040key_007bTAB_007d-_0040r_007b_0028Help-mode_0029_007d-242"></a><a name="index-help_002dprevious_002dref-243"></a>  There are convenient commands to move point to cross references in
the help text.  &lt;TAB&gt; (<code>help-next-ref</code>) moves point down to
the next cross reference.  <kbd>S-&lt;TAB&gt;</kbd> moves up to the previous
cross reference (<code>help-previous-ref</code>).

   </p><p>To view all documentation about any symbol name that appears in the
text, move point to the symbol name and type <kbd>C-c C-c</kbd>
(<code>help-follow-symbol</code>).  This shows all available documentation
about the symbol as a variable, function and/or face.  As above, use
<kbd>C-c C-b</kbd> to retrace your steps.

</p><div class="node">
<p></p><hr>
<a name="Library-Keywords"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Language-Help">Language Help</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Help-Mode">Help Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.6 Keyword Search for Lisp Libraries</h3>

<p><a name="index-C_002dh-p-244"></a><a name="index-finder_002dby_002dkeyword-245"></a>The <kbd>C-h p</kbd> command lets you search the standard Emacs Lisp
libraries by topic keywords.  Here is a partial list of keywords you can
use:

   </p><p><table summary=""><tbody><tr align="left"><td valign="top">abbrev</td><td valign="top">abbreviation handling, typing shortcuts, macros. 
<br></td></tr><tr align="left"><td valign="top">bib</td><td valign="top">code related to the <code>bib</code> bibliography processor. 
<br></td></tr><tr align="left"><td valign="top">c</td><td valign="top">support for the C language and related languages. 
<br></td></tr><tr align="left"><td valign="top">calendar</td><td valign="top">calendar and time management support. 
<br></td></tr><tr align="left"><td valign="top">comm</td><td valign="top">communications, networking, remote access to files. 
<br></td></tr><tr align="left"><td valign="top">convenience</td><td valign="top">convenience features for faster editing. 
<br></td></tr><tr align="left"><td valign="top">data</td><td valign="top">support for editing files of data. 
<br></td></tr><tr align="left"><td valign="top">docs</td><td valign="top">support for Emacs documentation. 
<br></td></tr><tr align="left"><td valign="top">emulations</td><td valign="top">emulations of other editors. 
<br></td></tr><tr align="left"><td valign="top">extensions</td><td valign="top">Emacs Lisp language extensions. 
<br></td></tr><tr align="left"><td valign="top">faces</td><td valign="top">support for multiple fonts. 
<br></td></tr><tr align="left"><td valign="top">files</td><td valign="top">support for editing and manipulating files. 
<br></td></tr><tr align="left"><td valign="top">frames</td><td valign="top">support for Emacs frames and window systems. 
<br></td></tr><tr align="left"><td valign="top">games</td><td valign="top">games, jokes and amusements. 
<br></td></tr><tr align="left"><td valign="top">hardware</td><td valign="top">support for interfacing with exotic hardware. 
<br></td></tr><tr align="left"><td valign="top">help</td><td valign="top">support for on-line help systems. 
<br></td></tr><tr align="left"><td valign="top">hypermedia</td><td valign="top">support for links between text or other media types. 
<br></td></tr><tr align="left"><td valign="top">i18n</td><td valign="top">internationalization and alternate character-set support. 
<br></td></tr><tr align="left"><td valign="top">internal</td><td valign="top">code for Emacs internals, build process, defaults. 
<br></td></tr><tr align="left"><td valign="top">languages</td><td valign="top">specialized modes for editing programming languages. 
<br></td></tr><tr align="left"><td valign="top">lisp</td><td valign="top">Lisp support, including Emacs Lisp. 
<br></td></tr><tr align="left"><td valign="top">local</td><td valign="top">code local to your site. 
<br></td></tr><tr align="left"><td valign="top">maint</td><td valign="top">maintenance aids for the Emacs development group. 
<br></td></tr><tr align="left"><td valign="top">mail</td><td valign="top">modes for electronic-mail handling. 
<br></td></tr><tr align="left"><td valign="top">matching</td><td valign="top">various sorts of searching and matching. 
<br></td></tr><tr align="left"><td valign="top">mouse</td><td valign="top">mouse support. 
<br></td></tr><tr align="left"><td valign="top">multimedia</td><td valign="top">images and sound support. 
<br></td></tr><tr align="left"><td valign="top">news</td><td valign="top">support for netnews reading and posting. 
<br></td></tr><tr align="left"><td valign="top">oop</td><td valign="top">support for object-oriented programming. 
<br></td></tr><tr align="left"><td valign="top">outlines</td><td valign="top">support for hierarchical outlining. 
<br></td></tr><tr align="left"><td valign="top">processes</td><td valign="top">process, subshell, compilation, and job control support. 
<br></td></tr><tr align="left"><td valign="top">terminals</td><td valign="top">support for terminal types. 
<br></td></tr><tr align="left"><td valign="top">tex</td><td valign="top">supporting code for the TeX formatter. 
<br></td></tr><tr align="left"><td valign="top">tools</td><td valign="top">programming tools. 
<br></td></tr><tr align="left"><td valign="top">unix</td><td valign="top">front-ends/assistants for, or emulators of, UNIX-like features. 
<br></td></tr><tr align="left"><td valign="top">wp</td><td valign="top">word processing.
   <br></td></tr></tbody></table>

</p><div class="node">
<p></p><hr>
<a name="Language-Help"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Misc-Help">Misc Help</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Library-Keywords">Library Keywords</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.7 Help for International Language Support</h3>

<p>You can use the command <kbd>C-h L</kbd>
(<code>describe-language-environment</code>) to get information about a
specific language environment.  See <a href="#Language-Environments">Language Environments</a>.  This
tells you which languages this language environment supports.  It also
lists the character sets, coding systems, and input methods that work
with this language environment, and finally shows some sample text to
illustrate scripts.

   </p><p>The command <kbd>C-h h</kbd> (<code>view-hello-file</code>) displays the file
<samp><span class="file">etc/HELLO</span></samp>, which shows how to say &#8220;hello&#8221; in many languages.

   </p><p>The command <kbd>C-h I</kbd> (<code>describe-input-method</code>) describes an
input method&#8212;either a specified input method, or by default the
input method currently in use.  See <a href="#Input-Methods">Input Methods</a>.

   </p><p>The command <kbd>C-h C</kbd> (<code>describe-coding-system</code>) describes
coding systems&#8212;either a specified coding system, or the ones
currently in use.  See <a href="#Coding-Systems">Coding Systems</a>.

</p><div class="node">
<p></p><hr>
<a name="Misc-Help"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Help-Files">Help Files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Language-Help">Language Help</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.8 Other Help Commands</h3>

<p><a name="index-C_002dh-i-246"></a><a name="index-info-247"></a><a name="index-Info-248"></a><a name="index-manuals_002c-on_002dline-249"></a><a name="index-on_002dline-manuals-250"></a>  <kbd>C-h i</kbd> (<code>info</code>) runs the Info program, which browses
structured documentation files.  The entire Emacs manual is available
within Info, along with many other manuals for the GNU system.  Type
<kbd>h</kbd> after entering Info to run a tutorial on using Info.

   </p><p><a name="index-find-Info-manual-by-its-file-name-251"></a>  With a numeric argument <var>n</var>, <kbd>C-h i</kbd> selects the Info buffer
`<samp><span class="samp">*info*&lt;</span><var>n</var><span class="samp">&gt;</span></samp>'.  This is useful if you want to browse multiple
Info manuals simultaneously.  If you specify just <kbd>C-u</kbd> as the
prefix argument, <kbd>C-h i</kbd> prompts for the name of a documentation
file, so you can browse a file which doesn't have an entry in the
top-level Info menu.

   </p><p>The help commands <kbd>C-h F </kbd><var>function</var><kbd> &lt;RET&gt;</kbd> and <kbd>C-h
K </kbd><var>key</var>, described above, enter Info and go straight to the
documentation of <var>function</var> or <var>key</var>.

   </p><p><a name="index-C_002dh-S-252"></a><a name="index-info_002dlookup_002dsymbol-253"></a>  When editing a program, if you have an Info version of the manual
for the programming language, you can use <kbd>C-h S</kbd>
(<code>info-lookup-symbol</code>) to find symbol (keyword, function or
variable) in the proper manual.  The details of how this command works
depend on the major mode.

   </p><p><a name="index-C_002dh-l-254"></a><a name="index-view_002dlossage-255"></a>  If something surprising happens, and you are not sure what you
typed, use <kbd>C-h l</kbd> (<code>view-lossage</code>).  <kbd>C-h l</kbd> displays
the last 100 characters you typed in Emacs.  If you see commands that
you don't know, you can use <kbd>C-h c</kbd> to find out what they do.

   </p><p><a name="index-C_002dh-e-256"></a><a name="index-view_002decho_002darea_002dmessages-257"></a>  To review recent echo area messages, use <kbd>C-h e</kbd>
(<code>view-echo-area-messages</code>).  This displays the buffer
<code>*Messages*</code>, where those messages are kept.

   </p><p><a name="index-C_002dh-m-258"></a><a name="index-describe_002dmode-259"></a>  Each Emacs major mode typically redefines a few keys and makes other
changes in how editing works.  <kbd>C-h m</kbd> (<code>describe-mode</code>)
displays documentation on the current major mode, which normally
describes the commands and features that are changed in this mode.

   </p><p><a name="index-C_002dh-b-260"></a><a name="index-describe_002dbindings-261"></a>  <kbd>C-h b</kbd> (<code>describe-bindings</code>) and <kbd>C-h s</kbd>
(<code>describe-syntax</code>) show other information about the current
environment within Emacs.  <kbd>C-h b</kbd> displays a list of all the key
bindings now in effect: first the local bindings of the current minor
modes, then the local bindings defined by the current major mode, and
finally the global bindings (see <a href="#Key-Bindings">Key Bindings</a>).  <kbd>C-h s</kbd>
displays the contents of the syntax table, with explanations of each
character's syntax (see <a href="#Syntax">Syntax</a>).

   </p><p>You can get a list of subcommands for a particular prefix key by
typing <kbd>C-h</kbd> after the prefix key.  (There are a few prefix keys
for which this does not work&#8212;those that provide their own bindings
for <kbd>C-h</kbd>.  One of these is &lt;ESC&gt;, because <kbd>&lt;ESC&gt; C-h</kbd>
is actually <kbd>C-M-h</kbd>, which marks a defun.)

</p><div class="node">
<p></p><hr>
<a name="Help-Files"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Help-Echo">Help Echo</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Misc-Help">Misc Help</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.9 Help Files</h3>

<p>The Emacs help commands described above display dynamic help based
on the current state within Emacs, or refer to manuals.  Other help
commands display pre-written, static help files.  These commands all
have the form <kbd>C-h C-</kbd><var>char</var>; that is, <kbd>C-h</kbd> followed by a
control character.

   </p><p><a name="index-C_002dh-C_002dc-262"></a><a name="index-describe_002dcopying-263"></a><a name="index-C_002dh-C_002dd-264"></a><a name="index-describe_002ddistribution-265"></a><a name="index-C_002dh-C_002de-266"></a><a name="index-view_002demacs_002dproblems-267"></a><a name="index-C_002dh-C_002df-268"></a><a name="index-view_002demacs_002dFAQ-269"></a><a name="index-C_002dh-C_002dn-270"></a><a name="index-view_002demacs_002dnews-271"></a><a name="index-C_002dh-C_002dp-272"></a><a name="index-describe_002dproject-273"></a><a name="index-C_002dh-C_002dt-274"></a><a name="index-view_002demacs_002dtodo-275"></a><a name="index-C_002dh-C_002dw-276"></a><a name="index-describe_002dno_002dwarranty-277"></a>
     </p><dl>
<dt><kbd>C-h C-c</kbd></dt><dd>Display the Emacs copying conditions (<code>describe-copying</code>). 
These are the rules under which you can copy and redistribute Emacs. 
<br></dd><dt><kbd>C-h C-d</kbd></dt><dd>Display how to download or order the latest version of
Emacs and other GNU software (<code>describe-distribution</code>). 
<br></dd><dt><kbd>C-h C-e</kbd></dt><dd>Display the list of known Emacs problems, sometimes with suggested
workarounds (<code>view-emacs-problems</code>). 
<br></dd><dt><kbd>C-h C-f</kbd></dt><dd>Display the Emacs frequently-answered-questions list (<code>view-emacs-FAQ</code>). 
<br></dd><dt><kbd>C-h C-n</kbd></dt><dd>Display the Emacs &#8220;news&#8221; file, which lists new features in the most
recent version of Emacs (<code>view-emacs-news</code>). 
<br></dd><dt><kbd>C-h C-p</kbd></dt><dd>Display general information about the GNU Project
(<code>describe-project</code>). 
<br></dd><dt><kbd>C-h C-t</kbd></dt><dd>Display the Emacs to-do list (<code>view-todo</code>). 
<br></dd><dt><kbd>C-h C-w</kbd></dt><dd>Display the full details on the complete absence of warranty for GNU
Emacs (<code>describe-no-warranty</code>). 
</dd></dl>

<div class="node">
<p></p><hr>
<a name="Help-Echo"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Help-Files">Help Files</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Help">Help</a>

</div>

<h3 class="section">11.10 Help on Active Text and Tooltips</h3>

<p><a name="index-tooltips-278"></a><a name="index-balloon-help-279"></a>  When a region of text is &#8220;active,&#8221; so that you can select it with
the mouse or a key like <kbd>RET</kbd>, it often has associated help text. 
For instance, most parts of the mode line have help text.  On
graphical displays, the help text is displayed as a &#8220;tooltip&#8221;
(sometimes known as &#8220;balloon help&#8221;), when you move the mouse over
the active text.  See <a href="#Tooltips">Tooltips</a>.  On some systems, it is shown in
the echo area.  On text-only terminals, if Emacs cannot follow the
mouse, it cannot show the help text on mouse-over.

   </p><p><a name="index-C_002dh-_002e-280"></a><a name="index-display_002dlocal_002dhelp-281"></a><a name="index-help_002dat_002dpt_002ddisplay_002dwhen_002didle-282"></a>  You can also access text region help info using the keyboard.  The
command <kbd>C-h .</kbd> (<code>display-local-help</code>) displays any help text
associated with the text at point, using the echo area.  If you want
help text to be displayed automatically whenever it is available at
point, set the variable <code>help-at-pt-display-when-idle</code> to
<code>t</code>.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2001, 2002, -->
<!-- 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Mark"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Killing">Killing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Help">Help</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">12 The Mark and the Region</h2>

<p><a name="index-mark-283"></a><a name="index-setting-a-mark-284"></a><a name="index-region-285"></a>
  Many Emacs commands operate on an arbitrary contiguous part of the
current buffer.  To specify the text for such a command to operate on,
you set <dfn>the mark</dfn> at one end of it, and move point to the other
end.  The text between point and the mark is called <dfn>the region</dfn>. 
Emacs highlights the region whenever there is one, if you enable
Transient Mark mode (see <a href="#Transient-Mark">Transient Mark</a>).

   </p><p>Certain Emacs commands set the mark; other editing commands do not
affect it, so the mark remains where you set it last.  Each Emacs
buffer has its own mark, and setting the mark in one buffer has no
effect on other buffers' marks.  When you return to a buffer that was
current earlier, its mark is at the same place as before.

   </p><p>The ends of the region are always point and the mark.  It doesn't
matter which of them was put in its current place first, or which one
comes earlier in the text&#8212;the region starts from point or the mark
(whichever comes first), and ends at point or the mark (whichever
comes last).  Every time you move point, or set the mark in a new
place, the region changes.

   </p><p>Many commands that insert text, such as <kbd>C-y</kbd> (<code>yank</code>) and
<kbd>M-x insert-buffer</kbd>, position point and the mark at opposite ends
of the inserted text, so that the region consists of the text just
inserted.

   </p><p>Aside from delimiting the region, the mark is also useful for
remembering a spot that you may want to go back to.  To make this
feature more useful, each buffer remembers 16 previous locations of the
mark in the <dfn>mark ring</dfn>.

</p><ul class="menu">
<li><a accesskey="1" href="#Setting-Mark">Setting Mark</a>: 	Commands to set the mark. 
</li><li><a accesskey="2" href="#Transient-Mark">Transient Mark</a>: 	How to make Emacs highlight the region--
			  when there is one. 
</li><li><a accesskey="3" href="#Momentary-Mark">Momentary Mark</a>:       Enabling Transient Mark mode momentarily. 
</li><li><a accesskey="4" href="#Using-Region">Using Region</a>: 	Summary of ways to operate on contents of the region. 
</li><li><a accesskey="5" href="#Marking-Objects">Marking Objects</a>: 	Commands to put region around textual units. 
</li><li><a accesskey="6" href="#Mark-Ring">Mark Ring</a>:    	Previous mark positions saved so you can go back there. 
</li><li><a accesskey="7" href="#Global-Mark-Ring">Global Mark Ring</a>:     Previous mark positions in various buffers. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Setting-Mark"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Transient-Mark">Transient Mark</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mark">Mark</a>

</div>

<h3 class="section">12.1 Setting the Mark</h3>

<p>Here are some commands for setting the mark:

     </p><dl>
<dt><kbd>C-&lt;SPC&gt;</kbd></dt><dd>Set the mark where point is (<code>set-mark-command</code>). 
<br></dd><dt><kbd>C-@</kbd></dt><dd>The same. 
<br></dd><dt><kbd>C-x C-x</kbd></dt><dd>Interchange mark and point (<code>exchange-point-and-mark</code>). 
<br></dd><dt><kbd>Drag-Mouse-1</kbd></dt><dd>Set point and the mark around the text you drag across. 
<br></dd><dt><kbd>Mouse-3</kbd></dt><dd>Set the mark where point is, then move point to where you click
(<code>mouse-save-then-kill</code>). 
</dd></dl>

   <p>For example, suppose you wish to convert part of the buffer to
upper case, using the <kbd>C-x C-u</kbd> (<code>upcase-region</code>) command,
which operates on the text in the region.  You can first go to the
beginning of the text to be capitalized, type <kbd>C-&lt;SPC&gt;</kbd> to put
the mark there, move to the end, and then type <kbd>C-x C-u</kbd>.  Or, you
can set the mark at the end of the text, move to the beginning, and then
type <kbd>C-x C-u</kbd>.

   </p><p><a name="index-C_002dSPC-286"></a><a name="index-set_002dmark_002dcommand-287"></a>  The most common way to set the mark is with the <kbd>C-&lt;SPC&gt;</kbd> command
(<code>set-mark-command</code>).  This sets the mark where point is.  Then you
can move point away, leaving the mark behind.

   </p><p>There are two ways to set the mark with the mouse.  You can drag mouse
button one across a range of text; that puts point where you release the
mouse button, and sets the mark at the other end of that range.  Or you
can click mouse button three, which sets the mark at point (like
<kbd>C-&lt;SPC&gt;</kbd>) and then moves point where you clicked (like
<kbd>Mouse-1</kbd>).

   </p><p>Using the mouse to mark a region copies the region into the kill
ring in addition to setting the mark; that gives behavior consistent
with other window-driven applications.  If you don't want to modify
the kill ring, you must use keyboard commands to set the mark. 
See <a href="#Mouse-Commands">Mouse Commands</a>.

   </p><p><a name="index-C_002dx-C_002dx-288"></a><a name="index-exchange_002dpoint_002dand_002dmark-289"></a>  When Emacs was developed, terminals had only one cursor, so Emacs
does not show where the mark is located&#8211;you have to remember.  If you
enable Transient Mark mode (see below), then the region is highlighted
when it is active; you can tell mark is at the other end of the
highlighted region.  But this only applies when the mark is active.

   </p><p>The usual solution to this problem is to set the mark and then use
it soon, before you forget where it is.  Alternatively, you can see
where the mark is with the command <kbd>C-x C-x</kbd>
(<code>exchange-point-and-mark</code>) which puts the mark where point was
and point where the mark was.  The extent of the region is unchanged,
but the cursor and point are now at the previous position of the mark. 
In Transient Mark mode, this command also reactivates the mark.

   </p><p><kbd>C-x C-x</kbd> is also useful when you are satisfied with the position
of point but want to move the other end of the region (where the mark
is); do <kbd>C-x C-x</kbd> to put point at that end of the region, and then
move it.  Using <kbd>C-x C-x</kbd> a second time, if necessary, puts the mark at
the new position with point back at its original position.

   </p><p>For more facilities that allow you to go to previously set marks, see
<a href="#Mark-Ring">Mark Ring</a>.

   </p><p><a name="index-C_002d_0040_0040-290"></a>  There is no such character as <kbd>C-&lt;SPC&gt;</kbd> in <acronym>ASCII</acronym>;
when you type &lt;SPC&gt; while holding down &lt;CTRL&gt; on a text
terminal, what you get is the character <kbd>C-@</kbd>.  This key is also
bound to <code>set-mark-command</code>&#8211;so unless you are unlucky enough to
have a text terminal where typing <kbd>C-&lt;SPC&gt;</kbd> does not produce
<kbd>C-@</kbd>, you might as well think of this character as
<kbd>C-&lt;SPC&gt;</kbd>.

</p><div class="node">
<p></p><hr>
<a name="Transient-Mark"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Momentary-Mark">Momentary Mark</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Setting-Mark">Setting Mark</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mark">Mark</a>

</div>

<h3 class="section">12.2 Transient Mark Mode</h3>

<p><a name="index-mode_002c-Transient-Mark-291"></a><a name="index-Transient-Mark-mode-292"></a><a name="index-highlighting-region-293"></a><a name="index-region-highlighting-294"></a>
  On a terminal that supports colors, Emacs has the ability to
highlight the current region.  But normally it does not.  Why not?

   </p><p>In the normal mode of use, every command that sets the mark also
activates it, and nothing ever deactivates it.  Thus, once you have
set the mark in a buffer, there is <em>always</em> a region in that
buffer.  Highlighting the region all the time would be a nuisance.  So
normally Emacs highlights the region only immediately after you have
selected one with the mouse.

   </p><p>If you want region highlighting, you can use Transient Mark mode. 
This is a more rigid mode of operation in which the region &#8220;lasts&#8221;
only until you use it; operating on the region text deactivates the
mark, so there is no region any more.  Therefore, you must explicitly
set up a region for each command that uses one.

   </p><p>When Transient Mark mode is enabled, Emacs highlights the region,
whenever there is a region.  In Transient Mark mode, most of the time
there is no region; therefore, highlighting the region when it exists
is useful and not annoying.

   </p><p><a name="index-transient_002dmark_002dmode-295"></a>  To enable Transient Mark mode, type <kbd>M-x transient-mark-mode</kbd>. 
This command toggles the mode; you can use the same command to turn
the mode off again.

   </p><p>Here are the details of Transient Mark mode:

     </p><ul>
<li>To set the mark, type <kbd>C-&lt;SPC&gt;</kbd> (<code>set-mark-command</code>). 
This makes the mark active and thus begins highlighting of the region. 
As you move point, you will see the highlighted region grow and
shrink.

     </li><li>The mouse commands for specifying the mark also make it active.  So do
keyboard commands whose purpose is to specify a region, including
<kbd>M-@</kbd>, <kbd>C-M-@</kbd>, <kbd>M-h</kbd>, <kbd>C-M-h</kbd>, <kbd>C-x C-p</kbd>, and
<kbd>C-x h</kbd>.

     </li><li>You can tell that the mark is active because the region is highlighted.

     </li><li>When the mark is active, you can execute commands that operate on the
region, such as killing, indenting, or writing to a file.

     </li><li>Any change to the buffer, such as inserting or deleting a character,
deactivates the mark.  This means any subsequent command that operates
on a region will get an error and refuse to operate.  You can make the
region active again by typing <kbd>C-x C-x</kbd>.

     </li><li>If Delete Selection mode is also enabled, some commands delete the
region when used while the mark is active.  See <a href="#Mouse-Commands">Mouse Commands</a>.

     </li><li>Quitting with <kbd>C-g</kbd> deactivates the mark.

     </li><li>Commands like <kbd>M-&gt;</kbd> and <kbd>C-s</kbd>, that &#8220;leave the mark behind&#8221; in
addition to some other primary purpose, do not activate the new mark. 
You can activate the new region by executing <kbd>C-x C-x</kbd>
(<code>exchange-point-and-mark</code>).

     </li><li>Commands that normally set the mark before moving long distances (like
<kbd>M-&lt;</kbd> and <kbd>C-s</kbd>) do not alter the mark in Transient Mark mode
when the mark is active.

     </li><li>Some commands operate on the region if a region is active.  For
instance, <kbd>C-x u</kbd> in Transient Mark mode operates on the region,
when there is a region.  (Outside Transient Mark mode, you must type
<kbd>C-u C-x u</kbd> if you want it to operate on the region.) 
See <a href="#Undo">Undo</a>.  Other commands that act this way are identified in their
own documentation. 
</li></ul>

   <p>The highlighting of the region uses the <code>region</code> face; you can
customize the appearance of the highlighted region by changing this
face.  See <a href="#Face-Customization">Face Customization</a>.

   </p><p><a name="index-highlight_002dnonselected_002dwindows-296"></a>  When multiple windows show the same buffer, they can have different
regions, because they can have different values of point (though they
all share one common mark position).  Ordinarily, only the selected
window highlights its region (see <a href="#Windows">Windows</a>).  However, if the
variable <code>highlight-nonselected-windows</code> is non-<code>nil</code>, then
each window highlights its own region (provided that Transient Mark mode
is enabled and the mark in the window's buffer is active).

   </p><p><a name="index-mark_002deven_002dif_002dinactive-297"></a>  If the variable <code>mark-even-if-inactive</code> is non-<code>nil</code> in
Transient Mark mode, then commands can use the mark and the region
even when it is inactive.  Region highlighting appears and disappears
just as it normally does in Transient Mark mode, but the mark doesn't
really go away when the highlighting disappears, so you can still use
region commands.

   </p><p><a name="index-Zmacs-mode-298"></a>  Transient Mark mode is also sometimes known as &#8220;Zmacs mode&#8221;
because the Zmacs editor on the MIT Lisp Machine handled the mark in a
similar way.

</p><div class="node">
<p></p><hr>
<a name="Momentary-Mark"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Using-Region">Using Region</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transient-Mark">Transient Mark</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mark">Mark</a>

</div>

<h3 class="section">12.3 Using Transient Mark Mode Momentarily</h3>

<p>If you don't like Transient Mark mode in general, you might still
want to use it once in a while.  To do this, type <kbd>C-&lt;SPC&gt;
C-&lt;SPC&gt;</kbd> or <kbd>C-u C-x C-x</kbd>.  These commands set or activate the
mark, and enable Transient Mark mode only until the mark is
deactivated.

     </p><dl>
<dt><kbd>C-&lt;SPC&gt; C-&lt;SPC&gt;</kbd></dt><dd><a name="index-C_002d_0040key_007bSPC_007d-C_002d_0040key_007bSPC_007d-299"></a>Set the mark at point (like plain <kbd>C-&lt;SPC&gt;</kbd>), and enable
Transient Mark mode just once until the mark is deactivated.  (This is
not really a separate command; you are using the <kbd>C-&lt;SPC&gt;</kbd>
command twice.)

     <br></dd><dt><kbd>C-u C-x C-x</kbd></dt><dd><a name="index-C_002du-C_002dx-C_002dx-300"></a>Activate the mark without changing it; enable Transient Mark mode just
once, until the mark is deactivated.  (This is the <kbd>C-x C-x</kbd>
command, <code>exchange-point-and-mark</code>, with a prefix argument.) 
</dd></dl>

   <p>One of the secondary features of Transient Mark mode is that certain
commands operate only on the region, when there is an active region. 
If you don't use Transient Mark mode, the region once set never
becomes inactive, so there is no way for these commands to make such a
distinction.  Enabling Transient Mark mode momentarily gives you a way
to use these commands on the region.

   </p><p>Momentary use of Transient Mark mode is also a way to highlight the
region for the time being.

</p><div class="node">
<p></p><hr>
<a name="Using-Region"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Marking-Objects">Marking Objects</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Momentary-Mark">Momentary Mark</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mark">Mark</a>

</div>

<h3 class="section">12.4 Operating on the Region</h3>

<p><a name="index-operations-on-a-marked-region-301"></a>  Once you have a region and the mark is active, here are some of the
ways you can operate on the region:

     </p><ul>
<li>Kill it with <kbd>C-w</kbd> (see <a href="#Killing">Killing</a>). 
</li><li>Save it in a register with <kbd>C-x r s</kbd> (see <a href="#Registers">Registers</a>). 
</li><li>Save it in a buffer or a file (see <a href="#Accumulating-Text">Accumulating Text</a>). 
</li><li>Convert case with <kbd>C-x C-l</kbd> or <kbd>C-x C-u</kbd> (see <a href="#Case">Case</a>). 
</li><li>Indent it with <kbd>C-x &lt;TAB&gt;</kbd> or <kbd>C-M-\</kbd> (see <a href="#Indentation">Indentation</a>). 
</li><li>Fill it as text with <kbd>M-x fill-region</kbd> (see <a href="#Filling">Filling</a>). 
</li><li>Print hardcopy with <kbd>M-x print-region</kbd> (see <a href="#Printing">Printing</a>). 
</li><li>Evaluate it as Lisp code with <kbd>M-x eval-region</kbd> (see <a href="#Lisp-Eval">Lisp Eval</a>). 
</li><li>Undo changes within it using <kbd>C-u C-x u</kbd> (see <a href="#Undo">Undo</a>). 
</li></ul>

   <p>Most commands that operate on the text in the region have the word
<code>region</code> in their names.

</p><div class="node">
<p></p><hr>
<a name="Marking-Objects"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Mark-Ring">Mark Ring</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Using-Region">Using Region</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mark">Mark</a>

</div>

<h3 class="section">12.5 Commands to Mark Textual Objects</h3>

<p><a name="index-marking-sections-of-text-302"></a>  Here are the commands for placing point and the mark around a textual
object such as a word, list, paragraph or page.

     </p><dl>
<dt><kbd>M-@</kbd></dt><dd>Set mark after end of next word (<code>mark-word</code>).  This command and
the following one do not move point. 
<br></dd><dt><kbd>C-M-@</kbd></dt><dd>Set mark after end of following balanced expression (<code>mark-sexp</code>). 
<br></dd><dt><kbd>M-h</kbd></dt><dd>Put region around current paragraph (<code>mark-paragraph</code>). 
<br></dd><dt><kbd>C-M-h</kbd></dt><dd>Put region around current defun (<code>mark-defun</code>). 
<br></dd><dt><kbd>C-x h</kbd></dt><dd>Put region around the entire buffer (<code>mark-whole-buffer</code>). 
<br></dd><dt><kbd>C-x C-p</kbd></dt><dd>Put region around current page (<code>mark-page</code>). 
</dd></dl>

   <p><kbd>M-@</kbd> (<code>mark-word</code>) puts the mark at the end of the next
word, while <kbd>C-M-@</kbd> (<code>mark-sexp</code>) puts it at the end of the
next balanced expression (see <a href="#Expressions">Expressions</a>).  These commands handle
arguments just like <kbd>M-f</kbd> and <kbd>C-M-f</kbd>.  Repeating these
commands extends the region.  For example, you can type either
<kbd>C-u 2 M-@</kbd> or <kbd>M-@ M-@</kbd> to mark the next two words.  These
commands also extend the region in Transient Mark mode, regardless of
the last command.

   </p><p><a name="index-C_002dx-h-303"></a><a name="index-mark_002dwhole_002dbuffer-304"></a>   Other commands set both point and mark, to delimit an object in the
buffer.  For example, <kbd>M-h</kbd> (<code>mark-paragraph</code>) moves point to
the beginning of the paragraph that surrounds or follows point, and
puts the mark at the end of that paragraph (see <a href="#Paragraphs">Paragraphs</a>).  It
prepares the region so you can indent, case-convert, or kill a whole
paragraph.  With a prefix argument, if the argument's value is positive,
<kbd>M-h</kbd> marks that many paragraphs starting with the one surrounding
point.  If the prefix argument is &#8722;<var>n</var>, <kbd>M-h</kbd> also
marks <var>n</var> paragraphs, running back form the one surrounding point. 
In that last case, point moves forward to the end of that paragraph,
and the mark goes at the start of the region.  Repeating the <kbd>M-h</kbd>
command extends the region to subsequent paragraphs.

   </p><p><kbd>C-M-h</kbd> (<code>mark-defun</code>) similarly puts point before, and the
mark after, the current (or following) major top-level definition, or
defun (see <a href="#Moving-by-Defuns">Moving by Defuns</a>).  Repeating <kbd>C-M-h</kbd> extends
the region to subsequent defuns.

   </p><p><kbd>C-x C-p</kbd> (<code>mark-page</code>) puts point before the current page,
and mark at the end (see <a href="#Pages">Pages</a>).  The mark goes after the
terminating page delimiter (to include it in the region), while point
goes after the preceding page delimiter (to exclude it).  A numeric
argument specifies a later page (if positive) or an earlier page (if
negative) instead of the current page.

   </p><p>Finally, <kbd>C-x h</kbd> (<code>mark-whole-buffer</code>) sets up the entire
buffer as the region, by putting point at the beginning and the mark at
the end.  (In some programs this is called &#8220;select all.&#8221;)

   </p><p>In Transient Mark mode, all of these commands activate the mark.

</p><div class="node">
<p></p><hr>
<a name="Mark-Ring"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Global-Mark-Ring">Global Mark Ring</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Marking-Objects">Marking Objects</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mark">Mark</a>

</div>

<h3 class="section">12.6 The Mark Ring</h3>

<p><a name="index-C_002du-C_002dSPC-305"></a><a name="index-mark-ring-306"></a><a name="index-C_002du-C_002d_0040_0040-307"></a>  Aside from delimiting the region, the mark is also useful for
remembering a spot that you may want to go back to.  To make this
feature more useful, each buffer remembers 16 previous locations of the
mark, in the <dfn>mark ring</dfn>.  Commands that set the mark also push the
old mark onto this ring.  To return to a marked location, use <kbd>C-u
C-&lt;SPC&gt;</kbd> (or <kbd>C-u C-@</kbd>); this is the command
<code>set-mark-command</code> given a numeric argument.  It moves point to
where the mark was, and restores the mark from the ring of former
marks.

   </p><p><a name="index-set_002dmark_002dcommand_002drepeat_002dpop-308"></a>  If you set <code>set-mark-command-repeat-pop</code> to non-<code>nil</code>,
then when you repeat the character <kbd>C-&lt;SPC&gt;</kbd> after typing
<kbd>C-u C-&lt;SPC&gt;</kbd>, each repetition moves point to a previous mark
position from the ring.  The mark positions you move through in this
way are not lost; they go to the end of the ring.

   </p><p>Each buffer has its own mark ring.  All editing commands use the current
buffer's mark ring.  In particular, <kbd>C-u C-&lt;SPC&gt;</kbd> always stays in
the same buffer.

   </p><p>Many commands that can move long distances, such as <kbd>M-&lt;</kbd>
(<code>beginning-of-buffer</code>), start by setting the mark and saving the
old mark on the mark ring.  This is to make it easier for you to move
back later.  Searches set the mark if they move point.  However, in
Transient Mark mode, these commands do not set the mark when the mark
is already active.  You can tell when a command sets the mark because
it displays `<samp><span class="samp">Mark set</span></samp>' in the echo area.

   </p><p>If you want to move back to the same place over and over, the mark
ring may not be convenient enough.  If so, you can record the position
in a register for later retrieval (see <a href="#RegPos">Saving Positions in Registers</a>).

   </p><p><a name="index-mark_002dring_002dmax-309"></a>  The variable <code>mark-ring-max</code> specifies the maximum number of
entries to keep in the mark ring.  If that many entries exist and
another one is pushed, the earliest one in the list is discarded.  Repeating
<kbd>C-u C-&lt;SPC&gt;</kbd> cycles through the positions currently in the
ring.

   </p><p><a name="index-mark_002dring-310"></a>  The variable <code>mark-ring</code> holds the mark ring itself, as a list of
marker objects, with the most recent first.  This variable is local in
every buffer.

</p><div class="node">
<p></p><hr>
<a name="Global-Mark-Ring"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Mark-Ring">Mark Ring</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mark">Mark</a>

</div>

<h3 class="section">12.7 The Global Mark Ring</h3>

<p><a name="index-global-mark-ring-311"></a>
  In addition to the ordinary mark ring that belongs to each buffer,
Emacs has a single <dfn>global mark ring</dfn>.  It records a sequence of
buffers in which you have recently set the mark, so you can go back
to those buffers.

   </p><p>Setting the mark always makes an entry on the current buffer's mark
ring.  If you have switched buffers since the previous mark setting, the
new mark position makes an entry on the global mark ring also.  The
result is that the global mark ring records a sequence of buffers that
you have been in, and, for each buffer, a place where you set the mark.

   </p><p><a name="index-C_002dx-C_002d_0040key_007bSPC_007d-312"></a><a name="index-pop_002dglobal_002dmark-313"></a>  The command <kbd>C-x C-&lt;SPC&gt;</kbd> (<code>pop-global-mark</code>) jumps to
the buffer and position of the latest entry in the global ring.  It also
rotates the ring, so that successive uses of <kbd>C-x C-&lt;SPC&gt;</kbd> take
you to earlier and earlier buffers.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2000, 2001, -->
<!-- 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Killing"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Yanking">Yanking</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Mark">Mark</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">13 Killing and Moving Text</h2>

<p><dfn>Killing</dfn> means erasing text and copying it into the <dfn>kill
ring</dfn>, from which you can bring it back into the buffer by
<dfn>yanking</dfn> it.  (Some systems use the terms &#8220;cutting&#8221; and
&#8220;pasting&#8221; for these operations.)  This is the most common way of
moving or copying text within Emacs.  Killing and yanking is very safe
because Emacs remembers several recent kills, not just the last one. 
It is versatile, because the many commands for killing syntactic units
can also be used for moving those units.  But there are other ways of
copying text for special purposes.

   </p><p><a name="index-killing-text-314"></a><a name="index-cutting-text-315"></a><a name="index-deletion-316"></a>  Most commands which erase text from the buffer save it in the kill
ring.  These commands are known as <dfn>kill</dfn> commands.  The commands
that erase text but do not save it in the kill ring are known as
<dfn>delete</dfn> commands.  The <kbd>C-x u</kbd> (<code>undo</code>) command
(see <a href="#Undo">Undo</a>) can undo both kill and delete commands; the importance
of the kill ring is that you can also yank the text in a different
place or places.  Emacs has only one kill ring for all buffers, so you
can kill text in one buffer and yank it in another buffer.

   </p><p>The delete commands include <kbd>C-d</kbd> (<code>delete-char</code>) and
&lt;DEL&gt; (<code>delete-backward-char</code>), which delete only one
character at a time, and those commands that delete only spaces or
newlines.  Commands that can erase significant amounts of nontrivial
data generally do a kill operation instead.  The commands' names and
individual descriptions use the words `<samp><span class="samp">kill</span></samp>' and `<samp><span class="samp">delete</span></samp>' to
say which kind of operation they perform.

   </p><p><a name="index-kill_002dread_002donly_002dok-317"></a><a name="index-read_002donly-text_002c-killing-318"></a>  You cannot kill read-only text, since such text does not allow any
kind of modification.  But some users like to use the kill commands to
copy read-only text into the kill ring, without actually changing it. 
Therefore, the kill commands work specially in a read-only buffer:
they move over text, and copy it to the kill ring, without actually
deleting it from the buffer.  Normally, kill commands beep and display
an error message when this happens.  But if you set the variable
<code>kill-read-only-ok</code> to a non-<code>nil</code> value, they just print a
message in the echo area to explain why the text has not been erased.

   </p><p>You can also use the mouse to kill and yank.  See <a href="#Cut-and-Paste">Cut and Paste</a>.

</p><ul class="menu">
<li><a accesskey="1" href="#Deletion">Deletion</a>:             Commands for deleting small amounts of text and
                          blank areas. 
</li><li><a accesskey="2" href="#Killing-by-Lines">Killing by Lines</a>:     How to kill entire lines of text at one time. 
</li><li><a accesskey="3" href="#Other-Kill-Commands">Other Kill Commands</a>:  Commands to kill large regions of text and
                          syntactic units such as words and sentences. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Deletion"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Killing-by-Lines">Killing by Lines</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Killing">Killing</a>

</div>

<h3 class="section">13.1 Deletion</h3>

<p><a name="index-delete_002dbackward_002dchar-319"></a><a name="index-delete_002dchar-320"></a>
  Deletion means erasing text and not saving it in the kill ring.  For
the most part, the Emacs commands that delete text are those that
erase just one character or only whitespace.

     </p><dl>
<dt><kbd>C-d</kbd></dt><dt><kbd>&lt;DELETE&gt;</kbd></dt><dd>Delete next character (<code>delete-char</code>).  If your keyboard has a
&lt;DELETE&gt; function key (usually located in the edit keypad), Emacs
binds it to <code>delete-char</code> as well. 
<br></dd><dt><kbd>&lt;DEL&gt;</kbd></dt><dt><kbd>&lt;BS&gt;</kbd></dt><dd>Delete previous character (<code>delete-backward-char</code>). 
<br></dd><dt><kbd>M-\</kbd></dt><dd>Delete spaces and tabs around point (<code>delete-horizontal-space</code>). 
<br></dd><dt><kbd>M-&lt;SPC&gt;</kbd></dt><dd>Delete spaces and tabs around point, leaving one space
(<code>just-one-space</code>). 
<br></dd><dt><kbd>C-x C-o</kbd></dt><dd>Delete blank lines around the current line (<code>delete-blank-lines</code>). 
<br></dd><dt><kbd>M-^</kbd></dt><dd>Join two lines by deleting the intervening newline, along with any
indentation following it (<code>delete-indentation</code>). 
</dd></dl>

   <p><a name="index-DEL-321"></a><a name="index-C_002dd-322"></a>  The most basic delete commands are <kbd>C-d</kbd> (<code>delete-char</code>) and
&lt;DEL&gt; (<code>delete-backward-char</code>).  <kbd>C-d</kbd> deletes the
character after point, the one the cursor is &#8220;on top of.&#8221;  This
doesn't move point.  &lt;DEL&gt; deletes the character before the cursor,
and moves point back.  You can delete newlines like any other characters
in the buffer; deleting a newline joins two lines.  Actually, <kbd>C-d</kbd>
and &lt;DEL&gt; aren't always delete commands; when given arguments, they
kill instead, since they can erase more than one character this way.

   </p><p><a name="index-BACKSPACE-323"></a><a name="index-BS-324"></a><a name="index-DELETE-325"></a>  Every keyboard has a large key which is a short distance above the
&lt;RET&gt; or &lt;ENTER&gt; key and is normally used for erasing what you
have typed.  It may be labeled &lt;DEL&gt;, &lt;BACKSPACE&gt;, &lt;BS&gt;,
&lt;DELETE&gt;, or even with a left arrow.  Regardless of the label on
the key, in Emacs it called &lt;DEL&gt;, and it should delete one
character backwards.

   </p><p>Many keyboards (including standard PC keyboards) have a
&lt;BACKSPACE&gt; key a short ways above &lt;RET&gt; or &lt;ENTER&gt;, and a
&lt;DELETE&gt; key elsewhere.  In that case, the &lt;BACKSPACE&gt; key is
&lt;DEL&gt;, and the &lt;DELETE&gt; key is equivalent to <kbd>C-d</kbd>&#8212;or it
should be.

   </p><p>Why do we say &#8220;or it should be&#8221;?  When Emacs starts up using a
graphical display, it determines automatically which key or keys should be
equivalent to &lt;DEL&gt;.  As a result, &lt;BACKSPACE&gt; and/or &lt;DELETE&gt;
keys normally do the right things.  But in some unusual cases Emacs
gets the wrong information from the system.  If these keys don't do
what they ought to do, you need to tell Emacs which key to use for
&lt;DEL&gt;.  See <a href="#DEL-Does-Not-Delete">DEL Does Not Delete</a>, for how to do this.

   </p><p><a name="index-normal_002derase_002dis_002dbackspace_002dmode-326"></a>  On most text-only terminals, Emacs cannot tell which keys the
keyboard really has, so it follows a uniform plan which may or may not
fit your keyboard.  The uniform plan is that the <acronym>ASCII</acronym> &lt;DEL&gt;
character deletes, and the <acronym>ASCII</acronym> &lt;BS&gt; (backspace) character asks
for help (it is the same as <kbd>C-h</kbd>).  If this is not right for your
keyboard, such as if you find that the key which ought to delete backwards
enters Help instead, see <a href="#DEL-Does-Not-Delete">DEL Does Not Delete</a>.

   </p><p><a name="index-M_002d_005c-327"></a><a name="index-delete_002dhorizontal_002dspace-328"></a><a name="index-M_002dSPC-329"></a><a name="index-just_002done_002dspace-330"></a>  The other delete commands are those which delete only whitespace
characters: spaces, tabs and newlines.  <kbd>M-\</kbd>
(<code>delete-horizontal-space</code>) deletes all the spaces and tab
characters before and after point.  With a prefix argument, this only
deletes spaces and tab characters before point.  <kbd>M-&lt;SPC&gt;</kbd>
(<code>just-one-space</code>) does likewise but leaves a single space after
point, regardless of the number of spaces that existed previously
(even if there were none before).  With a numeric argument <var>n</var>, it
leaves <var>n</var> spaces after point.

   </p><p><kbd>C-x C-o</kbd> (<code>delete-blank-lines</code>) deletes all blank lines
after the current line.  If the current line is blank, it deletes all
blank lines preceding the current line as well (leaving one blank line,
the current line).  On a solitary blank line, it deletes that line.

   </p><p><kbd>M-^</kbd> (<code>delete-indentation</code>) joins the current line and the
previous line, by deleting a newline and all surrounding spaces, usually
leaving a single space.  See <a href="#Indentation">M-^</a>.

</p><div class="node">
<p></p><hr>
<a name="Killing-by-Lines"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Other-Kill-Commands">Other Kill Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Deletion">Deletion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Killing">Killing</a>

</div>

<h3 class="section">13.2 Killing by Lines</h3>

     <dl>
<dt><kbd>C-k</kbd></dt><dd>Kill rest of line or one or more lines (<code>kill-line</code>). 
<br></dd><dt><kbd>C-S-backspace</kbd></dt><dd>Kill an entire line at once (<code>kill-whole-line</code>)
</dd></dl>

   <p><a name="index-C_002dk-331"></a><a name="index-kill_002dline-332"></a>  The simplest kill command is <kbd>C-k</kbd>.  If given at the beginning of
a line, it kills all the text on the line, leaving it blank.  When used
on a blank line, it kills the whole line including its newline.  To kill
an entire non-blank line, go to the beginning and type <kbd>C-k</kbd> twice.

   </p><p>More generally, <kbd>C-k</kbd> kills from point up to the end of the line,
unless it is at the end of a line.  In that case it kills the newline
following point, thus merging the next line into the current one. 
Spaces and tabs that you can't see at the end of the line are ignored
when deciding which case applies, so if point appears to be at the end
of the line, you can be sure <kbd>C-k</kbd> will kill the newline.

   </p><p>When <kbd>C-k</kbd> is given a positive argument, it kills that many lines
and the newlines that follow them (however, text on the current line
before point is not killed).  With a negative argument &#8722;<var>n</var>, it
kills <var>n</var> lines preceding the current line (together with the text
on the current line before point).  Thus, <kbd>C-u - 2 C-k</kbd> at the front
of a line kills the two previous lines.

   </p><p><kbd>C-k</kbd> with an argument of zero kills the text before point on the
current line.

   </p><p><a name="index-kill_002dwhole_002dline-333"></a>  If the variable <code>kill-whole-line</code> is non-<code>nil</code>, <kbd>C-k</kbd> at
the very beginning of a line kills the entire line including the
following newline.  This variable is normally <code>nil</code>.

   </p><p><a name="index-C_002dS_002dbackspace-334"></a><a name="index-kill_002dwhole_002dline-335"></a>  <kbd>C-S-backspace</kbd> (<code>kill-whole-line</code>) will kill a whole line
including its newline regardless of the position of point within the
line.  Note that many character terminals will prevent you from typing
the key sequence <kbd>C-S-backspace</kbd>.

</p><div class="node">
<p></p><hr>
<a name="Other-Kill-Commands"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Killing-by-Lines">Killing by Lines</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Killing">Killing</a>

</div>

<h3 class="section">13.3 Other Kill Commands</h3>

<p><a name="index-kill_002dregion-336"></a><a name="index-C_002dw-337"></a>
     </p><dl>
<dt><kbd>C-w</kbd></dt><dd>Kill region (from point to the mark) (<code>kill-region</code>). 
<br></dd><dt><kbd>M-d</kbd></dt><dd>Kill word (<code>kill-word</code>).  See <a href="#Words">Words</a>. 
<br></dd><dt><kbd>M-&lt;DEL&gt;</kbd></dt><dd>Kill word backwards (<code>backward-kill-word</code>). 
<br></dd><dt><kbd>C-x &lt;DEL&gt;</kbd></dt><dd>Kill back to beginning of sentence (<code>backward-kill-sentence</code>). 
See <a href="#Sentences">Sentences</a>. 
<br></dd><dt><kbd>M-k</kbd></dt><dd>Kill to end of sentence (<code>kill-sentence</code>). 
<br></dd><dt><kbd>C-M-k</kbd></dt><dd>Kill the following balanced expression (<code>kill-sexp</code>).  See <a href="#Expressions">Expressions</a>. 
<br></dd><dt><kbd>M-z </kbd><var>char</var></dt><dd>Kill through the next occurrence of <var>char</var> (<code>zap-to-char</code>). 
</dd></dl>

   <p>The most general kill command is <kbd>C-w</kbd> (<code>kill-region</code>),
which kills everything between point and the mark.  With this command,
you can kill any contiguous sequence of characters, if you first set
the region around them.

   </p><p><a name="index-M_002dz-338"></a><a name="index-zap_002dto_002dchar-339"></a>  A convenient way of killing is combined with searching: <kbd>M-z</kbd>
(<code>zap-to-char</code>) reads a character and kills from point up to (and
including) the next occurrence of that character in the buffer.  A
numeric argument acts as a repeat count.  A negative argument means to
search backward and kill text before point.

   </p><p>Other syntactic units can be killed: words, with <kbd>M-&lt;DEL&gt;</kbd>
and <kbd>M-d</kbd> (see <a href="#Words">Words</a>); balanced expressions, with <kbd>C-M-k</kbd>
(see <a href="#Expressions">Expressions</a>); and sentences, with <kbd>C-x &lt;DEL&gt;</kbd> and
<kbd>M-k</kbd> (see <a href="#Sentences">Sentences</a>).

</p><div class="node">
<p></p><hr>
<a name="Yanking"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Accumulating-Text">Accumulating Text</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Killing">Killing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">14 Yanking</h2>

<p><a name="index-moving-text-340"></a><a name="index-copying-text-341"></a><a name="index-kill-ring-342"></a><a name="index-yanking-343"></a><a name="index-pasting-344"></a>
  <dfn>Yanking</dfn> means reinserting text previously killed.  This is what
some systems call &#8220;pasting.&#8221;  The usual way to move or copy text is to
kill it and then yank it elsewhere one or more times.  This is very safe
because Emacs remembers many recent kills, not just the last one.

     </p><dl>
<dt><kbd>C-y</kbd></dt><dd>Yank last killed text (<code>yank</code>). 
<br></dd><dt><kbd>M-y</kbd></dt><dd>Replace text just yanked with an earlier batch of killed text
(<code>yank-pop</code>). 
<br></dd><dt><kbd>M-w</kbd></dt><dd>Save region as last killed text without actually killing it
(<code>kill-ring-save</code>).  Some systems call this &#8220;copying.&#8221;
<br></dd><dt><kbd>C-M-w</kbd></dt><dd>Append next kill to last batch of killed text (<code>append-next-kill</code>). 
</dd></dl>

   <p>On graphical displays with window systems, if there is a current
selection in some other application, and you selected it more recently
than you killed any text in Emacs, <kbd>C-y</kbd> copies the selection
instead of text killed within Emacs.

</p><ul class="menu">
<li><a accesskey="1" href="#Kill-Ring">Kill Ring</a>: 		Where killed text is stored.  Basic yanking. 
</li><li><a accesskey="2" href="#Appending-Kills">Appending Kills</a>: 	Several kills in a row all yank together. 
</li><li><a accesskey="3" href="#Earlier-Kills">Earlier Kills</a>: 	Yanking something killed some time ago. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Kill-Ring"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Appending-Kills">Appending Kills</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Yanking">Yanking</a>

</div>

<h3 class="section">14.1 The Kill Ring</h3>

<p>All killed text is recorded in the <dfn>kill ring</dfn>, a list of blocks of
text that have been killed.  There is only one kill ring, shared by all
buffers, so you can kill text in one buffer and yank it in another buffer. 
This is the usual way to move text from one file to another. 
(See <a href="#Accumulating-Text">Accumulating Text</a>, for some other ways.)

   </p><p><a name="index-C_002dy-345"></a><a name="index-yank-346"></a>  The command <kbd>C-y</kbd> (<code>yank</code>) reinserts the text of the most recent
kill.  It leaves the cursor at the end of the text.  It sets the mark at
the beginning of the text.  See <a href="#Mark">Mark</a>.

   </p><p><kbd>C-u C-y</kbd> leaves the cursor in front of the text, and sets the
mark after it.  This happens only if the argument is specified with just
a <kbd>C-u</kbd>, precisely.  Any other sort of argument, including <kbd>C-u</kbd>
and digits, specifies an earlier kill to yank (see <a href="#Earlier-Kills">Earlier Kills</a>).

   </p><p><a name="index-yanking-and-text-properties-347"></a><a name="index-yank_002dexcluded_002dproperties-348"></a>  The yank commands discard certain text properties from the text that
is yanked, those that might lead to annoying results.  For instance,
they discard text properties that respond to the mouse or specify key
bindings.  The variable <code>yank-excluded-properties</code> specifies the
properties to discard.  Yanking of register contents and rectangles
also discard these properties.

   </p><p><a name="index-M_002dw-349"></a><a name="index-kill_002dring_002dsave-350"></a>  To copy a block of text, you can use <kbd>M-w</kbd>
(<code>kill-ring-save</code>), which copies the region into the kill ring
without removing it from the buffer.  This is approximately equivalent
to <kbd>C-w</kbd> followed by <kbd>C-x u</kbd>, except that <kbd>M-w</kbd> does not
alter the undo history and does not temporarily change the screen.

</p><div class="node">
<p></p><hr>
<a name="Appending-Kills"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Earlier-Kills">Earlier Kills</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Kill-Ring">Kill Ring</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Yanking">Yanking</a>

</div>

<h3 class="section">14.2 Appending Kills</h3>

<p><a name="index-appending-kills-in-the-ring-351"></a><a name="index-television-352"></a>  Normally, each kill command pushes a new entry onto the kill ring. 
However, two or more kill commands in a row combine their text into a
single entry, so that a single <kbd>C-y</kbd> yanks all the text as a unit,
just as it was before it was killed.

   </p><p>Thus, if you want to yank text as a unit, you need not kill all of it
with one command; you can keep killing line after line, or word after
word, until you have killed it all, and you can still get it all back at
once.

   </p><p>Commands that kill forward from point add onto the end of the previous
killed text.  Commands that kill backward from point add text onto the
beginning.  This way, any sequence of mixed forward and backward kill
commands puts all the killed text into one entry without rearrangement. 
Numeric arguments do not break the sequence of appending kills.  For
example, suppose the buffer contains this text:

</p><pre class="example">     This is a line -!-of sample text.
</pre>
   <p class="noindent">with point shown by -!-.  If you type <kbd>M-d M-&lt;DEL&gt; M-d
M-&lt;DEL&gt;</kbd>, killing alternately forward and backward, you end up with
`<samp><span class="samp">a line of sample</span></samp>' as one entry in the kill ring, and `<samp><span class="samp">This
is  text.</span></samp>' in the buffer.  (Note the double space between `<samp><span class="samp">is</span></samp>'
and `<samp><span class="samp">text</span></samp>', which you can clean up with <kbd>M-&lt;SPC&gt;</kbd> or
<kbd>M-q</kbd>.)

   </p><p>Another way to kill the same text is to move back two words with
<kbd>M-b M-b</kbd>, then kill all four words forward with <kbd>C-u M-d</kbd>. 
This produces exactly the same results in the buffer and in the kill
ring.  <kbd>M-f M-f C-u M-&lt;DEL&gt;</kbd> kills the same text, all going
backward; once again, the result is the same.  The text in the kill ring
entry always has the same order that it had in the buffer before you
killed it.

   </p><p><a name="index-C_002dM_002dw-353"></a><a name="index-append_002dnext_002dkill-354"></a>  If a kill command is separated from the last kill command by other
commands (not just numeric arguments), it starts a new entry on the kill
ring.  But you can force it to append by first typing the command
<kbd>C-M-w</kbd> (<code>append-next-kill</code>) right before it.  The <kbd>C-M-w</kbd>
tells the following command, if it is a kill command, to append the text
it kills to the last killed text, instead of starting a new entry.  With
<kbd>C-M-w</kbd>, you can kill several separated pieces of text and
accumulate them to be yanked back in one place.

   </p><p>A kill command following <kbd>M-w</kbd> does not append to the text that
<kbd>M-w</kbd> copied into the kill ring.

</p><div class="node">
<p></p><hr>
<a name="Earlier-Kills"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Appending-Kills">Appending Kills</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Yanking">Yanking</a>

</div>

<h3 class="section">14.3 Yanking Earlier Kills</h3>

<p><a name="index-yanking-previous-kills-355"></a><a name="index-M_002dy-356"></a><a name="index-yank_002dpop-357"></a>  To recover killed text that is no longer the most recent kill, use the
<kbd>M-y</kbd> command (<code>yank-pop</code>).  It takes the text previously
yanked and replaces it with the text from an earlier kill.  So, to
recover the text of the next-to-the-last kill, first use <kbd>C-y</kbd> to
yank the last kill, and then use <kbd>M-y</kbd> to replace it with the
previous kill.  <kbd>M-y</kbd> is allowed only after a <kbd>C-y</kbd> or another
<kbd>M-y</kbd>.

   </p><p>You can understand <kbd>M-y</kbd> in terms of a &#8220;last yank&#8221; pointer which
points at an entry in the kill ring.  Each time you kill, the &#8220;last
yank&#8221; pointer moves to the newly made entry at the front of the ring. 
<kbd>C-y</kbd> yanks the entry which the &#8220;last yank&#8221; pointer points to. 
<kbd>M-y</kbd> moves the &#8220;last yank&#8221; pointer to a different entry, and the
text in the buffer changes to match.  Enough <kbd>M-y</kbd> commands can move
the pointer to any entry in the ring, so you can get any entry into the
buffer.  Eventually the pointer reaches the end of the ring; the next
<kbd>M-y</kbd> loops back around to the first entry again.

   </p><p><kbd>M-y</kbd> moves the &#8220;last yank&#8221; pointer around the ring, but it does
not change the order of the entries in the ring, which always runs from
the most recent kill at the front to the oldest one still remembered.

   </p><p><kbd>M-y</kbd> can take a numeric argument, which tells it how many entries
to advance the &#8220;last yank&#8221; pointer by.  A negative argument moves the
pointer toward the front of the ring; from the front of the ring, it
moves &#8220;around&#8221; to the last entry and continues forward from there.

   </p><p>Once the text you are looking for is brought into the buffer, you can
stop doing <kbd>M-y</kbd> commands and it will stay there.  It's just a copy
of the kill ring entry, so editing it in the buffer does not change
what's in the ring.  As long as no new killing is done, the &#8220;last
yank&#8221; pointer remains at the same place in the kill ring, so repeating
<kbd>C-y</kbd> will yank another copy of the same previous kill.

   </p><p>If you know how many <kbd>M-y</kbd> commands it would take to find the
text you want, you can yank that text in one step using <kbd>C-y</kbd> with
a numeric argument.  <kbd>C-y</kbd> with an argument restores the text from
the specified kill ring entry, counting back from the most recent as
1.  Thus, <kbd>C-u 2 C-y</kbd> gets the next-to-the-last block of killed
text&#8212;it is equivalent to <kbd>C-y M-y</kbd>.  <kbd>C-y</kbd> with a numeric
argument starts counting from the &#8220;last yank&#8221; pointer, and sets the
&#8220;last yank&#8221; pointer to the entry that it yanks.

   </p><p><a name="index-kill_002dring_002dmax-358"></a>  The length of the kill ring is controlled by the variable
<code>kill-ring-max</code>; no more than that many blocks of killed text are
saved.

   </p><p><a name="index-kill_002dring-359"></a>  The actual contents of the kill ring are stored in a variable named
<code>kill-ring</code>; you can view the entire contents of the kill ring with
the command <kbd>C-h v kill-ring</kbd>.

</p><div class="node">
<p></p><hr>
<a name="Accumulating-Text"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Rectangles">Rectangles</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Yanking">Yanking</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">15 Accumulating Text</h2>

<p><a name="index-append_002dto_002dbuffer-360"></a><a name="index-prepend_002dto_002dbuffer-361"></a><a name="index-copy_002dto_002dbuffer-362"></a><a name="index-append_002dto_002dfile-363"></a>
<a name="index-accumulating-scattered-text-364"></a>  Usually we copy or move text by killing it and yanking it, but there
are other convenient methods for copying one block of text in many
places, or for copying many scattered blocks of text into one place.  To
copy one block to many places, store it in a register
(see <a href="#Registers">Registers</a>).  Here we describe the commands to accumulate
scattered pieces of text into a buffer or into a file.

     </p><dl>
<dt><kbd>M-x append-to-buffer</kbd></dt><dd>Append region to the contents of a specified buffer. 
<br></dd><dt><kbd>M-x prepend-to-buffer</kbd></dt><dd>Prepend region to the contents of a specified buffer. 
<br></dd><dt><kbd>M-x copy-to-buffer</kbd></dt><dd>Copy region into a specified buffer, deleting that buffer's old contents. 
<br></dd><dt><kbd>M-x insert-buffer</kbd></dt><dd>Insert the contents of a specified buffer into current buffer at point. 
<br></dd><dt><kbd>M-x append-to-file</kbd></dt><dd>Append region to the contents of a specified file, at the end. 
</dd></dl>

   <p>To accumulate text into a buffer, use <kbd>M-x append-to-buffer</kbd>. 
This reads a buffer name, then inserts a copy of the region into the
buffer specified.  If you specify a nonexistent buffer,
<code>append-to-buffer</code> creates the buffer.  The text is inserted
wherever point is in that buffer.  If you have been using the buffer for
editing, the copied text goes into the middle of the text of the buffer,
starting from wherever point happens to be at that moment.

   </p><p>Point in that buffer is left at the end of the copied text, so
successive uses of <code>append-to-buffer</code> accumulate the text in the
specified buffer in the same order as they were copied.  Strictly
speaking, <code>append-to-buffer</code> does not always append to the text
already in the buffer&#8212;it appends only if point in that buffer is at the end. 
However, if <code>append-to-buffer</code> is the only command you use to alter
a buffer, then point is always at the end.

   </p><p><kbd>M-x prepend-to-buffer</kbd> is just like <code>append-to-buffer</code>
except that point in the other buffer is left before the copied text, so
successive prependings add text in reverse order.  <kbd>M-x
copy-to-buffer</kbd> is similar, except that any existing text in the other
buffer is deleted, so the buffer is left containing just the text newly
copied into it.

   </p><p>To retrieve the accumulated text from another buffer, use the
command <kbd>M-x insert-buffer</kbd>; this too takes <var>buffername</var> as an
argument.  It inserts a copy of the whole text in buffer
<var>buffername</var> into the current buffer at point, and sets the mark
after the inserted text.  Alternatively, you can select the other
buffer for editing, then copy text from it by killing. 
See <a href="#Buffers">Buffers</a>, for background information on buffers.

   </p><p>Instead of accumulating text within Emacs, in a buffer, you can append
text directly into a file with <kbd>M-x append-to-file</kbd>, which takes
<var>filename</var> as an argument.  It adds the text of the region to the end
of the specified file.  The file is changed immediately on disk.

   </p><p>You should use <code>append-to-file</code> only with files that are
<em>not</em> being visited in Emacs.  Using it on a file that you are
editing in Emacs would change the file behind Emacs's back, which
can lead to losing some of your editing.

</p><div class="node">
<p></p><hr>
<a name="Rectangles"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#CUA-Bindings">CUA Bindings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Accumulating-Text">Accumulating Text</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">16 Rectangles</h2>

<p><a name="index-rectangle-365"></a><a name="index-columns-_0028and-rectangles_0029-366"></a><a name="index-killing-rectangular-areas-of-text-367"></a>
  The rectangle commands operate on rectangular areas of the text: all
the characters between a certain pair of columns, in a certain range of
lines.  Commands are provided to kill rectangles, yank killed rectangles,
clear them out, fill them with blanks or text, or delete them.  Rectangle
commands are useful with text in multicolumn formats, and for changing
text into or out of such formats.

   </p><p><a name="index-mark-rectangle-368"></a>  When you must specify a rectangle for a command to work on, you do it
by putting the mark at one corner and point at the opposite corner.  The
rectangle thus specified is called the <dfn>region-rectangle</dfn> because
you control it in much the same way as the region is controlled.  But
remember that a given combination of point and mark values can be
interpreted either as a region or as a rectangle, depending on the
command that uses them.

   </p><p>If point and the mark are in the same column, the rectangle they
delimit is empty.  If they are in the same line, the rectangle is one
line high.  This asymmetry between lines and columns comes about
because point (and likewise the mark) is between two columns, but within
a line.

     </p><dl>
<dt><kbd>C-x r k</kbd></dt><dd>Kill the text of the region-rectangle, saving its contents as the
&#8220;last killed rectangle&#8221; (<code>kill-rectangle</code>). 
<br></dd><dt><kbd>C-x r d</kbd></dt><dd>Delete the text of the region-rectangle (<code>delete-rectangle</code>). 
<br></dd><dt><kbd>C-x r y</kbd></dt><dd>Yank the last killed rectangle with its upper left corner at point
(<code>yank-rectangle</code>). 
<br></dd><dt><kbd>C-x r o</kbd></dt><dd>Insert blank space to fill the space of the region-rectangle
(<code>open-rectangle</code>).  This pushes the previous contents of the
region-rectangle rightward. 
<br></dd><dt><kbd>C-x r c</kbd></dt><dd>Clear the region-rectangle by replacing all of its contents with spaces
(<code>clear-rectangle</code>). 
<br></dd><dt><kbd>M-x delete-whitespace-rectangle</kbd></dt><dd>Delete whitespace in each of the lines on the specified rectangle,
starting from the left edge column of the rectangle. 
<br></dd><dt><kbd>C-x r t </kbd><var>string</var><kbd> &lt;RET&gt;</kbd></dt><dd>Replace rectangle contents with <var>string</var> on each line
(<code>string-rectangle</code>). 
<br></dd><dt><kbd>M-x string-insert-rectangle &lt;RET&gt; </kbd><var>string</var><kbd> &lt;RET&gt;</kbd></dt><dd>Insert <var>string</var> on each line of the rectangle. 
</dd></dl>

   <p>The rectangle operations fall into two classes: commands for
deleting and inserting rectangles, and commands for blank rectangles.

   </p><p><a name="index-C_002dx-r-k-369"></a><a name="index-C_002dx-r-d-370"></a><a name="index-kill_002drectangle-371"></a><a name="index-delete_002drectangle-372"></a>  There are two ways to get rid of the text in a rectangle: you can
discard the text (delete it) or save it as the &#8220;last killed&#8221;
rectangle.  The commands for these two ways are <kbd>C-x r d</kbd>
(<code>delete-rectangle</code>) and <kbd>C-x r k</kbd> (<code>kill-rectangle</code>).  In
either case, the portion of each line that falls inside the rectangle's
boundaries is deleted, causing any following text on the line to
move left into the gap.

   </p><p>Note that &#8220;killing&#8221; a rectangle is not killing in the usual sense; the
rectangle is not stored in the kill ring, but in a special place that
can only record the most recent rectangle killed.  This is because yanking
a rectangle is so different from yanking linear text that different yank
commands have to be used.  It is hard to define yank-popping for rectangles,
so we do not try.

   </p><p><a name="index-C_002dx-r-y-373"></a><a name="index-yank_002drectangle-374"></a>  To yank the last killed rectangle, type <kbd>C-x r y</kbd>
(<code>yank-rectangle</code>).  Yanking a rectangle is the opposite of killing
one.  Point specifies where to put the rectangle's upper left corner. 
The rectangle's first line is inserted there, the rectangle's second
line is inserted at the same horizontal position, but one line
vertically down, and so on.  The number of lines affected is determined
by the height of the saved rectangle.

   </p><p>You can convert single-column lists into double-column lists using
rectangle killing and yanking; kill the second half of the list as a
rectangle and then yank it beside the first line of the list. 
See <a href="#Two_002dColumn">Two-Column</a>, for another way to edit multi-column text.

   </p><p>You can also copy rectangles into and out of registers with <kbd>C-x r
r </kbd><var>r</var> and <kbd>C-x r i </kbd><var>r</var>.  See <a href="#RegRect">Rectangle Registers</a>.

   </p><p><a name="index-C_002dx-r-o-375"></a><a name="index-open_002drectangle-376"></a><a name="index-C_002dx-r-c-377"></a><a name="index-clear_002drectangle-378"></a>  There are two commands you can use for making blank rectangles:
<kbd>C-x r c</kbd> (<code>clear-rectangle</code>) which blanks out existing text,
and <kbd>C-x r o</kbd> (<code>open-rectangle</code>) which inserts a blank
rectangle.  Clearing a rectangle is equivalent to deleting it and then
inserting a blank rectangle of the same size.

   </p><p><a name="index-delete_002dwhitespace_002drectangle-379"></a>  The command <kbd>M-x delete-whitespace-rectangle</kbd> deletes horizontal
whitespace starting from a particular column.  This applies to each of
the lines in the rectangle, and the column is specified by the left
edge of the rectangle.  The right edge of the rectangle does not make
any difference to this command.

   </p><p><a name="index-C_002dx-r-t-380"></a><a name="index-string_002drectangle-381"></a>  The command <kbd>C-x r t</kbd> (<code>string-rectangle</code>) replaces the
contents of a region-rectangle with a string on each line.  The
string's width need not be the same as the width of the rectangle.  If
the string's width is less, the text after the rectangle shifts left;
if the string is wider than the rectangle, the text after the
rectangle shifts right.

   </p><p><a name="index-string_002dinsert_002drectangle-382"></a>  The command <kbd>M-x string-insert-rectangle</kbd> is similar to
<code>string-rectangle</code>, but inserts the string on each line,
shifting the original text to the right.

</p><div class="node">
<p></p><hr>
<a name="CUA-Bindings"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Registers">Registers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Rectangles">Rectangles</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">17 CUA Bindings</h2>

<p><a name="index-cua_002dmode-383"></a><a name="index-cua_002dmode-384"></a><a name="index-CUA-key-bindings-385"></a><a name="index-cua_002denable_002dcua_002dkeys-386"></a>  The command <kbd>M-x cua-mode</kbd> sets up key bindings that are
compatible with the Common User Access (CUA) system used in many other
applications.  <kbd>C-x</kbd> means cut (kill), <kbd>C-c</kbd> copy, <kbd>C-v</kbd>
paste (yank), and <kbd>C-z</kbd> undo.  Standard Emacs commands like
<kbd>C-x C-c</kbd> still work, because <kbd>C-x</kbd> and <kbd>C-c</kbd> only take
effect when the mark is active (and the region is highlighted). 
However, if you don't want to override these bindings in Emacs at all,
set <code>cua-enable-cua-keys</code> to <code>nil</code>.

   </p><p>In CUA mode, using <kbd>Shift</kbd> together with the movement keys
activates and highlights the region over which they move.  The
standard (unshifted) movement keys deactivate the mark, and typed text
replaces the active region as in Delete-Selection mode
(see <a href="#Mouse-Commands">Mouse Commands</a>).

   </p><p>To enter an Emacs command like <kbd>C-x C-f</kbd> while the mark is
active, use one of the following methods: either hold <kbd>Shift</kbd>
together with the prefix key, e.g. <kbd>S-C-x C-f</kbd>, or quickly type
the prefix key twice, e.g. <kbd>C-x C-x C-f</kbd>.

   </p><p><a name="index-rectangle-highlighting-387"></a>  CUA mode provides enhanced rectangle support with visible
rectangle highlighting.  Use <kbd>C-RET</kbd> to start a rectangle,
extend it using the movement commands, and cut or copy it using
<kbd>C-x</kbd> or <kbd>C-c</kbd>.  <kbd>RET</kbd> moves the cursor to the next
(clockwise) corner of the rectangle, so you can easily expand it in
any direction.  Normal text you type is inserted to the left or right
of each line in the rectangle (on the same side as the cursor).

   </p><p>With CUA you can easily copy text and rectangles into and out of
registers by providing a one-digit numeric prefix to the kill, copy,
and yank commands, e.g. <kbd>C-1 C-c</kbd> copies the region into register
<code>1</code>, and <kbd>C-2 C-v</kbd> yanks the contents of register <code>2</code>.

   </p><p><a name="index-global-mark-388"></a>  CUA mode also has a global mark feature which allows easy moving and
copying of text between buffers.  Use <kbd>C-S-SPC</kbd> to toggle the
global mark on and off.  When the global mark is on, all text that you
kill or copy is automatically inserted at the global mark, and text
you type is inserted at the global mark rather than at the current
position.

   </p><p>For example, to copy words from various buffers into a word list in
a given buffer, set the global mark in the target buffer, then
navigate to each of the words you want in the list, mark it (e.g. with
<kbd>S-M-f</kbd>), copy it to the list with <kbd>C-c</kbd> or <kbd>M-w</kbd>, and
insert a newline after the word in the target list by pressing
&lt;RET&gt;.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2001, 2002, -->
<!-- 2003, 2004, 2005, 2006, 2007  Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Registers"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Display">Display</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#CUA-Bindings">CUA Bindings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">18 Registers</h2>

<p><a name="index-registers-389"></a>
  Emacs <dfn>registers</dfn> are compartments where you can save text,
rectangles, positions, and other things for later use.  Once you save
text or a rectangle in a register, you can copy it into the buffer
once, or many times; you can move point to a position saved in a
register once, or many times.

   </p><p><a name="index-view_002dregister-390"></a>  Each register has a name, which consists of a single character.  A
register can store a number, a piece of text, a rectangle, a position,
a window configuration, or a file name, but only one thing at any
given time.  Whatever you store in a register remains there until you
store something else in that register.  To see what a register <var>r</var>
contains, use <kbd>M-x view-register</kbd>.

     </p><dl>
<dt><kbd>M-x view-register &lt;RET&gt; </kbd><var>r</var></dt><dd>Display a description of what register <var>r</var> contains. 
</dd></dl>

   <p><dfn>Bookmarks</dfn> record files and positions in them, so you can
return to those positions when you look at the file again. 
Bookmarks are similar enough in spirit to registers that they
seem to belong in this chapter.

</p><ul class="menu">
<li><a accesskey="1" href="#RegPos">Position</a>:            Saving positions in registers. 
</li><li><a accesskey="2" href="#RegText">Text</a>:               Saving text in registers. 
</li><li><a accesskey="3" href="#RegRect">Rectangle</a>:          Saving rectangles in registers. 
</li><li><a accesskey="4" href="#RegConfig">Configurations</a>:   Saving window configurations in registers. 
</li><li><a accesskey="5" href="#RegNumbers">Numbers</a>:         Numbers in registers. 
</li><li><a accesskey="6" href="#RegFiles">Files</a>:             File names in registers. 
</li><li><a accesskey="7" href="#Bookmarks">Bookmarks</a>:                  Bookmarks are like registers, but persistent. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="RegPos"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#RegText">RegText</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Registers">Registers</a>

</div>

<h3 class="section">18.1 Saving Positions in Registers</h3>

<p><a name="index-saving-position-in-a-register-391"></a>
  Saving a position records a place in a buffer so that you can move
back there later.  Moving to a saved position switches to that buffer
and moves point to that place in it.

     </p><dl>
<dt><kbd>C-x r &lt;SPC&gt; </kbd><var>r</var></dt><dd>Save position of point in register <var>r</var> (<code>point-to-register</code>). 
<br></dd><dt><kbd>C-x r j </kbd><var>r</var></dt><dd>Jump to the position saved in register <var>r</var> (<code>jump-to-register</code>). 
</dd></dl>

   <p><a name="index-C_002dx-r-SPC-392"></a><a name="index-point_002dto_002dregister-393"></a>  To save the current position of point in a register, choose a name
<var>r</var> and type <kbd>C-x r &lt;SPC&gt; </kbd><var>r</var>.  The register <var>r</var>
retains the position thus saved until you store something else in that
register.

   </p><p><a name="index-C_002dx-r-j-394"></a><a name="index-jump_002dto_002dregister-395"></a>  The command <kbd>C-x r j </kbd><var>r</var> moves point to the position recorded
in register <var>r</var>.  The register is not affected; it continues to
hold the same position.  You can jump to the saved position any number
of times.

   </p><p>If you use <kbd>C-x r j</kbd> to go to a saved position, but the buffer it
was saved from has been killed, <kbd>C-x r j</kbd> tries to create the buffer
again by visiting the same file.  Of course, this works only for buffers
that were visiting files.

</p><div class="node">
<p></p><hr>
<a name="RegText"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#RegRect">RegRect</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RegPos">RegPos</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Registers">Registers</a>

</div>

<h3 class="section">18.2 Saving Text in Registers</h3>

<p><a name="index-saving-text-in-a-register-396"></a>
  When you want to insert a copy of the same piece of text several
times, it may be inconvenient to yank it from the kill ring, since each
subsequent kill moves that entry further down the ring.  An alternative
is to store the text in a register and later retrieve it.

     </p><dl>
<dt><kbd>C-x r s </kbd><var>r</var></dt><dd>Copy region into register <var>r</var> (<code>copy-to-register</code>). 
<br></dd><dt><kbd>C-x r i </kbd><var>r</var></dt><dd>Insert text from register <var>r</var> (<code>insert-register</code>). 
<br></dd><dt><kbd>M-x append-to-register &lt;RET&gt; </kbd><var>r</var></dt><dd>Append region to text in register <var>r</var>. 
<br></dd><dt><kbd>M-x prepend-to-register &lt;RET&gt; </kbd><var>r</var></dt><dd>Prepend region to text in register <var>r</var>. 
</dd></dl>

   <p><a name="index-C_002dx-r-s-397"></a><a name="index-C_002dx-r-i-398"></a><a name="index-copy_002dto_002dregister-399"></a><a name="index-insert_002dregister-400"></a>  <kbd>C-x r s </kbd><var>r</var> stores a copy of the text of the region into
the register named <var>r</var>.  <kbd>C-u C-x r s </kbd><var>r</var>, the same
command with a numeric argument, deletes the text from the buffer as
well; you can think of this as &#8220;moving&#8221; the region text into the register.

   </p><p><a name="index-append_002dto_002dregister-401"></a><a name="index-prepend_002dto_002dregister-402"></a>  <kbd>M-x append-to-register &lt;RET&gt; </kbd><var>r</var> appends the copy of
the text in the region to the text already stored in the register
named <var>r</var>.  If invoked with a numeric argument, it deletes the
region after appending it to the register.  The command
<code>prepend-to-register</code> is similar, except that it <em>prepends</em>
the region text to the text in the register, rather than
<em>appending</em> it.

   </p><p><kbd>C-x r i </kbd><var>r</var> inserts in the buffer the text from register
<var>r</var>.  Normally it leaves point before the text and places the mark
after, but with a numeric argument (<kbd>C-u</kbd>) it puts point after the
text and the mark before.

</p><div class="node">
<p></p><hr>
<a name="RegRect"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#RegConfig">RegConfig</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RegText">RegText</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Registers">Registers</a>

</div>

<h3 class="section">18.3 Saving Rectangles in Registers</h3>

<p><a name="index-saving-rectangle-in-a-register-403"></a>
  A register can contain a rectangle instead of linear text.  The
rectangle is represented as a list of strings.  See <a href="#Rectangles">Rectangles</a>, for
basic information on how to specify a rectangle in the buffer.

     
<a name="index-copy_002drectangle_002dto_002dregister-404"></a>
<a name="index-C_002dx-r-r-405"></a>
</p><dl><dt><kbd>C-x r r </kbd><var>r</var></dt><dd>Copy the region-rectangle into register <var>r</var>
(<code>copy-rectangle-to-register</code>).  With numeric argument, delete it as
well. 
<br></dd><dt><kbd>C-x r i </kbd><var>r</var></dt><dd>Insert the rectangle stored in register <var>r</var> (if it contains a
rectangle) (<code>insert-register</code>). 
</dd></dl>

   <p>The <kbd>C-x r i </kbd><var>r</var> command inserts a text string if the
register contains one, and inserts a rectangle if the register contains
one.

   </p><p>See also the command <code>sort-columns</code>, which you can think of
as sorting a rectangle.  See <a href="#Sorting">Sorting</a>.

</p><div class="node">
<p></p><hr>
<a name="RegConfig"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#RegNumbers">RegNumbers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RegRect">RegRect</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Registers">Registers</a>

</div>

<h3 class="section">18.4 Saving Window Configurations in Registers</h3>

<p><a name="index-saving-window-configuration-in-a-register-406"></a>
<a name="index-window_002dconfiguration_002dto_002dregister-407"></a><a name="index-frame_002dconfiguration_002dto_002dregister-408"></a><a name="index-C_002dx-r-w-409"></a><a name="index-C_002dx-r-f-410"></a>  You can save the window configuration of the selected frame in a
register, or even the configuration of all windows in all frames, and
restore the configuration later.

     </p><dl>
<dt><kbd>C-x r w </kbd><var>r</var></dt><dd>Save the state of the selected frame's windows in register <var>r</var>
(<code>window-configuration-to-register</code>). 
<br></dd><dt><kbd>C-x r f </kbd><var>r</var></dt><dd>Save the state of all frames, including all their windows, in register
<var>r</var> (<code>frame-configuration-to-register</code>). 
</dd></dl>

   <p>Use <kbd>C-x r j </kbd><var>r</var> to restore a window or frame configuration. 
This is the same command used to restore a cursor position.  When you
restore a frame configuration, any existing frames not included in the
configuration become invisible.  If you wish to delete these frames
instead, use <kbd>C-u C-x r j </kbd><var>r</var>.

</p><div class="node">
<p></p><hr>
<a name="RegNumbers"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#RegFiles">RegFiles</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RegConfig">RegConfig</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Registers">Registers</a>

</div>

<h3 class="section">18.5 Keeping Numbers in Registers</h3>

<p><a name="index-saving-number-in-a-register-411"></a>
  There are commands to store a number in a register, to insert
the number in the buffer in decimal, and to increment it.  These commands
can be useful in keyboard macros (see <a href="#Keyboard-Macros">Keyboard Macros</a>).

     </p><dl>
<dt><kbd>C-u </kbd><var>number</var><kbd> C-x r n </kbd><var>r</var></dt><dd><a name="index-C_002dx-r-n-412"></a><a name="index-number_002dto_002dregister-413"></a>Store <var>number</var> into register <var>r</var> (<code>number-to-register</code>). 
<br></dd><dt><kbd>C-u </kbd><var>number</var><kbd> C-x r + </kbd><var>r</var></dt><dd><a name="index-C_002dx-r-_002b-414"></a><a name="index-increment_002dregister-415"></a>Increment the number in register <var>r</var> by <var>number</var>
(<code>increment-register</code>). 
<br></dd><dt><kbd>C-x r i </kbd><var>r</var></dt><dd>Insert the number from register <var>r</var> into the buffer. 
</dd></dl>

   <p><kbd>C-x r i</kbd> is the same command used to insert any other sort of
register contents into the buffer.  <kbd>C-x r +</kbd> with no numeric
argument increments the register value by 1; <kbd>C-x r n</kbd> with no
numeric argument stores zero in the register.

</p><div class="node">
<p></p><hr>
<a name="RegFiles"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Bookmarks">Bookmarks</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RegNumbers">RegNumbers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Registers">Registers</a>

</div>

<h3 class="section">18.6 Keeping File Names in Registers</h3>

<p><a name="index-saving-file-name-in-a-register-416"></a>
  If you visit certain file names frequently, you can visit them more
conveniently if you put their names in registers.  Here's the Lisp code
used to put a file name in a register:

</p><pre class="smallexample">     (set-register ?<var>r</var> '(file . <var>name</var>))
</pre>
   <p class="noindent">For example,

</p><pre class="smallexample">     (set-register ?z '(file . "/gd/gnu/emacs/19.0/src/ChangeLog"))
</pre>
   <p class="noindent">puts the file name shown in register `<samp><span class="samp">z</span></samp>'.

   </p><p>To visit the file whose name is in register <var>r</var>, type <kbd>C-x r j
</kbd><var>r</var>.  (This is the same command used to jump to a position or
restore a frame configuration.)

</p><div class="node">
<p></p><hr>
<a name="Bookmarks"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RegFiles">RegFiles</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Registers">Registers</a>

</div>

<h3 class="section">18.7 Bookmarks</h3>

<p><a name="index-bookmarks-417"></a>
  <dfn>Bookmarks</dfn> are somewhat like registers in that they record
positions you can jump to.  Unlike registers, they have long names, and
they persist automatically from one Emacs session to the next.  The
prototypical use of bookmarks is to record &#8220;where you were reading&#8221; in
various files.

     </p><dl>
<dt><kbd>C-x r m &lt;RET&gt;</kbd></dt><dd>Set the bookmark for the visited file, at point.

     <br></dd><dt><kbd>C-x r m </kbd><var>bookmark</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-bookmark_002dset-418"></a>Set the bookmark named <var>bookmark</var> at point (<code>bookmark-set</code>).

     <br></dd><dt><kbd>C-x r b </kbd><var>bookmark</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-bookmark_002djump-419"></a>Jump to the bookmark named <var>bookmark</var> (<code>bookmark-jump</code>).

     <br></dd><dt><kbd>C-x r l</kbd></dt><dd><a name="index-list_002dbookmarks-420"></a>List all bookmarks (<code>list-bookmarks</code>).

     <br></dd><dt><kbd>M-x bookmark-save</kbd></dt><dd><a name="index-bookmark_002dsave-421"></a>Save all the current bookmark values in the default bookmark file. 
</dd></dl>

   <p><a name="index-C_002dx-r-m-422"></a><a name="index-bookmark_002dset-423"></a><a name="index-C_002dx-r-b-424"></a><a name="index-bookmark_002djump-425"></a>  The prototypical use for bookmarks is to record one current position
in each of several files.  So the command <kbd>C-x r m</kbd>, which sets a
bookmark, uses the visited file name as the default for the bookmark
name.  If you name each bookmark after the file it points to, then you
can conveniently revisit any of those files with <kbd>C-x r b</kbd>, and move
to the position of the bookmark at the same time.

   </p><p><a name="index-C_002dx-r-l-426"></a>  To display a list of all your bookmarks in a separate buffer, type
<kbd>C-x r l</kbd> (<code>list-bookmarks</code>).  If you switch to that buffer,
you can use it to edit your bookmark definitions or annotate the
bookmarks.  Type <kbd>C-h m</kbd> in the bookmark buffer for more
information about its special editing commands.

   </p><p>When you kill Emacs, Emacs offers to save your bookmark values in your
default bookmark file, <samp><span class="file">~/.emacs.bmk</span></samp>, if you have changed any
bookmark values.  You can also save the bookmarks at any time with the
<kbd>M-x bookmark-save</kbd> command.  The bookmark commands load your
default bookmark file automatically.  This saving and loading is how
bookmarks persist from one Emacs session to the next.

   </p><p><a name="index-bookmark_002dsave_002dflag-427"></a>  If you set the variable <code>bookmark-save-flag</code> to 1, then each
command that sets a bookmark will also save your bookmarks; this way,
you don't lose any bookmark values even if Emacs crashes.  (The value,
if a number, says how many bookmark modifications should go by between
saving.)

   </p><p><a name="index-bookmark_002dsearch_002dsize-428"></a>  Bookmark position values are saved with surrounding context, so that
<code>bookmark-jump</code> can find the proper position even if the file is
modified slightly.  The variable <code>bookmark-search-size</code> says how
many characters of context to record on each side of the bookmark's
position.

   </p><p>Here are some additional commands for working with bookmarks:

     </p><dl>
<dt><kbd>M-x bookmark-load &lt;RET&gt; </kbd><var>filename</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-bookmark_002dload-429"></a>Load a file named <var>filename</var> that contains a list of bookmark
values.  You can use this command, as well as <code>bookmark-write</code>, to
work with other files of bookmark values in addition to your default
bookmark file.

     <br></dd><dt><kbd>M-x bookmark-write &lt;RET&gt; </kbd><var>filename</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-bookmark_002dwrite-430"></a>Save all the current bookmark values in the file <var>filename</var>.

     <br></dd><dt><kbd>M-x bookmark-delete &lt;RET&gt; </kbd><var>bookmark</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-bookmark_002ddelete-431"></a>Delete the bookmark named <var>bookmark</var>.

     <br></dd><dt><kbd>M-x bookmark-insert-location &lt;RET&gt; </kbd><var>bookmark</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-bookmark_002dinsert_002dlocation-432"></a>Insert in the buffer the name of the file that bookmark <var>bookmark</var>
points to.

     <br></dd><dt><kbd>M-x bookmark-insert &lt;RET&gt; </kbd><var>bookmark</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-bookmark_002dinsert-433"></a>Insert in the buffer the <em>contents</em> of the file that bookmark
<var>bookmark</var> points to. 
</dd></dl>

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2000, 2001, -->
<!-- 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
<div class="node">
<p></p><hr>
<a name="Display"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Search">Search</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Registers">Registers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">19 Controlling the Display</h2>

<p>Since only part of a large buffer fits in the window, Emacs tries to
show a part that is likely to be interesting.  Display-control
commands allow you to specify which part of the text you want to see,
and how to display it.  Many variables also affect the details of
redisplay.  Unless otherwise stated, the variables described in this
chapter have their effect by customizing redisplay itself; therefore,
their values only make a difference at the time of redisplay.

</p><ul class="menu">
<li><a accesskey="1" href="#Scrolling">Scrolling</a>: 	           Commands to move text up and down in a window. 
</li><li><a accesskey="2" href="#Auto-Scrolling">Auto Scrolling</a>:          Redisplay scrolls text automatically when needed. 
</li><li><a accesskey="3" href="#Horizontal-Scrolling">Horizontal Scrolling</a>:    Moving text left and right in a window. 
</li><li><a accesskey="4" href="#Follow-Mode">Follow Mode</a>:             Follow mode lets two windows scroll as one. 
</li><li><a accesskey="5" href="#Faces">Faces</a>: 	           How to change the display style using faces. 
</li><li><a accesskey="6" href="#Standard-Faces">Standard Faces</a>:          Emacs' predefined faces. 
</li><li><a accesskey="7" href="#Font-Lock">Font Lock</a>:               Minor mode for syntactic highlighting using faces. 
</li><li><a accesskey="8" href="#Highlight-Interactively">Highlight Interactively</a>:  Tell Emacs what text to highlight. 
</li><li><a accesskey="9" href="#Fringes">Fringes</a>:                 Enabling or disabling window fringes. 
</li><li><a href="#Displaying-Boundaries">Displaying Boundaries</a>:   Displaying top and bottom of the buffer. 
</li><li><a href="#Useless-Whitespace">Useless Whitespace</a>:      Showing possibly-spurious trailing whitespace. 
</li><li><a href="#Selective-Display">Selective Display</a>:       Hiding lines with lots of indentation. 
</li><li><a href="#Optional-Mode-Line">Optional Mode Line</a>:      Optional mode line display features. 
</li><li><a href="#Text-Display">Text Display</a>:            How text characters are normally displayed. 
</li><li><a href="#Cursor-Display">Cursor Display</a>:          Features for displaying the cursor. 
</li><li><a href="#Line-Truncation">Line Truncation</a>:         Truncating lines to fit the screen width instead
                             of continuing them to multiple screen lines. 
</li><li><a href="#Display-Custom">Display Custom</a>:          Information on variables for customizing display. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Scrolling"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Auto-Scrolling">Auto Scrolling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.1 Scrolling</h3>

<p>If a buffer contains text that is too large to fit entirely within a
window that is displaying the buffer, Emacs shows a contiguous portion of
the text.  The portion shown always contains point.

   </p><p><a name="index-scrolling-434"></a>  <dfn>Scrolling</dfn> means moving text up or down in the window so that
different parts of the text are visible.  Scrolling &#8220;forward&#8221; or
&#8220;up&#8221; means that text moves up, and new text appears at the bottom. 
Scrolling &#8220;backward&#8221; or &#8220;down&#8221; moves text down, and new text
appears at the top.

   </p><p>Scrolling happens automatically if you move point past the bottom or
top of the window.  You can also scroll explicitly with the commands
in this section.

     </p><dl>
<dt><kbd>C-l</kbd></dt><dd>Clear screen and redisplay, scrolling the selected window to center
point vertically within it (<code>recenter</code>). 
<br></dd><dt><kbd>C-v</kbd></dt><dd>Scroll forward (a windowful or a specified number of lines) (<code>scroll-up</code>). 
<br></dd><dt><kbd>&lt;NEXT&gt;</kbd></dt><dt><kbd>&lt;PAGEDOWN&gt;</kbd></dt><dd>Likewise, scroll forward. 
<br></dd><dt><kbd>M-v</kbd></dt><dd>Scroll backward (<code>scroll-down</code>). 
<br></dd><dt><kbd>&lt;PRIOR&gt;</kbd></dt><dt><kbd>&lt;PAGEUP&gt;</kbd></dt><dd>Likewise, scroll backward. 
<br></dd><dt><var>arg</var><kbd> C-l</kbd></dt><dd>Scroll so point is on line <var>arg</var> (<code>recenter</code>). 
<br></dd><dt><kbd>C-M-l</kbd></dt><dd>Scroll heuristically to bring useful information onto the screen
(<code>reposition-window</code>). 
</dd></dl>

   <p><a name="index-C_002dl-435"></a><a name="index-recenter-436"></a>  The most basic scrolling command is <kbd>C-l</kbd> (<code>recenter</code>) with
no argument.  It scrolls the selected window so that point is halfway
down from the top of the window.  On a text terminal, it also clears
the screen and redisplays all windows.  That is useful in case the
screen is garbled (see <a href="#Screen-Garbled">Screen Garbled</a>).

   </p><p><a name="index-C_002dv-437"></a><a name="index-M_002dv-438"></a><a name="index-NEXT-439"></a><a name="index-PRIOR-440"></a><a name="index-PAGEDOWN-441"></a><a name="index-PAGEUP-442"></a><a name="index-scroll_002dup-443"></a><a name="index-scroll_002ddown-444"></a>  To read the buffer a windowful at a time, use <kbd>C-v</kbd>
(<code>scroll-up</code>) with no argument.  This scrolls forward by nearly
the whole window height.  The effect is to take the two lines at the
bottom of the window and put them at the top, followed by nearly a
whole windowful of lines that were not previously visible.  If point
was in the text that scrolled off the top, it ends up at the new top
of the window.

   </p><p><a name="index-next_002dscreen_002dcontext_002dlines-445"></a>  <kbd>M-v</kbd> (<code>scroll-down</code>) with no argument scrolls backward in
a similar way, also with overlap.  The number of lines of overlap that
the <kbd>C-v</kbd> or <kbd>M-v</kbd> commands leave is controlled by the
variable <code>next-screen-context-lines</code>; by default, it is 2.  The
function keys &lt;NEXT&gt; and &lt;PRIOR&gt;, or &lt;PAGEDOWN&gt; and
&lt;PAGEUP&gt;, are equivalent to <kbd>C-v</kbd> and <kbd>M-v</kbd>.

   </p><p>The commands <kbd>C-v</kbd> and <kbd>M-v</kbd> with a numeric argument scroll
the text in the selected window up or down a few lines.  <kbd>C-v</kbd>
with an argument moves the text and point up, together, that many
lines; it brings the same number of new lines into view at the bottom
of the window.  <kbd>M-v</kbd> with numeric argument scrolls the text
downward, bringing that many new lines into view at the top of the
window.  <kbd>C-v</kbd> with a negative argument is like <kbd>M-v</kbd> and vice
versa.

   </p><p>The names of scroll commands are based on the direction that the
text moves in the window.  Thus, the command to scroll forward is
called <code>scroll-up</code> because it moves the text upward on the
screen.  The keys &lt;PAGEDOWN&gt; and &lt;PAGEUP&gt; derive their names
and customary meanings from a different convention that developed
elsewhere; hence the strange result that &lt;PAGEDOWN&gt; runs
<code>scroll-up</code>.

   </p><p><a name="index-scroll_002dpreserve_002dscreen_002dposition-446"></a>  Some users like the full-screen scroll commands to keep point at the
same screen line.  To enable this behavior, set the variable
<code>scroll-preserve-screen-position</code> to a non-<code>nil</code> value.  In
this mode, when these commands would scroll the text around point off
the screen, or within <code>scroll-margin</code> lines of the edge, they
move point to keep the same vertical position within the window. 
This mode is convenient for browsing through a file by scrolling by
screenfuls; if you come back to the screen where you started, point
goes back to the line where it started.  However, this mode is
inconvenient when you move to the next screen in order to move point
to the text there.

   </p><p>Another way to do scrolling is with <kbd>C-l</kbd> with a numeric argument. 
<kbd>C-l</kbd> does not clear the screen when given an argument; it only scrolls
the selected window.  With a positive argument <var>n</var>, it repositions text
to put point <var>n</var> lines down from the top.  An argument of zero puts
point on the very top line.  Point does not move with respect to the text;
rather, the text and point move rigidly on the screen.  <kbd>C-l</kbd> with a
negative argument puts point that many lines from the bottom of the window. 
For example, <kbd>C-u - 1 C-l</kbd> puts point on the bottom line, and <kbd>C-u
- 5 C-l</kbd> puts it five lines from the bottom.  <kbd>C-u C-l</kbd> scrolls to put
point at the center (vertically) of the selected window.

   </p><p><a name="index-C_002dM_002dl-447"></a><a name="index-reposition_002dwindow-448"></a>  The <kbd>C-M-l</kbd> command (<code>reposition-window</code>) scrolls the current
window heuristically in a way designed to get useful information onto
the screen.  For example, in a Lisp file, this command tries to get the
entire current defun onto the screen if possible.

</p><div class="node">
<p></p><hr>
<a name="Auto-Scrolling"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Horizontal-Scrolling">Horizontal Scrolling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Scrolling">Scrolling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.2 Automatic Scrolling</h3>

<p><a name="index-scroll_002dconservatively-449"></a>  Redisplay scrolls the buffer automatically when point moves out of
the visible portion of the text.  The purpose of automatic scrolling
is to make point visible, but you can customize many aspects of how
this is done.

   </p><p>Normally, automatic scrolling centers point vertically within the
window.  However, if you set <code>scroll-conservatively</code> to a small
number <var>n</var>, then if you move point just a little off the
screen&#8212;less than <var>n</var> lines&#8212;then Emacs scrolls the text just
far enough to bring point back on screen.  By default,
<code>scroll-conservatively</code> is&nbsp;<!-- /@w -->0.

   </p><p><a name="index-aggressive-scrolling-450"></a><a name="index-scroll_002dup_002daggressively-451"></a><a name="index-scroll_002ddown_002daggressively-452"></a>  When the window does scroll by a longer distance, you can control
how aggressively it scrolls, by setting the variables
<code>scroll-up-aggressively</code> and <code>scroll-down-aggressively</code>. 
The value of <code>scroll-up-aggressively</code> should be either
<code>nil</code>, or a fraction <var>f</var> between 0 and 1.  A fraction
specifies where on the screen to put point when scrolling upward. 
More precisely, when a window scrolls up because point is above the
window start, the new start position is chosen to put point <var>f</var>
part of the window height from the top.  The larger <var>f</var>, the more
aggressive the scrolling.

   </p><p><code>nil</code>, which is the default, scrolls to put point at the center. 
So it is equivalent to .5.

   </p><p>Likewise, <code>scroll-down-aggressively</code> is used for scrolling
down.  The value, <var>f</var>, specifies how far point should be placed
from the bottom of the window; thus, as with
<code>scroll-up-aggressively</code>, a larger value is more aggressive.

   </p><p><a name="index-scroll_002dmargin-453"></a>  The variable <code>scroll-margin</code> restricts how close point can come
to the top or bottom of a window.  Its value is a number of screen
lines; if point comes within that many lines of the top or bottom of the
window, Emacs recenters the window.  By default, <code>scroll-margin</code> is
0.

</p><div class="node">
<p></p><hr>
<a name="Horizontal-Scrolling"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Follow-Mode">Follow Mode</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Auto-Scrolling">Auto Scrolling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.3 Horizontal Scrolling</h3>

<p><a name="index-horizontal-scrolling-454"></a>
  <dfn>Horizontal scrolling</dfn> means shifting all the lines sideways
within a window&#8212;so that some of the text near the left margin is not
displayed at all.  When the text in a window is scrolled horizontally,
text lines are truncated rather than continued (see <a href="#Line-Truncation">Line Truncation</a>).  Whenever a window shows truncated lines, Emacs
automatically updates its horizontal scrolling whenever point moves
off the left or right edge of the screen.  You can also use these
commands to do explicit horizontal scrolling.

     </p><dl>
<dt><kbd>C-x &lt;</kbd></dt><dd>Scroll text in current window to the left (<code>scroll-left</code>). 
<br></dd><dt><kbd>C-x &gt;</kbd></dt><dd>Scroll to the right (<code>scroll-right</code>). 
</dd></dl>

   <p><a name="index-C_002dx-_003c-455"></a><a name="index-C_002dx-_003e-456"></a><a name="index-scroll_002dleft-457"></a><a name="index-scroll_002dright-458"></a>  The command <kbd>C-x &lt;</kbd> (<code>scroll-left</code>) scrolls the selected
window to the left by <var>n</var> columns with argument <var>n</var>.  This moves
part of the beginning of each line off the left edge of the window. 
With no argument, it scrolls by almost the full width of the window (two
columns less, to be precise).

   </p><p><kbd>C-x &gt;</kbd> (<code>scroll-right</code>) scrolls similarly to the right.  The
window cannot be scrolled any farther to the right once it is displayed
normally (with each line starting at the window's left margin);
attempting to do so has no effect.  This means that you don't have to
calculate the argument precisely for <kbd>C-x&nbsp;&gt;</kbd><!-- /@w -->; any sufficiently large
argument will restore the normal display.

   </p><p>If you use those commands to scroll a window horizontally, that sets
a lower bound for automatic horizontal scrolling.  Automatic scrolling
will continue to scroll the window, but never farther to the right
than the amount you previously set by <code>scroll-left</code>.

   </p><p><a name="index-hscroll_002dmargin-459"></a>  The value of the variable <code>hscroll-margin</code> controls how close
to the window's edges point is allowed to get before the window will
be automatically scrolled.  It is measured in columns.  If the value
is 5, then moving point within 5 columns of the edge causes horizontal
scrolling away from that edge.

   </p><p><a name="index-hscroll_002dstep-460"></a>  The variable <code>hscroll-step</code> determines how many columns to
scroll the window when point gets too close to the edge.  If it's
zero, horizontal scrolling centers point horizontally within the
window.  If it's a positive integer, it specifies the number of
columns to scroll by.  If it's a floating-point number, it specifies
the fraction of the window's width to scroll by.  The default is zero.

   </p><p><a name="index-auto_002dhscroll_002dmode-461"></a>  To disable automatic horizontal scrolling, set the variable
<code>auto-hscroll-mode</code> to <code>nil</code>.

</p><div class="node">
<p></p><hr>
<a name="Follow-Mode"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Faces">Faces</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Horizontal-Scrolling">Horizontal Scrolling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.4 Follow Mode</h3>

<p><a name="index-Follow-mode-462"></a><a name="index-mode_002c-Follow-463"></a><a name="index-follow_002dmode-464"></a><a name="index-windows_002c-synchronizing-465"></a><a name="index-synchronizing-windows-466"></a>
  <dfn>Follow mode</dfn> is a minor mode that makes two windows, both
showing the same buffer, scroll as a single tall &#8220;virtual window.&#8221;
To use Follow mode, go to a frame with just one window, split it into
two side-by-side windows using <kbd>C-x 3</kbd>, and then type <kbd>M-x
follow-mode</kbd>.  From then on, you can edit the buffer in either of the
two windows, or scroll either one; the other window follows it.

   </p><p>In Follow mode, if you move point outside the portion visible in one
window and into the portion visible in the other window, that selects
the other window&#8212;again, treating the two as if they were parts of
one large window.

   </p><p>To turn off Follow mode, type <kbd>M-x follow-mode</kbd> a second time.

</p><div class="node">
<p></p><hr>
<a name="Faces"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Standard-Faces">Standard Faces</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Follow-Mode">Follow Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.5 Using Multiple Typefaces</h3>

<p><a name="index-faces-467"></a>
  You can specify various styles for displaying text using
<dfn>faces</dfn>.  Each face can specify various <dfn>face attributes</dfn>,
such as the font family, the height, weight and slant of the
characters, the foreground and background color, and underlining or
overlining.  A face does not have to specify all of these attributes;
often it inherits most of them from another face.

   </p><p>On graphical display, all the Emacs face attributes are meaningful. 
On a text-only terminal, only some of them work.  Some text-only
terminals support inverse video, bold, and underline attributes; some
support colors.  Text-only terminals generally do not support changing
the height and width or the font family.

   </p><p>Emacs uses faces automatically for highlighting, through the work of
Font Lock mode.  See <a href="#Font-Lock">Font Lock</a>, for more information about Font
Lock mode and syntactic highlighting.  You can print out the buffer
with the highlighting that appears on your screen using the command
<code>ps-print-buffer-with-faces</code>.  See <a href="#PostScript">PostScript</a>.

   </p><p>You control the appearance of a part of the text in the buffer by
specifying the face or faces to use for it.  The style of display used
for any given character is determined by combining the attributes of
all the applicable faces specified for that character.  Any attribute
that isn't specified by these faces is taken from the <code>default</code> face,
whose attributes reflect the default settings of the frame itself.

   </p><p>Enriched mode, the mode for editing formatted text, includes several
commands and menus for specifying faces for text in the buffer. 
See <a href="#Format-Faces">Format Faces</a>, for how to specify the font for text in the
buffer.  See <a href="#Format-Colors">Format Colors</a>, for how to specify the foreground and
background color.

   </p><p><a name="index-face-colors_002c-setting-468"></a><a name="index-set_002dface_002dforeground-469"></a><a name="index-set_002dface_002dbackground-470"></a>  To alter the appearance of a face, use the customization buffer. 
See <a href="#Face-Customization">Face Customization</a>.  You can also use X resources to specify
attributes of particular faces (see <a href="#Resources">Resources</a>).  Alternatively,
you can change the foreground and background colors of a specific face
with <kbd>M-x set-face-foreground</kbd> and <kbd>M-x set-face-background</kbd>. 
These commands prompt in the minibuffer for a face name and a color
name, with completion, and then set that face to use the specified
color.  Changing the colors of the <code>default</code> face also changes
the foreground and background colors on all frames, both existing and
those to be created in the future.  (You can also set foreground and
background colors for the current frame only; see <a href="#Frame-Parameters">Frame Parameters</a>.)

   </p><p>If you want to alter the appearance of all Emacs frames, you need to
customize the frame parameters in the variable
<code>default-frame-alist</code>; see <a href="#Creating-Frames">default-frame-alist</a>.

   </p><p>Emacs can correctly display variable-width fonts, but Emacs commands
that calculate width and indentation do not know how to calculate
variable widths.  This can sometimes lead to incorrect results when
you use variable-width fonts.  In particular, indentation commands can
give inconsistent results, so we recommend you avoid variable-width
fonts for editing program source code.  Filling will sometimes make
lines too long or too short.  We plan to address these issues in
future Emacs versions.

</p><div class="node">
<p></p><hr>
<a name="Standard-Faces"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Font-Lock">Font Lock</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Faces">Faces</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.6 Standard Faces</h3>

<p><a name="index-list_002dfaces_002ddisplay-471"></a>  To see what faces are currently defined, and what they look like,
type <kbd>M-x list-faces-display</kbd>.  It's possible for a given face to
look different in different frames; this command shows the appearance
in the frame in which you type it.  With a prefix argument, this
prompts for a regular expression, and displays only faces with names
matching that regular expression.

   </p><p>Here are the standard faces for specifying text appearance.  You can
apply them to specific text when you want the effects they produce.

     </p><dl>
<dt><code>default</code></dt><dd>This face is used for ordinary text that doesn't specify any face. 
<br></dd><dt><code>bold</code></dt><dd>This face uses a bold variant of the default font, if it has one. 
It's up to you to choose a default font that has a bold variant,
if you want to use one. 
<br></dd><dt><code>italic</code></dt><dd>This face uses an italic variant of the default font, if it has one. 
<br></dd><dt><code>bold-italic</code></dt><dd>This face uses a bold italic variant of the default font, if it has one. 
<br></dd><dt><code>underline</code></dt><dd>This face underlines text. 
<br></dd><dt><code>fixed-pitch</code></dt><dd>This face forces use of a particular fixed-width font. 
<br></dd><dt><code>variable-pitch</code></dt><dd>This face forces use of a particular variable-width font.  It's
reasonable to customize this face to use a different variable-width font,
if you like, but you should not make it a fixed-width font. 
<br></dd><dt><code>shadow</code></dt><dd>This face is used for making the text less noticeable than the surrounding
ordinary text.  Usually this can be achieved by using shades of gray in
contrast with either black or white default foreground color. 
</dd></dl>

   <p>Here's an incomplete list of faces used to highlight parts of the
text temporarily for specific purposes.  (Many other modes define
their own faces for this purpose.)

     </p><dl>
<dt><code>highlight</code></dt><dd>This face is used for highlighting portions of text, in various modes. 
For example, mouse-sensitive text is highlighted using this face. 
<br></dd><dt><code>isearch</code></dt><dd>This face is used for highlighting the current Isearch match. 
<br></dd><dt><code>query-replace</code></dt><dd>This face is used for highlighting the current Query Replace match. 
<br></dd><dt><code>lazy-highlight</code></dt><dd>This face is used for lazy highlighting of Isearch and Query Replace
matches other than the current one. 
<br></dd><dt><code>region</code></dt><dd>This face is used for displaying a selected region (when Transient Mark
mode is enabled&#8212;see below). 
<br></dd><dt><code>secondary-selection</code></dt><dd>This face is used for displaying a secondary X selection (see <a href="#Secondary-Selection">Secondary Selection</a>). 
<br></dd><dt><code>trailing-whitespace</code></dt><dd>The face for highlighting excess spaces and tabs at the end of a line
when <code>show-trailing-whitespace</code> is non-<code>nil</code>; see
<a href="#Useless-Whitespace">Useless Whitespace</a>. 
<br></dd><dt><code>nobreak-space</code></dt><dd>The face for displaying the character &#8220;nobreak space.&#8221;
<br></dd><dt><code>escape-glyph</code></dt><dd>The face for highlighting the `<samp><span class="samp">\</span></samp>' or `<samp><span class="samp">^</span></samp>' that indicates
a control character.  It's also used when `<samp><span class="samp">\</span></samp>' indicates a
nobreak space or nobreak (soft) hyphen. 
</dd></dl>

   <p><a name="index-g_t_0040code_007bregion_007d-face-472"></a>  When Transient Mark mode is enabled, the text of the region is
highlighted when the mark is active.  This uses the face named
<code>region</code>; you can control the style of highlighting by changing the
style of this face (see <a href="#Face-Customization">Face Customization</a>).  See <a href="#Transient-Mark">Transient Mark</a>,
for more information about Transient Mark mode and activation and
deactivation of the mark.

   </p><p>These faces control the appearance of parts of the Emacs frame. 
They exist as faces to provide a consistent way to customize the
appearance of these parts of the frame.

     </p><dl>
<dt><code>mode-line</code></dt><dt><code>modeline</code></dt><dd>This face is used for the mode line of the currently selected window,
and for menu bars when toolkit menus are not used.  By default, it's
drawn with shadows for a &#8220;raised&#8221; effect on graphical displays, and
drawn as the inverse of the default face on non-windowed terminals. 
<code>modeline</code> is an alias for the <code>mode-line</code> face, for
compatibility with old Emacs versions. 
<br></dd><dt><code>mode-line-inactive</code></dt><dd>Like <code>mode-line</code>, but used for mode lines of the windows other
than the selected one (if <code>mode-line-in-non-selected-windows</code> is
non-<code>nil</code>).  This face inherits from <code>mode-line</code>, so changes
in that face affect mode lines in all windows. 
<br></dd><dt><code>mode-line-highlight</code></dt><dd>Like <code>highlight</code>, but used for portions of text on mode lines. 
<br></dd><dt><code>mode-line-buffer-id</code></dt><dd>This face is used for buffer identification parts in the mode line. 
<br></dd><dt><code>header-line</code></dt><dd>Similar to <code>mode-line</code> for a window's header line, which appears
at the top of a window just as the mode line appears at the bottom. 
Most windows do not have a header line&#8212;only some special modes, such
Info mode, create one. 
<br></dd><dt><code>vertical-border</code></dt><dd>This face is used for the vertical divider between windows. 
By default this face inherits from the <code>mode-line-inactive</code> face
on character terminals.  On graphical displays the foreground color of
this face is used for the vertical line between windows without
scrollbars. 
<br></dd><dt><code>minibuffer-prompt</code></dt><dd><a name="index-g_t_0040code_007bminibuffer_002dprompt_007d-face-473"></a><a name="index-minibuffer_002dprompt_002dproperties-474"></a>This face is used for the prompt strings displayed in the minibuffer. 
By default, Emacs automatically adds this face to the value of
<code>minibuffer-prompt-properties</code>, which is a list of text
properties used to display the prompt text.  (This variable takes
effect when you enter the minibuffer.) 
<br></dd><dt><code>fringe</code></dt><dd><a name="index-g_t_0040code_007bfringe_007d-face-475"></a>The face for the fringes to the left and right of windows on graphic
displays.  (The fringes are the narrow portions of the Emacs frame
between the text area and the window's right and left borders.) 
See <a href="#Fringes">Fringes</a>. 
<br></dd><dt><code>scroll-bar</code></dt><dd>This face determines the visual appearance of the scroll bar. 
See <a href="#Scroll-Bars">Scroll Bars</a>. 
<br></dd><dt><code>border</code></dt><dd>This face determines the color of the frame border. 
<br></dd><dt><code>cursor</code></dt><dd>This face determines the color of the cursor. 
<br></dd><dt><code>mouse</code></dt><dd>This face determines the color of the mouse pointer. 
<br></dd><dt><code>tool-bar</code></dt><dd>This face determines the color of tool bar icons.  See <a href="#Tool-Bars">Tool Bars</a>. 
<br></dd><dt><code>tooltip</code></dt><dd>This face is used for tooltips.  See <a href="#Tooltips">Tooltips</a>. 
<br></dd><dt><code>menu</code></dt><dd><a name="index-menu-bar-appearance-476"></a><a name="index-g_t_0040code_007bmenu_007d-face_002c-no-effect-if-customized-477"></a><a name="index-customization-of-_0040code_007bmenu_007d-face-478"></a>This face determines the colors and font of Emacs's menus.  See <a href="#Menu-Bars">Menu Bars</a>.  Setting the font of LessTif/Motif menus is currently not
supported; attempts to set the font are ignored in this case. 
Likewise, attempts to customize this face in Emacs built with GTK and
in the MS-Windows/Mac ports are ignored by the respective GUI toolkits;
you need to use system-wide styles and options to change the
appearance of the menus. 
</dd></dl>

<div class="node">
<p></p><hr>
<a name="Font-Lock"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Highlight-Interactively">Highlight Interactively</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Standard-Faces">Standard Faces</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.7 Font Lock mode</h3>

<p><a name="index-Font-Lock-mode-479"></a><a name="index-mode_002c-Font-Lock-480"></a><a name="index-syntax-highlighting-and-coloring-481"></a>
  Font Lock mode is a minor mode, always local to a particular buffer,
which highlights (or &#8220;fontifies&#8221;) the buffer contents according to
the syntax of the text you are editing.  It can recognize comments and
strings in most languages; in several languages, it can also recognize
and properly highlight various other important constructs&#8212;for
example, names of functions being defined or reserved keywords. 
Some special modes, such as Occur mode and Info mode, have completely
specialized ways of assigning fonts for Font Lock mode.

   </p><p><a name="index-font_002dlock_002dmode-482"></a>  Font Lock mode is turned on by default in all modes which support it. 
You can toggle font-lock for each buffer with the command <kbd>M-x
font-lock-mode</kbd>.  Using a positive argument unconditionally turns Font
Lock mode on, and a negative or zero argument turns it off.

   </p><p><a name="index-global_002dfont_002dlock_002dmode-483"></a><a name="index-global_002dfont_002dlock_002dmode-484"></a>  If you do not wish Font Lock mode to be turned on by default,
customize the variable <code>global-font-lock-mode</code> using the Customize
interface (see <a href="#Easy-Customization">Easy Customization</a>), or use the function
<code>global-font-lock-mode</code> in your <samp><span class="file">.emacs</span></samp> file, like this:

</p><pre class="example">     (global-font-lock-mode 0)
</pre>
   <p class="noindent">This variable, like all the variables that control Font Lock mode,
take effect whenever fontification is done; that is, potentially at
any time.

   </p><p><a name="index-turn_002don_002dfont_002dlock-485"></a>  If you have disabled Global Font Lock mode, you can still enable Font
Lock for specific major modes by adding the function
<code>turn-on-font-lock</code> to the mode hooks (see <a href="#Hooks">Hooks</a>).  For
example, to enable Font Lock mode for editing C files, you can do this:

</p><pre class="example">     (add-hook 'c-mode-hook 'turn-on-font-lock)
</pre>
   <p>Font Lock mode uses several specifically named faces to do its job,
including <code>font-lock-string-face</code>, <code>font-lock-comment-face</code>,
and others.  The easiest way to find them all is to use <kbd>M-x
customize-group &lt;RET&gt; font-lock-faces &lt;RET&gt;</kbd>.  You can then
use that customization buffer to customize the appearance of these
faces.  See <a href="#Face-Customization">Face Customization</a>.

   </p><p>You can also customize these faces using <kbd>M-x
set-face-foreground</kbd> or <kbd>M-x set-face-background</kbd>.  See <a href="#Faces">Faces</a>.

   </p><p><a name="index-font_002dlock_002dmaximum_002ddecoration-486"></a>  The variable <code>font-lock-maximum-decoration</code> specifies the
preferred level of fontification, for modes that provide multiple
levels.  Level 1 is the least amount of fontification; some modes
support levels as high as 3.  The normal default is &#8220;as high as
possible.&#8221;  You can specify an integer, which applies to all modes, or
you can specify different numbers for particular major modes; for
example, to use level 1 for C/C++ modes, and the default level
otherwise, use this:

</p><pre class="example">     (setq font-lock-maximum-decoration
           '((c-mode . 1) (c++-mode . 1)))
</pre>
   <p><a name="index-font_002dlock_002dmaximum_002dsize-487"></a>  Fontification can be too slow for large buffers, so you can suppress
it for buffers above a certain size.  The variable
<code>font-lock-maximum-size</code> specifies a buffer size, beyond which
buffer fontification is suppressed.

<!-- @w is used below to prevent a bad page-break. -->
</p><p><a name="index-font_002dlock_002dbeginning_002dof_002dsyntax_002dfunction-488"></a><a name="index-incorrect-fontification-489"></a><a name="index-parenthesis-in-column-zero-and-fontification-490"></a><a name="index-brace-in-column-zero-and-fontification-491"></a>  Comment and string fontification (or &#8220;syntactic&#8221; fontification)
relies on analysis of the syntactic structure of the buffer text.  For
the sake of speed, some modes, including Lisp mode, rely on a special
convention: an open-parenthesis or open-brace in the leftmost column
always defines the beginning<!-- /@w --> of a defun, and is thus always
outside any string or comment.  (See <a href="#Left-Margin-Paren">Left Margin Paren</a>.)  If you
don't follow this convention, Font Lock mode can misfontify the text
that follows an open-parenthesis or open-brace in the leftmost column
that is inside a string or comment.

   </p><p><a name="index-slow-display-during-scrolling-492"></a>  The variable <code>font-lock-beginning-of-syntax-function</code> (always
buffer-local) specifies how Font Lock mode can find a position
guaranteed to be outside any comment or string.  In modes which use the
leftmost column parenthesis convention, the default value of the variable
is <code>beginning-of-defun</code>&#8212;that tells Font Lock mode to use the
convention.  If you set this variable to <code>nil</code>, Font Lock no longer
relies on the convention.  This avoids incorrect results, but the price
is that, in some cases, fontification for a changed text must rescan
buffer text from the beginning of the buffer.  This can considerably
slow down redisplay while scrolling, particularly if you are close to
the end of a large buffer.

   </p><p><a name="index-font_002dlock_002dadd_002dkeywords-493"></a>  Font Lock highlighting patterns already exist for many modes, but you
may want to fontify additional patterns.  You can use the function
<code>font-lock-add-keywords</code>, to add your own highlighting patterns for
a particular mode.  For example, to highlight `<samp><span class="samp">FIXME:</span></samp>' words in C
comments, use this:

</p><pre class="example">     (font-lock-add-keywords
      'c-mode
      '(("\\&lt;\\(FIXME\\):" 1 font-lock-warning-face t)))
</pre>
   <p><a name="index-font_002dlock_002dremove_002dkeywords-494"></a>  To remove keywords from the font-lock highlighting patterns, use the
function <code>font-lock-remove-keywords</code>.  See <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Search_002dbased-Fontification">Search-based Fontification</a>, for
documentation of the format of this list.

   </p><p><a name="index-just_002din_002dtime-_0028JIT_0029-font_002dlock-495"></a><a name="index-background-syntax-highlighting-496"></a>  Fontifying large buffers can take a long time.  To avoid large
delays when a file is visited, Emacs fontifies only the visible
portion of a buffer.  As you scroll through the buffer, each portion
that becomes visible is fontified as soon as it is displayed.  The
parts of the buffer that are not displayed are fontified
&#8220;stealthily,&#8221; in the background, i.e. when Emacs is idle.  You can
control this background fontification, also called <dfn>Just-In-Time</dfn>
(or <dfn>JIT</dfn>) Lock, by customizing variables in the customization
group `<samp><span class="samp">jit-lock</span></samp>'.  See <a href="#Specific-Customization">Specific Customization</a>.

</p><div class="node">
<p></p><hr>
<a name="Highlight-Interactively"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Fringes">Fringes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Font-Lock">Font Lock</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.8 Interactive Highlighting</h3>

<p><a name="index-highlighting-by-matching-497"></a><a name="index-interactive-highlighting-498"></a><a name="index-Highlight-Changes-mode-499"></a>
<a name="index-highlight_002dchanges_002dmode-500"></a>  Use <kbd>M-x highlight-changes-mode</kbd> to enable (or disable)
Highlight Changes mode, a minor mode that uses faces (colors,
typically) to indicate which parts of the buffer were changed most
recently.

   </p><p><a name="index-Hi-Lock-mode-501"></a><a name="index-hi_002dlock_002dmode-502"></a>  Hi Lock mode highlights text that matches regular expressions you
specify.  For example, you might wish to see all the references to a
certain variable in a program source file, highlight certain parts in
a voluminous output of some program, or make certain names stand out
in an article.  Use the <kbd>M-x hi-lock-mode</kbd> command to enable (or
disable) Hi Lock mode.  To enable Hi Lock mode for all buffers, use
<kbd>M-x global-hi-lock-mode</kbd> or place <code>(global-hi-lock-mode 1)</code>
in your <samp><span class="file">.emacs</span></samp> file.

   </p><p>Hi Lock mode works like Font Lock mode (see <a href="#Font-Lock">Font Lock</a>), except
that you specify explicitly the regular expressions to highlight.  You
control them with these commands:

     </p><dl>
<dt><kbd>C-x w h </kbd><var>regexp</var><kbd> &lt;RET&gt; </kbd><var>face</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-C_002dx-w-h-503"></a><a name="index-highlight_002dregexp-504"></a>Highlight text that matches <var>regexp</var> using face <var>face</var>
(<code>highlight-regexp</code>).  The highlighting will remain as long as
the buffer is loaded.  For example, to highlight all occurrences of
the word &#8220;whim&#8221; using the default face (a yellow background)
<kbd>C-x w h whim &lt;RET&gt; &lt;RET&gt;</kbd>.  Any face can be used for
highlighting, Hi Lock provides several of its own and these are
pre-loaded into a history list.  While being prompted for a face use
<kbd>M-p</kbd> and <kbd>M-n</kbd> to cycle through them.

     <p>You can use this command multiple times, specifying various regular
expressions to highlight in different ways.

     <br></p></dd><dt><kbd>C-x w r </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-C_002dx-w-r-505"></a><a name="index-unhighlight_002dregexp-506"></a>Unhighlight <var>regexp</var> (<code>unhighlight-regexp</code>).

     <p>If you invoke this from the menu, you select the expression to
unhighlight from a list.  If you invoke this from the keyboard, you
use the minibuffer.  It will show the most recently added regular
expression; use <kbd>M-p</kbd> to show the next older expression and
<kbd>M-n</kbd> to select the next newer expression.  (You can also type the
expression by hand, with completion.)  When the expression you want to
unhighlight appears in the minibuffer, press <kbd>&lt;RET&gt;</kbd> to exit
the minibuffer and unhighlight it.

     <br></p></dd><dt><kbd>C-x w l </kbd><var>regexp</var><kbd> &lt;RET&gt; </kbd><var>face</var><kbd> &lt;RET&gt;</kbd></dt><dd><a name="index-C_002dx-w-l-507"></a><a name="index-highlight_002dlines_002dmatching_002dregexp-508"></a><a name="index-lines_002c-highlighting-509"></a><a name="index-highlighting-lines-of-text-510"></a>Highlight entire lines containing a match for <var>regexp</var>, using face
<var>face</var> (<code>highlight-lines-matching-regexp</code>).

     <br></dd><dt><kbd>C-x w b</kbd></dt><dd><a name="index-C_002dx-w-b-511"></a><a name="index-hi_002dlock_002dwrite_002dinteractive_002dpatterns-512"></a>Insert all the current highlighting regexp/face pairs into the buffer
at point, with comment delimiters to prevent them from changing your
program.  (This key binding runs the
<code>hi-lock-write-interactive-patterns</code> command.)

     <p>These patterns are extracted from the comments, if appropriate, if you
invoke <kbd>M-x hi-lock-find-patterns</kbd>, or if you visit the file while
Hi Lock mode is enabled (since that runs <code>hi-lock-find-patterns</code>).

     <br></p></dd><dt><kbd>C-x w i</kbd></dt><dd><a name="index-C_002dx-w-i-513"></a><a name="index-hi_002dlock_002dfind_002dpatterns-514"></a>Extract regexp/face pairs from comments in the current buffer
(<code>hi-lock-find-patterns</code>).  Thus, you can enter patterns
interactively with <code>highlight-regexp</code>, store them into the file
with <code>hi-lock-write-interactive-patterns</code>, edit them (perhaps
including different faces for different parenthesized parts of the
match), and finally use this command (<code>hi-lock-find-patterns</code>) to
have Hi Lock highlight the edited patterns.

     <p><a name="index-hi_002dlock_002dfile_002dpatterns_002dpolicy-515"></a>The variable <code>hi-lock-file-patterns-policy</code> controls whether Hi
Lock mode should automatically extract and highlight patterns found in
a file when it is visited.  Its value can be <code>nil</code> (never
highlight), <code>t</code> (highlight the patterns), <code>ask</code> (query the
user), or a function.  If it is a function,
<code>hi-lock-find-patterns</code> calls it with the patterns as argument;
if the function returns non-<code>nil</code>, the patterns are used.  The
default is <code>nil</code>.  Note that patterns are always highlighted if
you call <code>hi-lock-find-patterns</code> directly, regardless of the
value of this variable.

     </p><p><a name="index-hi_002dlock_002dexclude_002dmodes-516"></a>Also, <code>hi-lock-find-patterns</code> does nothing if the current major
mode's symbol is a member of the list <code>hi-lock-exclude-modes</code>. 
</p></dd></dl>

<div class="node">
<p></p><hr>
<a name="Fringes"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Displaying-Boundaries">Displaying Boundaries</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Highlight-Interactively">Highlight Interactively</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.9 Window Fringes</h3>

<p><a name="index-fringes-517"></a>
  On a graphical display, each Emacs window normally has narrow
<dfn>fringes</dfn> on the left and right edges.  The fringes display
indications about the text in the window.

   </p><p>The most common use of the fringes is to indicate a continuation
line, when one line of text is split into multiple lines on the
screen.  The left fringe shows a curving arrow for each screen line
except the first, indicating that &#8220;this is not the real beginning.&#8221;
The right fringe shows a curving arrow for each screen line except the
last, indicating that &#8220;this is not the real end.&#8221;

   </p><p>The fringes indicate line truncation with short horizontal arrows
meaning &#8220;there's more text on this line which is scrolled
horizontally out of view;&#8221; clicking the mouse on one of the arrows
scrolls the display horizontally in the direction of the arrow.   The
fringes can also indicate other things, such as empty lines, or where a
program you are debugging is executing (see <a href="#Debuggers">Debuggers</a>).

   </p><p><a name="index-set_002dfringe_002dstyle-518"></a><a name="index-fringe_002dmode-519"></a>  You can enable and disable the fringes for all frames using
<kbd>M-x fringe-mode</kbd>.  To enable and disable the fringes
for the selected frame, use <kbd>M-x set-fringe-style</kbd>.

</p><div class="node">
<p></p><hr>
<a name="Displaying-Boundaries"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Useless-Whitespace">Useless Whitespace</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Fringes">Fringes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.10 Displaying Boundaries</h3>

<p><a name="index-indicate_002dbuffer_002dboundaries-520"></a>  On a graphical display, Emacs can indicate the buffer boundaries in
the fringes.  It indicates the first line and the last line with
angle images in the fringes.  This can be combined with up and down
arrow images which say whether it is possible to scroll the window up
and down.

   </p><p>The buffer-local variable <code>indicate-buffer-boundaries</code> controls
how the buffer boundaries and window scrolling is indicated in the
fringes.  If the value is <code>left</code> or <code>right</code>, both angle and
arrow bitmaps are displayed in the left or right fringe, respectively.

   </p><p>If value is an alist, each element <code>(</code><var>indicator</var><code> . 
</code><var>position</var><code>)</code> specifies the position of one of the indicators. 
The <var>indicator</var> must be one of <code>top</code>, <code>bottom</code>,
<code>up</code>, <code>down</code>, or <code>t</code> which specifies the default
position for the indicators not present in the alist. 
The <var>position</var> is one of <code>left</code>, <code>right</code>, or <code>nil</code>
which specifies not to show this indicator.

   </p><p>For example, <code>((top . left) (t . right))</code> places the top angle
bitmap in left fringe, the bottom angle bitmap in right fringe, and
both arrow bitmaps in right fringe.  To show just the angle bitmaps in
the left fringe, but no arrow bitmaps, use <code>((top .  left)
(bottom . left))</code>.

   </p><p><a name="index-default_002dindicate_002dbuffer_002dboundaries-521"></a>  The value of the variable <code>default-indicate-buffer-boundaries</code>
is the default value for <code>indicate-buffer-boundaries</code> in buffers
that do not override it.

</p><div class="node">
<p></p><hr>
<a name="Useless-Whitespace"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Selective-Display">Selective Display</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Displaying-Boundaries">Displaying Boundaries</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.11 Useless Whitespace</h3>

<p><a name="index-trailing-whitespace-522"></a><a name="index-whitespace_002c-trailing-523"></a><a name="index-show_002dtrailing_002dwhitespace-524"></a>  It is easy to leave unnecessary spaces at the end of a line, or
empty lines at the end of a file, without realizing it.  In most
cases, this <dfn>trailing whitespace</dfn> has no effect, but there are
special circumstances where it matters.  It can also be a nuisance
that the line has &#8220;changed,&#8221; when the change is just spaces added or
removed at the end.

   </p><p>You can make trailing whitespace at the end of a line visible on the
screen by setting the buffer-local variable
<code>show-trailing-whitespace</code> to <code>t</code>.  Then Emacs displays
trailing whitespace in the face <code>trailing-whitespace</code>.

   </p><p>This feature does not apply when point is at the end of the line
containing the whitespace.  Strictly speaking, that is &#8220;trailing
whitespace&#8221; nonetheless, but displaying it specially in that case
looks ugly while you are typing in new text.  In this special case,
the location of point is enough to show you that the spaces are
present.

   </p><p><a name="index-delete_002dtrailing_002dwhitespace-525"></a>  To delete all trailing whitespace within the current buffer's
accessible portion (see <a href="#Narrowing">Narrowing</a>), type <kbd>M-x
delete-trailing-whitespace &lt;RET&gt;</kbd>.  (This command does not remove
the form-feed characters.)

   </p><p><a name="index-indicate_002dempty_002dlines-526"></a><a name="index-default_002dindicate_002dempty_002dlines-527"></a><a name="index-unused-lines-528"></a><a name="index-fringes_002c-and-unused-line-indication-529"></a>  Emacs can indicate unused lines at the end of the window with a
small image in the left fringe (see <a href="#Fringes">Fringes</a>).  The image appears
for window lines that do not correspond to any buffer text.  Blank
lines at the end of the buffer then stand out because they do not have
this image in the fringe.

   </p><p>To enable this feature, set the buffer-local variable
<code>indicate-empty-lines</code> to a non-<code>nil</code> value.  The default
value of this variable is controlled by the variable
<code>default-indicate-empty-lines</code>; by setting that variable, you
can enable or disable this feature for all new buffers.  (This feature
currently doesn't work on text-only terminals.)

</p><div class="node">
<p></p><hr>
<a name="Selective-Display"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Optional-Mode-Line">Optional Mode Line</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Useless-Whitespace">Useless Whitespace</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.12 Selective Display</h3>

<p><a name="index-selective-display-530"></a><a name="index-set_002dselective_002ddisplay-531"></a><a name="index-C_002dx-_0024-532"></a>
  Emacs has the ability to hide lines indented more than a certain number
of columns (you specify how many columns).  You can use this to get an
overview of a part of a program.

   </p><p>To hide lines in the current buffer, type <kbd>C-x $</kbd>
(<code>set-selective-display</code>) with a numeric argument <var>n</var>.  Then
lines with at least <var>n</var> columns of indentation disappear from the
screen.  The only indication of their presence is that three dots
(`<samp><span class="samp">...</span></samp>') appear at the end of each visible line that is
followed by one or more hidden ones.

   </p><p>The commands <kbd>C-n</kbd> and <kbd>C-p</kbd> move across the hidden lines as
if they were not there.

   </p><p>The hidden lines are still present in the buffer, and most editing
commands see them as usual, so you may find point in the middle of the
hidden text.  When this happens, the cursor appears at the end of the
previous line, after the three dots.  If point is at the end of the
visible line, before the newline that ends it, the cursor appears before
the three dots.

   </p><p>To make all lines visible again, type <kbd>C-x $</kbd> with no argument.

   </p><p><a name="index-selective_002ddisplay_002dellipses-533"></a>  If you set the variable <code>selective-display-ellipses</code> to
<code>nil</code>, the three dots do not appear at the end of a line that
precedes hidden lines.  Then there is no visible indication of the
hidden lines.  This variable becomes local automatically when set.

   </p><p>See also <a href="#Outline-Mode">Outline Mode</a> for another way to hide part of
the text in a buffer.

</p><div class="node">
<p></p><hr>
<a name="Optional-Mode-Line"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Text-Display">Text Display</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Selective-Display">Selective Display</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.13 Optional Mode Line Features</h3>

<p><a name="index-buffer-size-display-534"></a><a name="index-display-of-buffer-size-535"></a><a name="index-size_002dindication_002dmode-536"></a>  The buffer percentage <var>pos</var> indicates the percentage of the
buffer above the top of the window.  You can additionally display the
size of the buffer by typing <kbd>M-x size-indication-mode</kbd> to turn on
Size Indication mode.  The size will be displayed immediately
following the buffer percentage like this:

</p><pre class="example">     <var>POS</var> of <var>SIZE</var>
</pre>
   <p class="noindent">Here <var>SIZE</var> is the human readable representation of the number of
characters in the buffer, which means that `<samp><span class="samp">k</span></samp>' for 10^3, `<samp><span class="samp">M</span></samp>'
for 10^6, `<samp><span class="samp">G</span></samp>' for 10^9, etc., are used to abbreviate.

   </p><p><a name="index-narrowing_002c-and-buffer-size-display-537"></a>  If you have narrowed the buffer (see <a href="#Narrowing">Narrowing</a>), the size of the
accessible part of the buffer is shown.

   </p><p><a name="index-line-number-display-538"></a><a name="index-display-of-line-number-539"></a><a name="index-line_002dnumber_002dmode-540"></a>  The current line number of point appears in the mode line when Line
Number mode is enabled.  Use the command <kbd>M-x line-number-mode</kbd> to
turn this mode on and off; normally it is on.  The line number appears
after the buffer percentage <var>pos</var>, with the letter `<samp><span class="samp">L</span></samp>' to
indicate what it is.  See <a href="#Minor-Modes">Minor Modes</a>, for more information about
minor modes and about how to use this command.

   </p><p><a name="index-narrowing_002c-and-line-number-display-541"></a>  If you have narrowed the buffer (see <a href="#Narrowing">Narrowing</a>), the displayed
line number is relative to the accessible portion of the buffer. 
Thus, it isn't suitable as an argument to <code>goto-line</code>.  (Use
<code>what-line</code> command to see the line number relative to the whole
file.)

   </p><p><a name="index-line_002dnumber_002ddisplay_002dlimit-542"></a>  If the buffer is very large (larger than the value of
<code>line-number-display-limit</code>), then the line number doesn't appear. 
Emacs doesn't compute the line number when the buffer is large, because
that would be too slow.  Set it to <code>nil</code> to remove the limit.

   </p><p><a name="index-line_002dnumber_002ddisplay_002dlimit_002dwidth-543"></a>  Line-number computation can also be slow if the lines in the buffer
are too long.  For this reason, Emacs normally doesn't display line
numbers if the average width, in characters, of lines near point is
larger than the value of the variable
<code>line-number-display-limit-width</code>.  The default value is 200
characters.

   </p><p><a name="index-Column-Number-mode-544"></a><a name="index-mode_002c-Column-Number-545"></a><a name="index-column_002dnumber_002dmode-546"></a>  You can also display the current column number by turning on Column
Number mode.  It displays the current column number preceded by the
letter `<samp><span class="samp">C</span></samp>'.  Type <kbd>M-x column-number-mode</kbd> to toggle this mode.

   </p><p><a name="index-display_002dtime-547"></a><a name="index-time-_0028on-mode-line_0029-548"></a>  Emacs can optionally display the time and system load in all mode
lines.  To enable this feature, type <kbd>M-x display-time</kbd> or customize
the option <code>display-time-mode</code>.  The information added to the mode
line usually appears after the buffer name, before the mode names and
their parentheses.  It looks like this:

</p><pre class="example">     <var>hh</var>:<var>mm</var>pm <var>l.ll</var>
</pre>
   <p class="noindent"><a name="index-display_002dtime_002d24hr_002dformat-549"></a>Here <var>hh</var> and <var>mm</var> are the hour and minute, followed always by
`<samp><span class="samp">am</span></samp>' or `<samp><span class="samp">pm</span></samp>'.  <var>l.ll</var> is the average number of running
processes in the whole system recently.  (Some fields may be missing if
your operating system cannot support them.)  If you prefer time display
in 24-hour format, set the variable <code>display-time-24hr-format</code>
to <code>t</code>.

   </p><p><a name="index-mail-_0028on-mode-line_0029-550"></a><a name="index-display_002dtime_002duse_002dmail_002dicon-551"></a><a name="index-display_002dtime_002dmail_002dface-552"></a><a name="index-display_002dtime_002dmail_002dfile-553"></a><a name="index-display_002dtime_002dmail_002ddirectory-554"></a>  The word `<samp><span class="samp">Mail</span></samp>' appears after the load level if there is mail
for you that you have not read yet.  On a graphical display you can use
an icon instead of `<samp><span class="samp">Mail</span></samp>' by customizing
<code>display-time-use-mail-icon</code>; this may save some space on the mode
line.  You can customize <code>display-time-mail-face</code> to make the mail
indicator prominent.  Use <code>display-time-mail-file</code> to specify
the mail file to check, or set <code>display-time-mail-directory</code>
to specify the directory to check for incoming mail (any nonempty regular
file in the directory is considered as &#8220;newly arrived mail&#8221;).

   </p><p><a name="index-mode-line_002c-3D-appearance-555"></a><a name="index-attributes-of-mode-line_002c-changing-556"></a><a name="index-non_002dintegral-number-of-lines-in-a-window-557"></a>  By default, the mode line is drawn on graphics displays with
3D-style highlighting, like that of a button when it is not being
pressed.  If you don't like this effect, you can disable the 3D
highlighting of the mode line, by customizing the attributes of the
<code>mode-line</code> face.  See <a href="#Face-Customization">Face Customization</a>.

   </p><p><a name="index-non_002dselected-windows_002c-mode-line-appearance-558"></a>  By default, the mode line of nonselected windows is displayed in a
different face, called <code>mode-line-inactive</code>.  Only the selected
window is displayed in the <code>mode-line</code> face.  This helps show
which window is selected.  When the minibuffer is selected, since
it has no mode line, the window from which you activated the minibuffer
has its mode line displayed using <code>mode-line</code>; as a result,
ordinary entry to the minibuffer does not change any mode lines.

   </p><p><a name="index-mode_002dline_002din_002dnon_002dselected_002dwindows-559"></a>  You can disable use of <code>mode-line-inactive</code> by setting variable
<code>mode-line-in-non-selected-windows</code> to <code>nil</code>; then all mode
lines are displayed in the <code>mode-line</code> face.

   </p><p><a name="index-eol_002dmnemonic_002dunix-560"></a><a name="index-eol_002dmnemonic_002ddos-561"></a><a name="index-eol_002dmnemonic_002dmac-562"></a><a name="index-eol_002dmnemonic_002dundecided-563"></a>  You can customize the mode line display for each of the end-of-line
formats by setting each of the variables <code>eol-mnemonic-unix</code>,
<code>eol-mnemonic-dos</code>, <code>eol-mnemonic-mac</code>, and
<code>eol-mnemonic-undecided</code> to the strings you prefer.

</p><div class="node">
<p></p><hr>
<a name="Text-Display"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Cursor-Display">Cursor Display</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Optional-Mode-Line">Optional Mode Line</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.14 How Text Is Displayed</h3>

<p><a name="index-characters-_0028in-text_0029-564"></a>
  <acronym>ASCII</acronym> printing characters (octal codes 040 through 0176) in Emacs
buffers are displayed with their graphics, as are non-ASCII multibyte
printing characters (octal codes above 0400).

   </p><p>Some <acronym>ASCII</acronym> control characters are displayed in special ways.  The
newline character (octal code 012) is displayed by starting a new line. 
The tab character (octal code 011) is displayed by moving to the next
tab stop column (normally every 8 columns).

   </p><p>Other <acronym>ASCII</acronym> control characters are normally displayed as a caret
(`<samp><span class="samp">^</span></samp>') followed by the non-control version of the character; thus,
control-A is displayed as `<samp><span class="samp">^A</span></samp>'.  The caret appears in face
<code>escape-glyph</code>.

   </p><p>Non-<acronym>ASCII</acronym> characters 0200 through 0237 (octal) are
displayed with octal escape sequences; thus, character code 0230
(octal) is displayed as `<samp><span class="samp">\230</span></samp>'.  The backslash appears in face
<code>escape-glyph</code>.

   </p><p><a name="index-ctl_002darrow-565"></a>  If the variable <code>ctl-arrow</code> is <code>nil</code>, control characters in
the buffer are displayed with octal escape sequences, except for newline
and tab.  Altering the value of <code>ctl-arrow</code> makes it local to the
current buffer; until that time, the default value is in effect.  The
default is initially <code>t</code>.

   </p><p>The display of character codes 0240 through 0377 (octal) may be
either as escape sequences or as graphics.  They do not normally occur
in multibyte buffers, but if they do, they are displayed as Latin-1
graphics.  In unibyte mode, if you enable European display they are
displayed using their graphics (assuming your terminal supports them),
otherwise as escape sequences.  See <a href="#Unibyte-Mode">Unibyte Mode</a>.

   </p><p><a name="index-nobreak_002dchar_002ddisplay-566"></a><a name="index-no_002dbreak-space_002c-display-567"></a><a name="index-no_002dbreak-hyphen_002c-display-568"></a><a name="index-soft-hyphen_002c-display-569"></a>  Some character sets define &#8220;no-break&#8221; versions of the space and
hyphen characters, which are used where a line should not be broken. 
Emacs normally displays these characters with special faces
(respectively, <code>nobreak-space</code> and <code>escape-glyph</code>) to
distinguish them from ordinary spaces and hyphens.  You can turn off
this feature by setting the variable <code>nobreak-char-display</code> to
<code>nil</code>.  If you set the variable to any other value, that means to
prefix these characters with an escape character.

   </p><p><a name="index-tab_002dwidth-570"></a><a name="index-default_002dtab_002dwidth-571"></a>  Normally, a tab character in the buffer is displayed as whitespace which
extends to the next display tab stop position, and display tab stops come
at intervals equal to eight spaces.  The number of spaces per tab is
controlled by the variable <code>tab-width</code>, which is made local by
changing it.  Note that how the tab character
in the buffer is displayed has nothing to do with the definition of
&lt;TAB&gt; as a command.  The variable <code>tab-width</code> must have an
integer value between 1 and 1000, inclusive.  The variable
<code>default-tab-width</code> controls the default value of this variable
for buffers where you have not set it locally.

   </p><p>You can customize the way any particular character code is displayed
by means of a display table.  See <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Display-Tables">Display Tables</a>.

</p><div class="node">
<p></p><hr>
<a name="Cursor-Display"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Line-Truncation">Line Truncation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Text-Display">Text Display</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.15 Displaying the Cursor</h3>

<p><a name="index-blink_002dcursor_002dmode-572"></a><a name="index-blink_002dcursor_002dalist-573"></a><a name="index-cursor_002c-locating-visually-574"></a><a name="index-cursor_002c-blinking-575"></a>  You can customize the cursor's color, and whether it blinks, using
the <code>cursor</code> Custom group (see <a href="#Easy-Customization">Easy Customization</a>).  On
a graphical display, the command <kbd>M-x blink-cursor-mode</kbd> enables
or disables the blinking of the cursor.  (On text terminals, the
terminal itself blinks the cursor, and Emacs has no control over it.) 
You can control how the cursor appears when it blinks off by setting
the variable <code>blink-cursor-alist</code>.

   </p><p><a name="index-visible_002dcursor-576"></a>  Some text terminals offer two different cursors: the normal cursor
and the very visible cursor, where the latter may be e.g. bigger or
blinking.  By default Emacs uses the very visible cursor, and switches
to it when you start or resume Emacs.  If the variable
<code>visible-cursor</code> is <code>nil</code> when Emacs starts or resumes, it
doesn't switch, so it uses the normal cursor.

   </p><p><a name="index-cursor-in-non_002dselected-windows-577"></a><a name="index-cursor_002din_002dnon_002dselected_002dwindows-578"></a>  Normally, the cursor appears in non-selected windows in the &#8220;off&#8221;
state, with the same appearance as when the blinking cursor blinks
&#8220;off.&#8221;  For a box cursor, this is a hollow box; for a bar cursor,
this is a thinner bar.  To turn off cursors in non-selected windows,
customize the variable <code>cursor-in-non-selected-windows</code> and assign
it a <code>nil</code> value.

   </p><p><a name="index-x_002dstretch_002dcursor-579"></a><a name="index-wide-block-cursor-580"></a>  On graphical displays, Emacs can optionally draw the block cursor
as wide as the character under the cursor&#8212;for example, if the cursor
is on a tab character, it would cover the full width occupied by that
tab character.  To enable this feature, set the variable
<code>x-stretch-cursor</code> to a non-<code>nil</code> value.

   </p><p><a name="index-hl_002dline_002dmode-581"></a><a name="index-global_002dhl_002dline_002dmode-582"></a><a name="index-highlight-current-line-583"></a>  To make the cursor even more visible, you can use HL Line mode, a
minor mode that highlights the line containing point.  Use <kbd>M-x
hl-line-mode</kbd> to enable or disable it in the current buffer.  <kbd>M-x
global-hl-line-mode</kbd> enables or disables the same mode globally.

</p><div class="node">
<p></p><hr>
<a name="Line-Truncation"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Display-Custom">Display Custom</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Cursor-Display">Cursor Display</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.16 Truncation of Lines</h3>

<p><a name="index-truncation-584"></a><a name="index-line-truncation_002c-and-fringes-585"></a>  As an alternative to continuation, Emacs can display long lines by
<dfn>truncation</dfn>.  This means that all the characters that do not fit
in the width of the screen or window do not appear at all.  On
graphical displays, a small straight arrow in the fringe indicates
truncation at either end of the line.  On text-only terminals, `<samp><span class="samp">$</span></samp>'
appears in the first column when there is text truncated to the left,
and in the last column when there is text truncated to the right.

   </p><p><a name="index-truncate_002dlines-586"></a><a name="index-toggle_002dtruncate_002dlines-587"></a>  Horizontal scrolling automatically causes line truncation
(see <a href="#Horizontal-Scrolling">Horizontal Scrolling</a>).  You can explicitly enable line
truncation for a particular buffer with the command <kbd>M-x
toggle-truncate-lines</kbd>.  This works by locally changing the variable
<code>truncate-lines</code>.  If that variable is non-<code>nil</code>, long lines
are truncated; if it is <code>nil</code>, they are continued onto multiple
screen lines.  Setting the variable <code>truncate-lines</code> in any way
makes it local to the current buffer; until that time, the default
value is in effect.  The default value is normally <code>nil</code>.

<!-- @vindex truncate-partial-width-windows  @c Idx entry is in Split Windows. -->
</p><p>If the variable <code>truncate-partial-width-windows</code> is
non-<code>nil</code>, it forces truncation rather than continuation in any
window less than the full width of the screen or frame, regardless of
the value of <code>truncate-lines</code>.  For information about side-by-side
windows, see <a href="#Split-Window">Split Window</a>.  See also <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Display">Display</a>.

   </p><p><a name="index-overflow_002dnewline_002dinto_002dfringe-588"></a>  If the variable <code>overflow-newline-into-fringe</code> is
non-<code>nil</code> on a graphical display, then Emacs does not continue or
truncate a line which is exactly as wide as the window.  Instead, the
newline overflows into the right fringe, and the cursor appears in the
fringe when positioned on that newline.

</p><div class="node">
<p></p><hr>
<a name="Display-Custom"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Line-Truncation">Line Truncation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Display">Display</a>

</div>

<h3 class="section">19.17 Customization of Display</h3>

<p>This section describes variables (see <a href="#Variables">Variables</a>) that you can
change to customize how Emacs displays.  Beginning users can skip
it. 
<!-- the reason for that pxref is because an xref early in the -->
<!-- ``echo area'' section leads here. -->

   </p><p><a name="index-inverse_002dvideo-589"></a>  If the variable <code>inverse-video</code> is non-<code>nil</code>, Emacs attempts
to invert all the lines of the display from what they normally are.

   </p><p><a name="index-visible_002dbell-590"></a>  If the variable <code>visible-bell</code> is non-<code>nil</code>, Emacs attempts
to make the whole screen blink when it would normally make an audible bell
sound.  This variable has no effect if your terminal does not have a way
to make the screen blink.

   </p><p><a name="index-echo_002dkeystrokes-591"></a>  The variable <code>echo-keystrokes</code> controls the echoing of multi-character
keys; its value is the number of seconds of pause required to cause echoing
to start, or zero, meaning don't echo at all.  The value takes effect when
there is someting to echo.  See <a href="#Echo-Area">Echo Area</a>.

   </p><p><a name="index-baud_002drate-592"></a>  The variable <a name="baud_002drate"></a><code>baud-rate</code> holds the output
speed of the terminal, as far as Emacs knows.  Setting this variable
does not change the speed of actual data transmission, but the value
is used for calculations.  On text-only terminals, it affects padding,
and decisions about whether to scroll part of the screen or redraw it
instead.  It also affects the behavior of incremental search.

   </p><p>On graphical displays, <code>baud-rate</code> is only used to determine
how frequently to look for pending input during display updating.  A
higher value of <code>baud-rate</code> means that check for pending input
will be done less frequently.

   </p><p><a name="index-hourglass-pointer-display-593"></a><a name="index-hourglass_002ddelay-594"></a>  On graphical display, Emacs can optionally display the mouse pointer
in a special shape to say that Emacs is busy.  To turn this feature on
or off, customize the group <code>cursor</code>.  You can also control the
amount of time Emacs must remain busy before the busy indicator is
displayed, by setting the variable <code>hourglass-delay</code>.

   </p><p><a name="index-overline_002dmargin-595"></a>  On graphical display, this variables specifies the vertical position
of an overline above the text, including the height of the overline
itself (1 pixel).  The default value is 2 pixels.

   </p><p><a name="index-x_002dunderline_002dat_002ddescent_002dline-596"></a>  On graphical display, Emacs normally draws an underline at the
baseline level of the font.  If <code>x-underline-at-descent-line</code> is
non-<code>nil</code>, Emacs draws the underline at the same height as the
font's descent line.

   </p><p><a name="index-tty_002dsuppress_002dbold_002dinverse_002ddefault_002dcolors-597"></a>  On some text-only terminals, bold face and inverse video together
result in text that is hard to read.  Call the function
<code>tty-suppress-bold-inverse-default-colors</code> with a non-<code>nil</code>
argument to suppress the effect of bold-face in this case.

   </p><p><a name="index-no_002dredraw_002don_002dreenter-598"></a>  On a text-only terminal, when you reenter Emacs after suspending, Emacs
normally clears the screen and redraws the entire display.  On some
terminals with more than one page of memory, it is possible to arrange
the termcap entry so that the `<samp><span class="samp">ti</span></samp>' and `<samp><span class="samp">te</span></samp>' strings (output
to the terminal when Emacs is entered and exited, respectively) switch
between pages of memory so as to use one page for Emacs and another
page for other output.  On such terminals, you might want to set the variable
<code>no-redraw-on-reenter</code> non-<code>nil</code>; this tells Emacs to
assume, when resumed, that the screen page it is using still contains
what Emacs last wrote there.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2000, 2001, 2002, -->
<!-- 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Search"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Fixit">Fixit</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Display">Display</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">20 Searching and Replacement</h2>

<p><a name="index-searching-599"></a><a name="index-finding-strings-within-text-600"></a>
  Like other editors, Emacs has commands for searching for occurrences of
a string.  The principal search command is unusual in that it is
<dfn>incremental</dfn>; it begins to search before you have finished typing the
search string.  There are also nonincremental search commands more like
those of other editors.

   </p><p>Besides the usual <code>replace-string</code> command that finds all
occurrences of one string and replaces them with another, Emacs has a
more flexible replacement command called <code>query-replace</code>, which
asks interactively which occurrences to replace.  There are also
commands to find and operate on all matches for a pattern.

   </p><p>You can also search multiple files under control of a tags
table (see <a href="#Tags-Search">Tags Search</a>) or through the Dired <kbd>A</kbd> command
(see <a href="#Operating-on-Files">Operating on Files</a>), or ask the <code>grep</code> program to do it
(see <a href="#Grep-Searching">Grep Searching</a>).

</p><ul class="menu">
<li><a accesskey="1" href="#Incremental-Search">Incremental Search</a>: 		Search happens as you type the string. 
</li><li><a accesskey="2" href="#Nonincremental-Search">Nonincremental Search</a>: 	Specify entire string and then search. 
</li><li><a accesskey="3" href="#Word-Search">Word Search</a>: 			Search for sequence of words. 
</li><li><a accesskey="4" href="#Regexp-Search">Regexp Search</a>: 		Search for match for a regexp. 
</li><li><a accesskey="5" href="#Regexps">Regexps</a>: 			Syntax of regular expressions. 
</li><li><a accesskey="6" href="#Regexp-Backslash">Regexp Backslash</a>:             Regular expression constructs starting with `\'. 
</li><li><a accesskey="7" href="#Regexp-Example">Regexp Example</a>:               A complex regular expression explained. 
</li><li><a accesskey="8" href="#Search-Case">Search Case</a>: 			To ignore case while searching, or not. 
</li><li><a accesskey="9" href="#Replace">Replace</a>: 			Search, and replace some or all matches. 
</li><li><a href="#Other-Repeating-Search">Other Repeating Search</a>: 	Operating on all matches for some regexp. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Incremental-Search"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Nonincremental-Search">Nonincremental Search</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.1 Incremental Search</h3>

<p><a name="index-incremental-search-601"></a><a name="index-isearch-602"></a>
  An incremental search begins searching as soon as you type the first
character of the search string.  As you type in the search string, Emacs
shows you where the string (as you have typed it so far) would be
found.  When you have typed enough characters to identify the place you
want, you can stop.  Depending on what you plan to do next, you may or
may not need to terminate the search explicitly with &lt;RET&gt;.

     </p><dl>
<dt><kbd>C-s</kbd></dt><dd>Incremental search forward (<code>isearch-forward</code>). 
<br></dd><dt><kbd>C-r</kbd></dt><dd>Incremental search backward (<code>isearch-backward</code>). 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#Basic-Isearch">Basic Isearch</a>:        Basic incremental search commands. 
</li><li><a accesskey="2" href="#Repeat-Isearch">Repeat Isearch</a>:       Searching for the same string again. 
</li><li><a accesskey="3" href="#Error-in-Isearch">Error in Isearch</a>:     When your string is not found. 
</li><li><a accesskey="4" href="#Special-Isearch">Special Isearch</a>:      Special input in incremental search. 
</li><li><a accesskey="5" href="#Non_002dASCII-Isearch">Non-ASCII Isearch</a>:    How to search for non-ASCII characters. 
</li><li><a accesskey="6" href="#Isearch-Yank">Isearch Yank</a>:         Commands that grab text into the search string
                          or else edit the search string. 
</li><li><a accesskey="7" href="#Highlight-Isearch">Highlight Isearch</a>:    Isearch highlights the other possible matches. 
</li><li><a accesskey="8" href="#Isearch-Scroll">Isearch Scroll</a>:       Scrolling during an incremental search. 
</li><li><a accesskey="9" href="#Slow-Isearch">Slow Isearch</a>:         Incremental search features for slow terminals. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Basic-Isearch"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Repeat-Isearch">Repeat Isearch</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Incremental-Search">Incremental Search</a>

</div>

<h4 class="subsection">20.1.1 Basics of Incremental Search</h4>

<p><a name="index-C_002ds-603"></a><a name="index-isearch_002dforward-604"></a>  <kbd>C-s</kbd> starts a forward incremental search.  It reads characters
from the keyboard, and moves point past the next occurrence of those
characters.  If you type <kbd>C-s</kbd> and then <kbd>F</kbd>, that puts the
cursor after the first `<samp><span class="samp">F</span></samp>' (the first following the starting point, since
this is a forward search).  Then if you type an <kbd>O</kbd>, you will see
the cursor move to just after the first `<samp><span class="samp">FO</span></samp>' (the `<samp><span class="samp">F</span></samp>' in that
`<samp><span class="samp">FO</span></samp>' may or may not be the first `<samp><span class="samp">F</span></samp>').  After another
<kbd>O</kbd>, the cursor moves to just after the first `<samp><span class="samp">FOO</span></samp>' after the place
where you started the search.  At each step, the buffer text that
matches the search string is highlighted, if the terminal can do that;
the current search string is always displayed in the echo area.

   </p><p>If you make a mistake in typing the search string, you can cancel
characters with &lt;DEL&gt;.  Each &lt;DEL&gt; cancels the last character of
search string.  This does not happen until Emacs is ready to read another
input character; first it must either find, or fail to find, the character
you want to erase.  If you do not want to wait for this to happen, use
<kbd>C-g</kbd> as described below.

   </p><p>When you are satisfied with the place you have reached, you can type
&lt;RET&gt;, which stops searching, leaving the cursor where the search
brought it.  Also, any command not specially meaningful in searches
stops the searching and is then executed.  Thus, typing <kbd>C-a</kbd>
would exit the search and then move to the beginning of the line. 
&lt;RET&gt; is necessary only if the next command you want to type is a
printing character, &lt;DEL&gt;, &lt;RET&gt;, or another character that is
special within searches (<kbd>C-q</kbd>, <kbd>C-w</kbd>, <kbd>C-r</kbd>, <kbd>C-s</kbd>,
<kbd>C-y</kbd>, <kbd>M-y</kbd>, <kbd>M-r</kbd>, <kbd>M-c</kbd>, <kbd>M-e</kbd>, and some other
meta-characters).

   </p><p>When you exit the incremental search, it sets the mark where point
<em>was</em> before the search.  That is convenient for moving back
there.  In Transient Mark mode, incremental search sets the mark
without activating it, and does so only if the mark is not already
active.

</p><div class="node">
<p></p><hr>
<a name="Repeat-Isearch"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Error-in-Isearch">Error in Isearch</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basic-Isearch">Basic Isearch</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Incremental-Search">Incremental Search</a>

</div>

<h4 class="subsection">20.1.2 Repeating Incremental Search</h4>

<p>Sometimes you search for `<samp><span class="samp">FOO</span></samp>' and find one, but not the one you
expected to find.  There was a second `<samp><span class="samp">FOO</span></samp>' that you forgot
about, before the one you were aiming for.  In this event, type
another <kbd>C-s</kbd> to move to the next occurrence of the search string. 
You can repeat this any number of times.  If you overshoot, you can
cancel some <kbd>C-s</kbd> characters with &lt;DEL&gt;.

   </p><p>After you exit a search, you can search for the same string again by
typing just <kbd>C-s C-s</kbd>: the first <kbd>C-s</kbd> is the key that invokes
incremental search, and the second <kbd>C-s</kbd> means &#8220;search again.&#8221;

   </p><p>If a search is failing and you ask to repeat it by typing another
<kbd>C-s</kbd>, it starts again from the beginning of the buffer. 
Repeating a failing reverse search with <kbd>C-r</kbd> starts again from
the end.  This is called <dfn>wrapping around</dfn>, and `<samp><span class="samp">Wrapped</span></samp>'
appears in the search prompt once this has happened.  If you keep on
going past the original starting point of the search, it changes to
`<samp><span class="samp">Overwrapped</span></samp>', which means that you are revisiting matches that
you have already seen.

   </p><p>To reuse earlier search strings, use the <dfn>search ring</dfn>.  The
commands <kbd>M-p</kbd> and <kbd>M-n</kbd> move through the ring to pick a search
string to reuse.  These commands leave the selected search ring element
in the minibuffer, where you can edit it.  To edit the current search
string in the minibuffer without replacing it with items from the
search ring, type <kbd>M-e</kbd>.  Type <kbd>C-s</kbd> or <kbd>C-r</kbd>
to terminate editing the string and search for it.

   </p><p>You can change to searching backwards with <kbd>C-r</kbd>.  For instance,
if you are searching forward but you realize you were looking for
something above the starting point, you can do this.  Repeated
<kbd>C-r</kbd> keeps looking for more occurrences backwards.  A <kbd>C-s</kbd>
starts going forwards again.  <kbd>C-r</kbd> in a search can be canceled
with &lt;DEL&gt;.

   </p><p><a name="index-C_002dr-605"></a><a name="index-isearch_002dbackward-606"></a>  If you know initially that you want to search backwards, you can use
<kbd>C-r</kbd> instead of <kbd>C-s</kbd> to start the search, because <kbd>C-r</kbd>
as a key runs a command (<code>isearch-backward</code>) to search backward. 
A backward search finds matches that end before the starting point,
just as a forward search finds matches that begin after it.

</p><div class="node">
<p></p><hr>
<a name="Error-in-Isearch"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Special-Isearch">Special Isearch</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Repeat-Isearch">Repeat Isearch</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Incremental-Search">Incremental Search</a>

</div>

<h4 class="subsection">20.1.3 Errors in Incremental Search</h4>

<p>If your string is not found at all, the echo area says `<samp><span class="samp">Failing
I-Search</span></samp>'.  The cursor is after the place where Emacs found as much of your
string as it could.  Thus, if you search for `<samp><span class="samp">FOOT</span></samp>', and there is no
`<samp><span class="samp">FOOT</span></samp>', you might see the cursor after the `<samp><span class="samp">FOO</span></samp>' in `<samp><span class="samp">FOOL</span></samp>'. 
At this point there are several things you can do.  If your string was
mistyped, you can rub some of it out and correct it.  If you like the place
you have found, you can type &lt;RET&gt; or some other Emacs command to
remain there.  Or you can type <kbd>C-g</kbd>, which
removes from the search string the characters that could not be found (the
`<samp><span class="samp">T</span></samp>' in `<samp><span class="samp">FOOT</span></samp>'), leaving those that were found (the `<samp><span class="samp">FOO</span></samp>' in
`<samp><span class="samp">FOOT</span></samp>').  A second <kbd>C-g</kbd> at that point cancels the search
entirely, returning point to where it was when the search started.

   </p><p><a name="index-quitting-_0028in-search_0029-607"></a>  The <kbd>C-g</kbd> &#8220;quit&#8221; character does special things during searches;
just what it does depends on the status of the search.  If the search has
found what you specified and is waiting for input, <kbd>C-g</kbd> cancels the
entire search.  The cursor moves back to where you started the search.  If
<kbd>C-g</kbd> is typed when there are characters in the search string that have
not been found&#8212;because Emacs is still searching for them, or because it
has failed to find them&#8212;then the search string characters which have not
been found are discarded from the search string.  With them gone, the
search is now successful and waiting for more input, so a second <kbd>C-g</kbd>
will cancel the entire search.

</p><div class="node">
<p></p><hr>
<a name="Special-Isearch"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Non_002dASCII-Isearch">Non-ASCII Isearch</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Error-in-Isearch">Error in Isearch</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Incremental-Search">Incremental Search</a>

</div>

<h4 class="subsection">20.1.4 Special Input for Incremental Search</h4>

<p>An upper-case letter in the search string makes the search
case-sensitive.  If you delete the upper-case character from the search
string, it ceases to have this effect.  See <a href="#Search-Case">Search Case</a>.

   </p><p>To search for a newline, type <kbd>C-j</kbd>.  To search for another
control character, such as control-S or carriage return, you must quote
it by typing <kbd>C-q</kbd> first.  This function of <kbd>C-q</kbd> is analogous
to its use for insertion (see <a href="#Inserting-Text">Inserting Text</a>): it causes the
following character to be treated the way any &#8220;ordinary&#8221; character is
treated in the same context.  You can also specify a character by its
octal code: enter <kbd>C-q</kbd> followed by a sequence of octal digits.

   </p><p><kbd>M-%</kbd> typed in incremental search invokes <code>query-replace</code>
or <code>query-replace-regexp</code> (depending on search mode) with the
current search string used as the string to replace.  See <a href="#Query-Replace">Query Replace</a>.

   </p><p>Entering &lt;RET&gt; when the search string is empty launches
nonincremental search (see <a href="#Nonincremental-Search">Nonincremental Search</a>).

   </p><p><a name="index-isearch_002dmode_002dmap-608"></a>  To customize the special characters that incremental search understands,
alter their bindings in the keymap <code>isearch-mode-map</code>.  For a list
of bindings, look at the documentation of <code>isearch-mode</code> with
<kbd>C-h f isearch-mode &lt;RET&gt;</kbd>.

</p><div class="node">
<p></p><hr>
<a name="Non-ASCII-Isearch"></a>
<a name="Non_002dASCII-Isearch"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Isearch-Yank">Isearch Yank</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Special-Isearch">Special Isearch</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Incremental-Search">Incremental Search</a>

</div>

<h4 class="subsection">20.1.5 Isearch for Non-<acronym>ASCII</acronym> Characters</h4>

<p><a name="index-searching-for-non_002d_0040acronym_007bASCII_007d-characters-609"></a><a name="index-input-method_002c-during-incremental-search-610"></a>
  To enter non-<acronym>ASCII</acronym> characters in an incremental search,
you can use <kbd>C-q</kbd> (see the previous section), but it is easier to
use an input method (see <a href="#Input-Methods">Input Methods</a>).  If an input method is
enabled in the current buffer when you start the search, you can use
it in the search string also.  Emacs indicates that by including the
input method mnemonic in its prompt, like this:

</p><pre class="example">     I-search [<var>im</var>]:
</pre>
   <p class="noindent"><a name="index-isearch_002dtoggle_002dinput_002dmethod-611"></a><a name="index-isearch_002dtoggle_002dspecified_002dinput_002dmethod-612"></a>where <var>im</var> is the mnemonic of the active input method.

   </p><p>You can toggle (enable or disable) the input method while you type
the search string with <kbd>C-\</kbd> (<code>isearch-toggle-input-method</code>). 
You can turn on a certain (non-default) input method with <kbd>C-^</kbd>
(<code>isearch-toggle-specified-input-method</code>), which prompts for the
name of the input method.  The input method you enable during
incremental search remains enabled in the current buffer afterwards.

</p><div class="node">
<p></p><hr>
<a name="Isearch-Yank"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Highlight-Isearch">Highlight Isearch</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Non_002dASCII-Isearch">Non-ASCII Isearch</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Incremental-Search">Incremental Search</a>

</div>

<h4 class="subsection">20.1.6 Isearch Yanking</h4>

<p>The characters <kbd>C-w</kbd> and <kbd>C-y</kbd> can be used in incremental
search to grab text from the buffer into the search string.  This
makes it convenient to search for another occurrence of text at point. 
<kbd>C-w</kbd> copies the character or word after point as part of the
search string, advancing point over it.  (The decision, whether to
copy a character or a word, is heuristic.)  Another <kbd>C-s</kbd> to
repeat the search will then search for a string including that
character or word.

   </p><p><kbd>C-y</kbd> is similar to <kbd>C-w</kbd> but copies all the rest of the
current line into the search string.  If point is already at the end
of a line, it grabs the entire next line.  Both <kbd>C-y</kbd> and
<kbd>C-w</kbd> convert the text they copy to lower case if the search is
currently not case-sensitive; this is so the search remains
case-insensitive.

   </p><p><kbd>C-M-w</kbd> and <kbd>C-M-y</kbd> modify the search string by only one
character at a time: <kbd>C-M-w</kbd> deletes the last character from the
search string and <kbd>C-M-y</kbd> copies the character after point to the
end of the search string.  An alternative method to add the character
after point into the search string is to enter the minibuffer by
<kbd>M-e</kbd> and to type <kbd>C-f</kbd> at the end of the search string in the
minibuffer.

   </p><p>The character <kbd>M-y</kbd> copies text from the kill ring into the search
string.  It uses the same text that <kbd>C-y</kbd> as a command would yank. 
<kbd>Mouse-2</kbd> in the echo area does the same. 
See <a href="#Yanking">Yanking</a>.

</p><div class="node">
<p></p><hr>
<a name="Highlight-Isearch"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Isearch-Scroll">Isearch Scroll</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Isearch-Yank">Isearch Yank</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Incremental-Search">Incremental Search</a>

</div>

<h4 class="subsection">20.1.7 Lazy Search Highlighting</h4>

<p><a name="index-lazy-search-highlighting-613"></a><a name="index-isearch_002dlazy_002dhighlight-614"></a>
  When you pause for a little while during incremental search, it
highlights all other possible matches for the search string.  This
makes it easier to anticipate where you can get to by typing <kbd>C-s</kbd>
or <kbd>C-r</kbd> to repeat the search.  The short delay before highlighting
other matches helps indicate which match is the current one. 
If you don't like this feature, you can turn it off by setting
<code>isearch-lazy-highlight</code> to <code>nil</code>.

   </p><p><a name="index-faces-for-highlighting-search-matches-615"></a>  You can control how this highlighting looks by customizing the faces
<code>isearch</code> (used for the current match) and <code>lazy-highlight</code>
(for all the other matches).

</p><div class="node">
<p></p><hr>
<a name="Isearch-Scroll"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Slow-Isearch">Slow Isearch</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Highlight-Isearch">Highlight Isearch</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Incremental-Search">Incremental Search</a>

</div>

<h4 class="subsection">20.1.8 Scrolling During Incremental Search</h4>

<p>You can enable the use of vertical scrolling during incremental
search (without exiting the search) by setting the customizable
variable <code>isearch-allow-scroll</code> to a non-<code>nil</code> value.  This
applies to using the vertical scroll-bar and to certain keyboard
commands such as <kbd>&lt;PRIOR&gt;</kbd> (<code>scroll-down</code>),
<kbd>&lt;NEXT&gt;</kbd> (<code>scroll-up</code>) and <kbd>C-l</kbd> (<code>recenter</code>). 
You must run these commands via their key sequences to stay in the
search&#8212;typing <kbd>M-x</kbd> will terminate the search.  You can give
prefix arguments to these commands in the usual way.

   </p><p>This feature won't let you scroll the current match out of visibility,
however.

   </p><p>The feature also affects some other commands, such as <kbd>C-x 2</kbd>
(<code>split-window-vertically</code>) and <kbd>C-x ^</kbd>
(<code>enlarge-window</code>) which don't exactly scroll but do affect where
the text appears on the screen.  In general, it applies to any command
whose name has a non-<code>nil</code> <code>isearch-scroll</code> property.  So you
can control which commands are affected by changing these properties.

   </p><p>For example, to make <kbd>C-h l</kbd> usable within an incremental search
in all future Emacs sessions, use <kbd>C-h c</kbd> to find what command it
runs.  (You type <kbd>C-h c C-h l</kbd>; it says <code>view-lossage</code>.) 
Then you can put the following line in your <samp><span class="file">.emacs</span></samp> file
(see <a href="#Init-File">Init File</a>):

</p><pre class="example">     (put 'view-lossage 'isearch-scroll t)
</pre>
   <p class="noindent">This feature can be applied to any command that doesn't permanently
change point, the buffer contents, the match data, the current buffer,
or the selected window and frame.  The command must not itself attempt
an incremental search.

</p><div class="node">
<p></p><hr>
<a name="Slow-Isearch"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Isearch-Scroll">Isearch Scroll</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Incremental-Search">Incremental Search</a>

</div>

<h4 class="subsection">20.1.9 Slow Terminal Incremental Search</h4>

<p>Incremental search on a slow terminal uses a modified style of display
that is designed to take less time.  Instead of redisplaying the buffer at
each place the search gets to, it creates a new single-line window and uses
that to display the line that the search has found.  The single-line window
comes into play as soon as point moves outside of the text that is already
on the screen.

   </p><p>When you terminate the search, the single-line window is removed. 
Emacs then redisplays the window in which the search was done, to show
its new position of point.

   </p><p><a name="index-search_002dslow_002dspeed-616"></a>  The slow terminal style of display is used when the terminal baud rate is
less than or equal to the value of the variable <code>search-slow-speed</code>,
initially 1200.  See also the discussion of the variable <code>baud-rate</code>
(see <a href="#baud_002drate">Customization of Display</a>).

   </p><p><a name="index-search_002dslow_002dwindow_002dlines-617"></a>  The number of lines to use in slow terminal search display is controlled
by the variable <code>search-slow-window-lines</code>.  Its normal value is 1.

</p><div class="node">
<p></p><hr>
<a name="Nonincremental-Search"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Word-Search">Word Search</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Incremental-Search">Incremental Search</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.2 Nonincremental Search</h3>

<p><a name="index-nonincremental-search-618"></a>
  Emacs also has conventional nonincremental search commands, which require
you to type the entire search string before searching begins.

     </p><dl>
<dt><kbd>C-s &lt;RET&gt; </kbd><var>string</var><kbd> &lt;RET&gt;</kbd></dt><dd>Search for <var>string</var>. 
<br></dd><dt><kbd>C-r &lt;RET&gt; </kbd><var>string</var><kbd> &lt;RET&gt;</kbd></dt><dd>Search backward for <var>string</var>. 
</dd></dl>

   <p>To do a nonincremental search, first type <kbd>C-s &lt;RET&gt;</kbd>.  This
enters the minibuffer to read the search string; terminate the string
with &lt;RET&gt;, and then the search takes place.  If the string is not
found, the search command signals an error.

   </p><p>When you type <kbd>C-s &lt;RET&gt;</kbd>, the <kbd>C-s</kbd> invokes incremental
search as usual.  That command is specially programmed to invoke
nonincremental search, <code>search-forward</code>, if the string you
specify is empty.  (Such an empty argument would otherwise be
useless.)  But it does not call <code>search-forward</code> right away.  First
it checks the next input character to see if is <kbd>C-w</kbd>,
which specifies a word search. 
See <a href="#Word-Search">Word Search</a>. 
<kbd>C-r &lt;RET&gt;</kbd> does likewise, for a reverse incremental search.

   </p><p><a name="index-search_002dforward-619"></a><a name="index-search_002dbackward-620"></a>  Forward and backward nonincremental searches are implemented by the
commands <code>search-forward</code> and <code>search-backward</code>.  These
commands may be bound to keys in the usual manner.  The feature that you
can get to them via the incremental search commands exists for
historical reasons, and to avoid the need to find separate key sequences
for them.

</p><div class="node">
<p></p><hr>
<a name="Word-Search"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regexp-Search">Regexp Search</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Nonincremental-Search">Nonincremental Search</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.3 Word Search</h3>

<p><a name="index-word-search-621"></a>
  Word search searches for a sequence of words without regard to how the
words are separated.  More precisely, you type a string of many words,
using single spaces to separate them, and the string can be found even
if there are multiple spaces, newlines, or other punctuation characters
between these words.

   </p><p>Word search is useful for editing a printed document made with a text
formatter.  If you edit while looking at the printed, formatted version,
you can't tell where the line breaks are in the source file.  With word
search, you can search without having to know them.

     </p><dl>
<dt><kbd>C-s &lt;RET&gt; C-w </kbd><var>words</var><kbd> &lt;RET&gt;</kbd></dt><dd>Search for <var>words</var>, ignoring details of punctuation. 
<br></dd><dt><kbd>C-r &lt;RET&gt; C-w </kbd><var>words</var><kbd> &lt;RET&gt;</kbd></dt><dd>Search backward for <var>words</var>, ignoring details of punctuation. 
</dd></dl>

   <p>Word search as a special case of nonincremental search is invoked
with <kbd>C-s &lt;RET&gt; C-w</kbd>.  This is followed by the search string,
which must always be terminated with &lt;RET&gt;.  Being nonincremental,
this search does not start until the argument is terminated.  It works
by constructing a regular expression and searching for that; see
<a href="#Regexp-Search">Regexp Search</a>.

   </p><p>Use <kbd>C-r &lt;RET&gt; C-w</kbd> to do backward word search.

   </p><p>You can also invoke word search with <kbd>C-s M-e C-w</kbd> or <kbd>C-r
M-e C-w</kbd> followed by the search string and terminated with &lt;RET&gt;,
<kbd>C-s</kbd> or <kbd>C-r</kbd>.  This puts word search into incremental mode
where you can use all keys available for incremental search.  However,
when you type more words in incremental word search, it will fail
until you type complete words.

   </p><p><a name="index-word_002dsearch_002dforward-622"></a><a name="index-word_002dsearch_002dbackward-623"></a>  Forward and backward word searches are implemented by the commands
<code>word-search-forward</code> and <code>word-search-backward</code>.  These
commands may be bound to keys in the usual manner.  They are available
via the incremental search commands both for historical reasons and
to avoid the need to find separate key sequences for them.

</p><div class="node">
<p></p><hr>
<a name="Regexp-Search"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regexps">Regexps</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Word-Search">Word Search</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.4 Regular Expression Search</h3>

<p><a name="index-regular-expression-624"></a><a name="index-regexp-625"></a>
  A <dfn>regular expression</dfn> (<dfn>regexp</dfn>, for short) is a pattern
that denotes a class of alternative strings to match, possibly
infinitely many.  GNU Emacs provides both incremental and
nonincremental ways to search for a match for a regexp.  The syntax of
regular expressions is explained in the following section.

   </p><p><a name="index-C_002dM_002ds-626"></a><a name="index-isearch_002dforward_002dregexp-627"></a><a name="index-C_002dM_002dr-628"></a><a name="index-isearch_002dbackward_002dregexp-629"></a>  Incremental search for a regexp is done by typing <kbd>C-M-s</kbd>
(<code>isearch-forward-regexp</code>), by invoking <kbd>C-s</kbd> with a
prefix argument (whose value does not matter), or by typing <kbd>M-r</kbd>
within a forward incremental search.  This command reads a
search string incrementally just like <kbd>C-s</kbd>, but it treats the
search string as a regexp rather than looking for an exact match
against the text in the buffer.  Each time you add text to the search
string, you make the regexp longer, and the new regexp is searched
for.  To search backward for a regexp, use <kbd>C-M-r</kbd>
(<code>isearch-backward-regexp</code>), <kbd>C-r</kbd> with a prefix argument,
or <kbd>M-r</kbd> within a backward incremental search.

   </p><p>All of the control characters that do special things within an
ordinary incremental search have the same function in incremental regexp
search.  Typing <kbd>C-s</kbd> or <kbd>C-r</kbd> immediately after starting the
search retrieves the last incremental search regexp used; that is to
say, incremental regexp and non-regexp searches have independent
defaults.  They also have separate search rings that you can access with
<kbd>M-p</kbd> and <kbd>M-n</kbd>.

   </p><p><a name="index-search_002dwhitespace_002dregexp-630"></a>  If you type &lt;SPC&gt; in incremental regexp search, it matches any
sequence of whitespace characters, including newlines.  If you want to
match just a space, type <kbd>C-q &lt;SPC&gt;</kbd>.  You can control what a
bare space matches by setting the variable
<code>search-whitespace-regexp</code> to the desired regexp.

   </p><p>In some cases, adding characters to the regexp in an incremental regexp
search can make the cursor move back and start again.  For example, if
you have searched for `<samp><span class="samp">foo</span></samp>' and you add `<samp><span class="samp">\|bar</span></samp>', the cursor
backs up in case the first `<samp><span class="samp">bar</span></samp>' precedes the first `<samp><span class="samp">foo</span></samp>'.

   </p><p>Forward and backward regexp search are not symmetrical, because
regexp matching in Emacs always operates forward, starting with the
beginning of the regexp.  Thus, forward regexp search scans forward,
trying a forward match at each possible starting position.  Backward
regexp search scans backward, trying a forward match at each possible
starting position.  These search methods are not mirror images.

   </p><p><a name="index-re_002dsearch_002dforward-631"></a><a name="index-re_002dsearch_002dbackward-632"></a>  Nonincremental search for a regexp is done by the functions
<code>re-search-forward</code> and <code>re-search-backward</code>.  You can invoke
these with <kbd>M-x</kbd>, or bind them to keys, or invoke them by way of
incremental regexp search with <kbd>C-M-s &lt;RET&gt;</kbd> and <kbd>C-M-r
&lt;RET&gt;</kbd>.

   </p><p>If you use the incremental regexp search commands with a prefix
argument, they perform ordinary string search, like
<code>isearch-forward</code> and <code>isearch-backward</code>.  See <a href="#Incremental-Search">Incremental Search</a>.

</p><div class="node">
<p></p><hr>
<a name="Regexps"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regexp-Backslash">Regexp Backslash</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regexp-Search">Regexp Search</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.5 Syntax of Regular Expressions</h3>

<p><a name="index-syntax-of-regexps-633"></a>
  This manual describes regular expression features that users
typically want to use.  There are additional features that are
mainly used in Lisp programs; see <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Regular-Expressions">Regular Expressions</a>.

   </p><p>Regular expressions have a syntax in which a few characters are
special constructs and the rest are <dfn>ordinary</dfn>.  An ordinary
character is a simple regular expression which matches that same
character and nothing else.  The special characters are `<samp><span class="samp">$</span></samp>',
`<samp><span class="samp">^</span></samp>', `<samp><span class="samp">.</span></samp>', `<samp><span class="samp">*</span></samp>', `<samp><span class="samp">+</span></samp>', `<samp><span class="samp">?</span></samp>', `<samp><span class="samp">[</span></samp>', and
`<samp><span class="samp">\</span></samp>'.  The character `<samp><span class="samp">]</span></samp>' is special if it ends a character
alternative (see later).  The character `<samp><span class="samp">-</span></samp>' is special inside a
character alternative.  Any other character appearing in a regular
expression is ordinary, unless a `<samp><span class="samp">\</span></samp>' precedes it.  (When you use
regular expressions in a Lisp program, each `<samp><span class="samp">\</span></samp>' must be doubled,
see the example near the end of this section.)

   </p><p>For example, `<samp><span class="samp">f</span></samp>' is not a special character, so it is ordinary, and
therefore `<samp><span class="samp">f</span></samp>' is a regular expression that matches the string
`<samp><span class="samp">f</span></samp>' and no other string.  (It does <em>not</em> match the string
`<samp><span class="samp">ff</span></samp>'.)  Likewise, `<samp><span class="samp">o</span></samp>' is a regular expression that matches
only `<samp><span class="samp">o</span></samp>'.  (When case distinctions are being ignored, these regexps
also match `<samp><span class="samp">F</span></samp>' and `<samp><span class="samp">O</span></samp>', but we consider this a generalization
of &#8220;the same string,&#8221; rather than an exception.)

   </p><p>Any two regular expressions <var>a</var> and <var>b</var> can be concatenated.  The
result is a regular expression which matches a string if <var>a</var> matches
some amount of the beginning of that string and <var>b</var> matches the rest of
the string.

   </p><p>As a simple example, we can concatenate the regular expressions `<samp><span class="samp">f</span></samp>'
and `<samp><span class="samp">o</span></samp>' to get the regular expression `<samp><span class="samp">fo</span></samp>', which matches only
the string `<samp><span class="samp">fo</span></samp>'.  Still trivial.  To do something nontrivial, you
need to use one of the special characters.  Here is a list of them.

     </p><dl>
<dt><kbd>.</kbd> <span class="roman">(Period)</span></dt><dd>is a special character that matches any single character except a newline. 
Using concatenation, we can make regular expressions like `<samp><span class="samp">a.b</span></samp>', which
matches any three-character string that begins with `<samp><span class="samp">a</span></samp>' and ends with
`<samp><span class="samp">b</span></samp>'.

     <br></dd><dt><kbd>*</kbd></dt><dd>is not a construct by itself; it is a postfix operator that means to
match the preceding regular expression repetitively as many times as
possible.  Thus, `<samp><span class="samp">o*</span></samp>' matches any number of `<samp><span class="samp">o</span></samp>'s (including no
`<samp><span class="samp">o</span></samp>'s).

     <p>`<samp><span class="samp">*</span></samp>' always applies to the <em>smallest</em> possible preceding
expression.  Thus, `<samp><span class="samp">fo*</span></samp>' has a repeating `<samp><span class="samp">o</span></samp>', not a repeating
`<samp><span class="samp">fo</span></samp>'.  It matches `<samp><span class="samp">f</span></samp>', `<samp><span class="samp">fo</span></samp>', `<samp><span class="samp">foo</span></samp>', and so on.

     </p><p>The matcher processes a `<samp><span class="samp">*</span></samp>' construct by matching, immediately,
as many repetitions as can be found.  Then it continues with the rest
of the pattern.  If that fails, backtracking occurs, discarding some
of the matches of the `<samp><span class="samp">*</span></samp>'-modified construct in case that makes
it possible to match the rest of the pattern.  For example, in matching
`<samp><span class="samp">ca*ar</span></samp>' against the string `<samp><span class="samp">caaar</span></samp>', the `<samp><span class="samp">a*</span></samp>' first
tries to match all three `<samp><span class="samp">a</span></samp>'s; but the rest of the pattern is
`<samp><span class="samp">ar</span></samp>' and there is only `<samp><span class="samp">r</span></samp>' left to match, so this try fails. 
The next alternative is for `<samp><span class="samp">a*</span></samp>' to match only two `<samp><span class="samp">a</span></samp>'s. 
With this choice, the rest of the regexp matches successfully.

     <br></p></dd><dt><kbd>+</kbd></dt><dd>is a postfix operator, similar to `<samp><span class="samp">*</span></samp>' except that it must match
the preceding expression at least once.  So, for example, `<samp><span class="samp">ca+r</span></samp>'
matches the strings `<samp><span class="samp">car</span></samp>' and `<samp><span class="samp">caaaar</span></samp>' but not the string
`<samp><span class="samp">cr</span></samp>', whereas `<samp><span class="samp">ca*r</span></samp>' matches all three strings.

     <br></dd><dt><kbd>?</kbd></dt><dd>is a postfix operator, similar to `<samp><span class="samp">*</span></samp>' except that it can match the
preceding expression either once or not at all.  For example,
`<samp><span class="samp">ca?r</span></samp>' matches `<samp><span class="samp">car</span></samp>' or `<samp><span class="samp">cr</span></samp>'; nothing else.

     <br></dd><dt><kbd>*?</kbd>, <kbd>+?</kbd>, <kbd>??</kbd></dt><dd><a name="index-non_002dgreedy-regexp-matching-634"></a>are non-greedy variants of the operators above.  The normal operators
`<samp><span class="samp">*</span></samp>', `<samp><span class="samp">+</span></samp>', `<samp><span class="samp">?</span></samp>' are <dfn>greedy</dfn> in that they match as
much as they can, as long as the overall regexp can still match.  With
a following `<samp><span class="samp">?</span></samp>', they are non-greedy: they will match as little
as possible.

     <p>Thus, both `<samp><span class="samp">ab*</span></samp>' and `<samp><span class="samp">ab*?</span></samp>' can match the string `<samp><span class="samp">a</span></samp>'
and the string `<samp><span class="samp">abbbb</span></samp>'; but if you try to match them both against
the text `<samp><span class="samp">abbb</span></samp>', `<samp><span class="samp">ab*</span></samp>' will match it all (the longest valid
match), while `<samp><span class="samp">ab*?</span></samp>'  will match just `<samp><span class="samp">a</span></samp>' (the shortest
valid match).

     </p><p>Non-greedy operators match the shortest possible string starting at a
given starting point; in a forward search, though, the earliest
possible starting point for match is always the one chosen.  Thus, if
you search for `<samp><span class="samp">a.*?$</span></samp>' against the text `<samp><span class="samp">abbab</span></samp>' followed by
a newline, it matches the whole string.  Since it <em>can</em> match
starting at the first `<samp><span class="samp">a</span></samp>', it does.

     <br></p></dd><dt><kbd>\{</kbd><var>n</var><kbd>\}</kbd></dt><dd>is a postfix operator that specifies repetition <var>n</var> times&#8212;that
is, the preceding regular expression must match exactly <var>n</var> times
in a row.  For example, `<samp><span class="samp">x\{4\}</span></samp>' matches the string `<samp><span class="samp">xxxx</span></samp>'
and nothing else.

     <br></dd><dt><kbd>\{</kbd><var>n</var><kbd>,</kbd><var>m</var><kbd>\}</kbd></dt><dd>is a postfix operator that specifies repetition between <var>n</var> and
<var>m</var> times&#8212;that is, the preceding regular expression must match
at least <var>n</var> times, but no more than <var>m</var> times.  If <var>m</var> is
omitted, then there is no upper limit, but the preceding regular
expression must match at least <var>n</var> times.<br> `<samp><span class="samp">\{0,1\}</span></samp>' is
equivalent to `<samp><span class="samp">?</span></samp>'. <br> `<samp><span class="samp">\{0,\}</span></samp>' is equivalent to
`<samp><span class="samp">*</span></samp>'. <br> `<samp><span class="samp">\{1,\}</span></samp>' is equivalent to `<samp><span class="samp">+</span></samp>'.

     <br></dd><dt><kbd>[ ... ]</kbd></dt><dd>is a <dfn>character set</dfn>, which begins with `<samp><span class="samp">[</span></samp>' and is terminated
by `<samp><span class="samp">]</span></samp>'.  In the simplest case, the characters between the two
brackets are what this set can match.

     <p>Thus, `<samp><span class="samp">[ad]</span></samp>' matches either one `<samp><span class="samp">a</span></samp>' or one `<samp><span class="samp">d</span></samp>', and
`<samp><span class="samp">[ad]*</span></samp>' matches any string composed of just `<samp><span class="samp">a</span></samp>'s and `<samp><span class="samp">d</span></samp>'s
(including the empty string), from which it follows that `<samp><span class="samp">c[ad]*r</span></samp>'
matches `<samp><span class="samp">cr</span></samp>', `<samp><span class="samp">car</span></samp>', `<samp><span class="samp">cdr</span></samp>', `<samp><span class="samp">caddaar</span></samp>', etc.

     </p><p>You can also include character ranges in a character set, by writing the
starting and ending characters with a `<samp><span class="samp">-</span></samp>' between them.  Thus,
`<samp><span class="samp">[a-z]</span></samp>' matches any lower-case <acronym>ASCII</acronym> letter.  Ranges may be
intermixed freely with individual characters, as in `<samp><span class="samp">[a-z$%.]</span></samp>',
which matches any lower-case <acronym>ASCII</acronym> letter or `<samp><span class="samp">$</span></samp>', `<samp><span class="samp">%</span></samp>' or
period.

     </p><p>Note that the usual regexp special characters are not special inside a
character set.  A completely different set of special characters exists
inside character sets: `<samp><span class="samp">]</span></samp>', `<samp><span class="samp">-</span></samp>' and `<samp><span class="samp">^</span></samp>'.

     </p><p>To include a `<samp><span class="samp">]</span></samp>' in a character set, you must make it the first
character.  For example, `<samp><span class="samp">[]a]</span></samp>' matches `<samp><span class="samp">]</span></samp>' or `<samp><span class="samp">a</span></samp>'.  To
include a `<samp><span class="samp">-</span></samp>', write `<samp><span class="samp">-</span></samp>' as the first or last character of the
set, or put it after a range.  Thus, `<samp><span class="samp">[]-]</span></samp>' matches both `<samp><span class="samp">]</span></samp>'
and `<samp><span class="samp">-</span></samp>'.

     </p><p>To include `<samp><span class="samp">^</span></samp>' in a set, put it anywhere but at the beginning of
the set.  (At the beginning, it complements the set&#8212;see below.)

     </p><p>When you use a range in case-insensitive search, you should write both
ends of the range in upper case, or both in lower case, or both should
be non-letters.  The behavior of a mixed-case range such as `<samp><span class="samp">A-z</span></samp>'
is somewhat ill-defined, and it may change in future Emacs versions.

     <br></p></dd><dt><kbd>[^ ... ]</kbd></dt><dd>`<samp><span class="samp">[^</span></samp>' begins a <dfn>complemented character set</dfn>, which matches any
character except the ones specified.  Thus, `<samp><span class="samp">[^a-z0-9A-Z]</span></samp>' matches
all characters <em>except</em> <acronym>ASCII</acronym> letters and digits.

     <p>`<samp><span class="samp">^</span></samp>' is not special in a character set unless it is the first
character.  The character following the `<samp><span class="samp">^</span></samp>' is treated as if it
were first (in other words, `<samp><span class="samp">-</span></samp>' and `<samp><span class="samp">]</span></samp>' are not special there).

     </p><p>A complemented character set can match a newline, unless newline is
mentioned as one of the characters not to match.  This is in contrast to
the handling of regexps in programs such as <code>grep</code>.

     <br></p></dd><dt><kbd>^</kbd></dt><dd>is a special character that matches the empty string, but only at the
beginning of a line in the text being matched.  Otherwise it fails to
match anything.  Thus, `<samp><span class="samp">^foo</span></samp>' matches a `<samp><span class="samp">foo</span></samp>' that occurs at
the beginning of a line.

     <p>For historical compatibility reasons, `<samp><span class="samp">^</span></samp>' can be used with this
meaning only at the beginning of the regular expression, or after
`<samp><span class="samp">\(</span></samp>' or `<samp><span class="samp">\|</span></samp>'.

     <br></p></dd><dt><kbd>$</kbd></dt><dd>is similar to `<samp><span class="samp">^</span></samp>' but matches only at the end of a line.  Thus,
`<samp><span class="samp">x+$</span></samp>' matches a string of one `<samp><span class="samp">x</span></samp>' or more at the end of a line.

     <p>For historical compatibility reasons, `<samp><span class="samp">$</span></samp>' can be used with this
meaning only at the end of the regular expression, or before `<samp><span class="samp">\)</span></samp>'
or `<samp><span class="samp">\|</span></samp>'.

     <br></p></dd><dt><kbd>\</kbd></dt><dd>has two functions: it quotes the special characters (including
`<samp><span class="samp">\</span></samp>'), and it introduces additional special constructs.

     <p>Because `<samp><span class="samp">\</span></samp>' quotes special characters, `<samp><span class="samp">\$</span></samp>' is a regular
expression that matches only `<samp><span class="samp">$</span></samp>', and `<samp><span class="samp">\[</span></samp>' is a regular
expression that matches only `<samp><span class="samp">[</span></samp>', and so on.

     </p><p>See the following section for the special constructs that begin
with `<samp><span class="samp">\</span></samp>'. 
</p></dd></dl>

   <p>Note: for historical compatibility, special characters are treated as
ordinary ones if they are in contexts where their special meanings make no
sense.  For example, `<samp><span class="samp">*foo</span></samp>' treats `<samp><span class="samp">*</span></samp>' as ordinary since there is
no preceding expression on which the `<samp><span class="samp">*</span></samp>' can act.  It is poor practice
to depend on this behavior; it is better to quote the special character anyway,
regardless of where it appears.

   </p><p>As a `<samp><span class="samp">\</span></samp>' is not special inside a character alternative, it can
never remove the special meaning of `<samp><span class="samp">-</span></samp>' or `<samp><span class="samp">]</span></samp>'.  So you
should not quote these characters when they have no special meaning
either.  This would not clarify anything, since backslashes can
legitimately precede these characters where they <em>have</em> special
meaning, as in `<samp><span class="samp">[^\]</span></samp>' (<code>"[^\\]"</code> for Lisp string syntax),
which matches any single character except a backslash.

</p><div class="node">
<p></p><hr>
<a name="Regexp-Backslash"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regexp-Example">Regexp Example</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regexps">Regexps</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.6 Backslash in Regular Expressions</h3>

<p>For the most part, `<samp><span class="samp">\</span></samp>' followed by any character matches only
that character.  However, there are several exceptions: two-character
sequences starting with `<samp><span class="samp">\</span></samp>' that have special meanings.  The
second character in the sequence is always an ordinary character when
used on its own.  Here is a table of `<samp><span class="samp">\</span></samp>' constructs.

     </p><dl>
<dt><kbd>\|</kbd></dt><dd>specifies an alternative.  Two regular expressions <var>a</var> and <var>b</var>
with `<samp><span class="samp">\|</span></samp>' in between form an expression that matches some text if
either <var>a</var> matches it or <var>b</var> matches it.  It works by trying to
match <var>a</var>, and if that fails, by trying to match <var>b</var>.

     <p>Thus, `<samp><span class="samp">foo\|bar</span></samp>' matches either `<samp><span class="samp">foo</span></samp>' or `<samp><span class="samp">bar</span></samp>'
but no other string.

     </p><p>`<samp><span class="samp">\|</span></samp>' applies to the largest possible surrounding expressions.  Only a
surrounding `<samp><span class="samp">\( ... \)</span></samp>' grouping can limit the grouping power of
`<samp><span class="samp">\|</span></samp>'.

     </p><p>Full backtracking capability exists to handle multiple uses of `<samp><span class="samp">\|</span></samp>'.

     <br></p></dd><dt><kbd>\( ... \)</kbd></dt><dd>is a grouping construct that serves three purposes:

          <ol start="1" type="1">
<li>To enclose a set of `<samp><span class="samp">\|</span></samp>' alternatives for other operations. 
Thus, `<samp><span class="samp">\(foo\|bar\)x</span></samp>' matches either `<samp><span class="samp">foox</span></samp>' or `<samp><span class="samp">barx</span></samp>'.

          </li><li>To enclose a complicated expression for the postfix operators `<samp><span class="samp">*</span></samp>',
`<samp><span class="samp">+</span></samp>' and `<samp><span class="samp">?</span></samp>' to operate on.  Thus, `<samp><span class="samp">ba\(na\)*</span></samp>' matches
`<samp><span class="samp">bananana</span></samp>', etc., with any (zero or more) number of `<samp><span class="samp">na</span></samp>'
strings.

          </li><li>To record a matched substring for future reference.
          </li></ol>

     <p>This last application is not a consequence of the idea of a
parenthetical grouping; it is a separate feature that is assigned as a
second meaning to the same `<samp><span class="samp">\( ... \)</span></samp>' construct.  In practice
there is usually no conflict between the two meanings; when there is
a conflict, you can use a &#8220;shy&#8221; group.

     <br></p></dd><dt><kbd>\(?: ... \)</kbd></dt><dd><a name="index-shy-group_002c-in-regexp-635"></a>specifies a &#8220;shy&#8221; group that does not record the matched substring;
you can't refer back to it with `<samp><span class="samp">\</span><var>d</var></samp>'.  This is useful
in mechanically combining regular expressions, so that you
can add groups for syntactic purposes without interfering with
the numbering of the groups that are meant to be referred to.

     <br></dd><dt><kbd>\</kbd><var>d</var></dt><dd><a name="index-back-reference_002c-in-regexp-636"></a>matches the same text that matched the <var>d</var>th occurrence of a
`<samp><span class="samp">\( ... \)</span></samp>' construct.  This is called a <dfn>back
reference</dfn>.

     <p>After the end of a `<samp><span class="samp">\( ... \)</span></samp>' construct, the matcher remembers
the beginning and end of the text matched by that construct.  Then,
later on in the regular expression, you can use `<samp><span class="samp">\</span></samp>' followed by the
digit <var>d</var> to mean &#8220;match the same text matched the <var>d</var>th time
by the `<samp><span class="samp">\( ... \)</span></samp>' construct.&#8221;

     </p><p>The strings matching the first nine `<samp><span class="samp">\( ... \)</span></samp>' constructs
appearing in a regular expression are assigned numbers 1 through 9 in
the order that the open-parentheses appear in the regular expression. 
So you can use `<samp><span class="samp">\1</span></samp>' through `<samp><span class="samp">\9</span></samp>' to refer to the text matched
by the corresponding `<samp><span class="samp">\( ... \)</span></samp>' constructs.

     </p><p>For example, `<samp><span class="samp">\(.*\)\1</span></samp>' matches any newline-free string that is
composed of two identical halves.  The `<samp><span class="samp">\(.*\)</span></samp>' matches the first
half, which may be anything, but the `<samp><span class="samp">\1</span></samp>' that follows must match
the same exact text.

     </p><p>If a particular `<samp><span class="samp">\( ... \)</span></samp>' construct matches more than once
(which can easily happen if it is followed by `<samp><span class="samp">*</span></samp>'), only the last
match is recorded.

     <br></p></dd><dt><kbd>\`</kbd></dt><dd>matches the empty string, but only at the beginning of the string or
buffer (or its accessible portion) being matched against.

     <br></dd><dt><kbd>\'</kbd></dt><dd>matches the empty string, but only at the end of the string or buffer
(or its accessible portion) being matched against.

     <br></dd><dt><kbd>\=</kbd></dt><dd>matches the empty string, but only at point.

     <br></dd><dt><kbd>\b</kbd></dt><dd>matches the empty string, but only at the beginning or
end of a word.  Thus, `<samp><span class="samp">\bfoo\b</span></samp>' matches any occurrence of
`<samp><span class="samp">foo</span></samp>' as a separate word.  `<samp><span class="samp">\bballs?\b</span></samp>' matches
`<samp><span class="samp">ball</span></samp>' or `<samp><span class="samp">balls</span></samp>' as a separate word.

     <p>`<samp><span class="samp">\b</span></samp>' matches at the beginning or end of the buffer
regardless of what text appears next to it.

     <br></p></dd><dt><kbd>\B</kbd></dt><dd>matches the empty string, but <em>not</em> at the beginning or
end of a word.

     <br></dd><dt><kbd>\&lt;</kbd></dt><dd>matches the empty string, but only at the beginning of a word. 
`<samp><span class="samp">\&lt;</span></samp>' matches at the beginning of the buffer only if a
word-constituent character follows.

     <br></dd><dt><kbd>\&gt;</kbd></dt><dd>matches the empty string, but only at the end of a word.  `<samp><span class="samp">\&gt;</span></samp>'
matches at the end of the buffer only if the contents end with a
word-constituent character.

     <br></dd><dt><kbd>\w</kbd></dt><dd>matches any word-constituent character.  The syntax table
determines which characters these are.  See <a href="#Syntax">Syntax</a>.

     <br></dd><dt><kbd>\W</kbd></dt><dd>matches any character that is not a word-constituent.

     <br></dd><dt><kbd>\_&lt;</kbd></dt><dd>matches the empty string, but only at the beginning of a symbol. 
A symbol is a sequence of one or more symbol-constituent characters. 
A symbol-constituent character is a character whose syntax is either
`<samp><span class="samp">w</span></samp>' or `<samp><span class="samp">_</span></samp>'.  `<samp><span class="samp">\_&lt;</span></samp>' matches at the beginning of the
buffer only if a symbol-constituent character follows.

     <br></dd><dt><kbd>\_&gt;</kbd></dt><dd>matches the empty string, but only at the end of a symbol.  `<samp><span class="samp">\_&gt;</span></samp>'
matches at the end of the buffer only if the contents end with a
symbol-constituent character.

     <br></dd><dt><kbd>\s</kbd><var>c</var></dt><dd>matches any character whose syntax is <var>c</var>.  Here <var>c</var> is a
character that designates a particular syntax class: thus, `<samp><span class="samp">w</span></samp>'
for word constituent, `<samp><span class="samp">-</span></samp>' or `<samp> </samp>' for whitespace, `<samp><span class="samp">.</span></samp>'
for ordinary punctuation, etc.  See <a href="#Syntax">Syntax</a>.

     <br></dd><dt><kbd>\S</kbd><var>c</var></dt><dd>matches any character whose syntax is not <var>c</var>.

     <p><a name="index-categories-of-characters-637"></a><a name="index-characters-which-belong-to-a-specific-language-638"></a><a name="index-describe_002dcategories-639"></a><br></p></dd><dt><kbd>\c</kbd><var>c</var></dt><dd>matches any character that belongs to the category <var>c</var>.  For
example, `<samp><span class="samp">\cc</span></samp>' matches Chinese characters, `<samp><span class="samp">\cg</span></samp>' matches
Greek characters, etc.  For the description of the known categories,
type <kbd>M-x describe-categories &lt;RET&gt;</kbd>.

     <br></dd><dt><kbd>\C</kbd><var>c</var></dt><dd>matches any character that does <em>not</em> belong to category
<var>c</var>. 
</dd></dl>

   <p>The constructs that pertain to words and syntax are controlled by the
setting of the syntax table (see <a href="#Syntax">Syntax</a>).

</p><div class="node">
<p></p><hr>
<a name="Regexp-Example"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Search-Case">Search Case</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regexp-Backslash">Regexp Backslash</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.7 Regular Expression Example</h3>

<p>Here is a complicated regexp&#8212;a simplified version of the regexp
that Emacs uses, by default, to recognize the end of a sentence
together with any whitespace that follows.  We show its Lisp syntax to
distinguish the spaces from the tab characters.  In Lisp syntax, the
string constant begins and ends with a double-quote.  `<samp><span class="samp">\"</span></samp>' stands
for a double-quote as part of the regexp, `<samp><span class="samp">\\</span></samp>' for a backslash as
part of the regexp, `<samp><span class="samp">\t</span></samp>' for a tab, and `<samp><span class="samp">\n</span></samp>' for a newline.

</p><pre class="example">     "[.?!][]\"')]*\\($\\| $\\|\t\\|  \\)[ \t\n]*"
</pre>
   <p class="noindent">This contains four parts in succession: a character set matching
period, `<samp><span class="samp">?</span></samp>', or `<samp><span class="samp">!</span></samp>'; a character set matching
close-brackets, quotes, or parentheses, repeated zero or more times; a
set of alternatives within backslash-parentheses that matches either
end-of-line, a space at the end of a line, a tab, or two spaces; and a
character set matching whitespace characters, repeated any number of
times.

   </p><p>To enter the same regexp in incremental search, you would type
&lt;TAB&gt; to enter a tab, and <kbd>C-j</kbd> to enter a newline.  You would
also type single backslashes as themselves, instead of doubling them
for Lisp syntax.  In commands that use ordinary minibuffer input to
read a regexp, you would quote the <kbd>C-j</kbd> by preceding it with a
<kbd>C-q</kbd> to prevent <kbd>C-j</kbd> from exiting the minibuffer.

</p><div class="node">
<p></p><hr>
<a name="Search-Case"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Replace">Replace</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regexp-Example">Regexp Example</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.8 Searching and Case</h3>

<p>Incremental searches in Emacs normally ignore the case of the text
they are searching through, if you specify the text in lower case. 
Thus, if you specify searching for `<samp><span class="samp">foo</span></samp>', then `<samp><span class="samp">Foo</span></samp>' and
`<samp><span class="samp">foo</span></samp>' are also considered a match.  Regexps, and in particular
character sets, are included: `<samp><span class="samp">[ab]</span></samp>' would match `<samp><span class="samp">a</span></samp>' or
`<samp><span class="samp">A</span></samp>' or `<samp><span class="samp">b</span></samp>' or `<samp><span class="samp">B</span></samp>'.

   </p><p>An upper-case letter anywhere in the incremental search string makes
the search case-sensitive.  Thus, searching for `<samp><span class="samp">Foo</span></samp>' does not find
`<samp><span class="samp">foo</span></samp>' or `<samp><span class="samp">FOO</span></samp>'.  This applies to regular expression search as
well as to string search.  The effect ceases if you delete the
upper-case letter from the search string.

   </p><p>Typing <kbd>M-c</kbd> within an incremental search toggles the case
sensitivity of that search.  The effect does not extend beyond the
current incremental search to the next one, but it does override the
effect of including an upper-case letter in the current search.

   </p><p><a name="index-case_002dfold_002dsearch-640"></a><a name="index-default_002dcase_002dfold_002dsearch-641"></a>  If you set the variable <code>case-fold-search</code> to <code>nil</code>, then
all letters must match exactly, including case.  This is a per-buffer
variable; altering the variable affects only the current buffer, but
there is a default value in <code>default-case-fold-search</code> that you
can also set.  See <a href="#Locals">Locals</a>.  This variable applies to nonincremental
searches also, including those performed by the replace commands
(see <a href="#Replace">Replace</a>) and the minibuffer history matching commands
(see <a href="#Minibuffer-History">Minibuffer History</a>).

   </p><p>Several related variables control case-sensitivity of searching and
matching for specific commands or activities.  For instance,
<code>tags-case-fold-search</code> controls case sensitivity for
<code>find-tag</code>.  To find these variables, do <kbd>M-x
apropos-variable &lt;RET&gt; case-fold-search &lt;RET&gt;</kbd>.

</p><div class="node">
<p></p><hr>
<a name="Replace"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Other-Repeating-Search">Other Repeating Search</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Search-Case">Search Case</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.9 Replacement Commands</h3>

<p><a name="index-replacement-642"></a><a name="index-search_002dand_002dreplace-commands-643"></a><a name="index-string-substitution-644"></a><a name="index-global-substitution-645"></a>
  Global search-and-replace operations are not needed often in Emacs,
but they are available.  In addition to the simple <kbd>M-x
replace-string</kbd> command which replaces all occurrences,
there is <kbd>M-%</kbd> (<code>query-replace</code>), which presents each occurrence
of the pattern and asks you whether to replace it.

   </p><p>The replace commands normally operate on the text from point to the
end of the buffer; however, in Transient Mark mode (see <a href="#Transient-Mark">Transient Mark</a>), when the mark is active, they operate on the region.  The
basic replace commands replace one string (or regexp) with one
replacement string.  It is possible to perform several replacements in
parallel using the command <code>expand-region-abbrevs</code>
(see <a href="#Expanding-Abbrevs">Expanding Abbrevs</a>).

</p><ul class="menu">
<li><a accesskey="1" href="#Unconditional-Replace">Unconditional Replace</a>: 	Replacing all matches for a string. 
</li><li><a accesskey="2" href="#Regexp-Replace">Regexp Replace</a>: 		Replacing all matches for a regexp. 
</li><li><a accesskey="3" href="#Replacement-and-Case">Replacement and Case</a>: 	How replacements preserve case of letters. 
</li><li><a accesskey="4" href="#Query-Replace">Query Replace</a>: 		How to use querying. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Unconditional-Replace"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regexp-Replace">Regexp Replace</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Replace">Replace</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Replace">Replace</a>

</div>

<h4 class="subsection">20.9.1 Unconditional Replacement</h4>

<p><a name="index-replace_002dstring-646"></a>
     </p><dl>
<dt><kbd>M-x replace-string &lt;RET&gt; </kbd><var>string</var><kbd> &lt;RET&gt; </kbd><var>newstring</var><kbd> &lt;RET&gt;</kbd></dt><dd>Replace every occurrence of <var>string</var> with <var>newstring</var>. 
</dd></dl>

   <p>To replace every instance of `<samp><span class="samp">foo</span></samp>' after point with `<samp><span class="samp">bar</span></samp>',
use the command <kbd>M-x replace-string</kbd> with the two arguments
`<samp><span class="samp">foo</span></samp>' and `<samp><span class="samp">bar</span></samp>'.  Replacement happens only in the text after
point, so if you want to cover the whole buffer you must go to the
beginning first.  All occurrences up to the end of the buffer are
replaced; to limit replacement to part of the buffer, narrow to that
part of the buffer before doing the replacement (see <a href="#Narrowing">Narrowing</a>). 
In Transient Mark mode, when the region is active, replacement is
limited to the region (see <a href="#Transient-Mark">Transient Mark</a>).

   </p><p>When <code>replace-string</code> exits, it leaves point at the last
occurrence replaced.  It sets the mark to the prior position of point
(where the <code>replace-string</code> command was issued); use <kbd>C-u
C-&lt;SPC&gt;</kbd> to move back there.

   </p><p>A numeric argument restricts replacement to matches that are surrounded
by word boundaries.  The argument's value doesn't matter.

   </p><p>See <a href="#Replacement-and-Case">Replacement and Case</a>, for details about case-sensitivity in
replace commands.

   </p><p>What if you want to exchange `<samp><span class="samp">x</span></samp>' and `<samp><span class="samp">y</span></samp>': replace every `<samp><span class="samp">x</span></samp>' with a `<samp><span class="samp">y</span></samp>' and vice versa?  You can do it this way:

</p><pre class="example">     M-x replace-string &lt;RET&gt; x &lt;RET&gt; @TEMP@ &lt;RET&gt;
     M-&lt; M-x replace-string &lt;RET&gt; y &lt;RET&gt; x &lt;RET&gt;
     M-&lt; M-x replace-string &lt;RET&gt; @TEMP@ &lt;RET&gt; y &lt;RET&gt;
</pre>
   <p class="noindent">This works provided the string `<samp><span class="samp">@TEMP@</span></samp>' does not appear
in your text.

</p><div class="node">
<p></p><hr>
<a name="Regexp-Replace"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Replacement-and-Case">Replacement and Case</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Unconditional-Replace">Unconditional Replace</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Replace">Replace</a>

</div>

<h4 class="subsection">20.9.2 Regexp Replacement</h4>

<p><a name="index-replace_002dregexp-647"></a>
  The <kbd>M-x replace-string</kbd> command replaces exact matches for a
single string.  The similar command <kbd>M-x replace-regexp</kbd> replaces
any match for a specified pattern.

     </p><dl>
<dt><kbd>M-x replace-regexp &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt; </kbd><var>newstring</var><kbd> &lt;RET&gt;</kbd></dt><dd>Replace every match for <var>regexp</var> with <var>newstring</var>. 
</dd></dl>

   <p><a name="index-back-reference_002c-in-regexp-replacement-648"></a>  In <code>replace-regexp</code>, the <var>newstring</var> need not be constant:
it can refer to all or part of what is matched by the <var>regexp</var>. 
`<samp><span class="samp">\&amp;</span></samp>' in <var>newstring</var> stands for the entire match being
replaced.  `<samp><span class="samp">\</span><var>d</var></samp>' in <var>newstring</var>, where <var>d</var> is a
digit, stands for whatever matched the <var>d</var>th parenthesized
grouping in <var>regexp</var>.  (This is called a &#8220;back reference.&#8221;)
`<samp><span class="samp">\#</span></samp>' refers to the count of replacements already made in this
command, as a decimal number.  In the first replacement, `<samp><span class="samp">\#</span></samp>'
stands for `<samp><span class="samp">0</span></samp>'; in the second, for `<samp><span class="samp">1</span></samp>'; and so on.  For
example,

</p><pre class="example">     M-x replace-regexp &lt;RET&gt; c[ad]+r &lt;RET&gt; \&amp;-safe &lt;RET&gt;
</pre>
   <p class="noindent">replaces (for example) `<samp><span class="samp">cadr</span></samp>' with `<samp><span class="samp">cadr-safe</span></samp>' and `<samp><span class="samp">cddr</span></samp>'
with `<samp><span class="samp">cddr-safe</span></samp>'.

</p><pre class="example">     M-x replace-regexp &lt;RET&gt; \(c[ad]+r\)-safe &lt;RET&gt; \1 &lt;RET&gt;
</pre>
   <p class="noindent">performs the inverse transformation.  To include a `<samp><span class="samp">\</span></samp>' in the
text to replace with, you must enter `<samp><span class="samp">\\</span></samp>'.

   </p><p>If you want to enter part of the replacement string by hand each
time, use `<samp><span class="samp">\?</span></samp>' in the replacement string.  Each replacement will
ask you to edit the replacement string in the minibuffer, putting
point where the `<samp><span class="samp">\?</span></samp>' was.

   </p><p>The remainder of this subsection is intended for specialized tasks
and requires knowledge of Lisp.  Most readers can skip it.

   </p><p>You can use Lisp expressions to calculate parts of the
replacement string.  To do this, write `<samp><span class="samp">\,</span></samp>' followed by the
expression in the replacement string.  Each replacement calculates the
value of the expression and converts it to text without quoting (if
it's a string, this means using the string's contents), and uses it in
the replacement string in place of the expression itself.  If the
expression is a symbol, one space in the replacement string after the
symbol name goes with the symbol name, so the value replaces them
both.

   </p><p>Inside such an expression, you can use some special sequences. 
`<samp><span class="samp">\&amp;</span></samp>' and `<samp><span class="samp">\</span><var>n</var></samp>' refer here, as usual, to the entire
match as a string, and to a submatch as a string.  <var>n</var> may be
multiple digits, and the value of `<samp><span class="samp">\</span><var>n</var></samp>' is <code>nil</code> if
subexpression <var>n</var> did not match.  You can also use `<samp><span class="samp">\#&amp;</span></samp>' and
`<samp><span class="samp">\#</span><var>n</var></samp>' to refer to those matches as numbers (this is valid
when the match or submatch has the form of a numeral).  `<samp><span class="samp">\#</span></samp>' here
too stands for the number of already-completed replacements.

   </p><p>Repeating our example to exchange `<samp><span class="samp">x</span></samp>' and `<samp><span class="samp">y</span></samp>', we can thus
do it also this way:

</p><pre class="example">     M-x replace-regexp &lt;RET&gt; \(x\)\|y &lt;RET&gt;
     \,(if \1 "y" "x") &lt;RET&gt;
</pre>
   <p>For computing replacement strings for `<samp><span class="samp">\,</span></samp>', the <code>format</code>
function is often useful (see <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Formatting-Strings">Formatting Strings</a>).  For example, to add consecutively numbered
strings like `<samp><span class="samp">ABC00042</span></samp>' to columns 73 to&nbsp;80<!-- /@w --> (unless they are
already occupied), you can use

</p><pre class="example">     M-x replace-regexp &lt;RET&gt; ^.\{0,72\}$ &lt;RET&gt;
     \,(format "%-72sABC%05d" \&amp; \#) &lt;RET&gt;
</pre>
   <div class="node">
<p></p><hr>
<a name="Replacement-and-Case"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Query-Replace">Query Replace</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regexp-Replace">Regexp Replace</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Replace">Replace</a>

</div>

<h4 class="subsection">20.9.3 Replace Commands and Case</h4>

<p>If the first argument of a replace command is all lower case, the
command ignores case while searching for occurrences to
replace&#8212;provided <code>case-fold-search</code> is non-<code>nil</code>.  If
<code>case-fold-search</code> is set to <code>nil</code>, case is always significant
in all searches.

   </p><p><a name="index-case_002dreplace-649"></a>  In addition, when the <var>newstring</var> argument is all or partly lower
case, replacement commands try to preserve the case pattern of each
occurrence.  Thus, the command

</p><pre class="example">     M-x replace-string &lt;RET&gt; foo &lt;RET&gt; bar &lt;RET&gt;
</pre>
   <p class="noindent">replaces a lower case `<samp><span class="samp">foo</span></samp>' with a lower case `<samp><span class="samp">bar</span></samp>', an
all-caps `<samp><span class="samp">FOO</span></samp>' with `<samp><span class="samp">BAR</span></samp>', and a capitalized `<samp><span class="samp">Foo</span></samp>' with
`<samp><span class="samp">Bar</span></samp>'.  (These three alternatives&#8212;lower case, all caps, and
capitalized, are the only ones that <code>replace-string</code> can
distinguish.)

   </p><p>If upper-case letters are used in the replacement string, they remain
upper case every time that text is inserted.  If upper-case letters are
used in the first argument, the second argument is always substituted
exactly as given, with no case conversion.  Likewise, if either
<code>case-replace</code> or <code>case-fold-search</code> is set to <code>nil</code>,
replacement is done without case conversion.

</p><div class="node">
<p></p><hr>
<a name="Query-Replace"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Replacement-and-Case">Replacement and Case</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Replace">Replace</a>

</div>

<h4 class="subsection">20.9.4 Query Replace</h4>

<p><a name="index-query-replace-650"></a>
     </p><dl>
<dt><kbd>M-% </kbd><var>string</var><kbd> &lt;RET&gt; </kbd><var>newstring</var><kbd> &lt;RET&gt;</kbd></dt><dt><kbd>M-x query-replace &lt;RET&gt; </kbd><var>string</var><kbd> &lt;RET&gt; </kbd><var>newstring</var><kbd> &lt;RET&gt;</kbd></dt><dd>Replace some occurrences of <var>string</var> with <var>newstring</var>. 
<br></dd><dt><kbd>C-M-% </kbd><var>regexp</var><kbd> &lt;RET&gt; </kbd><var>newstring</var><kbd> &lt;RET&gt;</kbd></dt><dt><kbd>M-x query-replace-regexp &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt; </kbd><var>newstring</var><kbd> &lt;RET&gt;</kbd></dt><dd>Replace some matches for <var>regexp</var> with <var>newstring</var>. 
</dd></dl>

   <p><a name="index-M_002d_0025-651"></a><a name="index-query_002dreplace-652"></a>  If you want to change only some of the occurrences of `<samp><span class="samp">foo</span></samp>' to
`<samp><span class="samp">bar</span></samp>', not all of them, then you cannot use an ordinary
<code>replace-string</code>.  Instead, use <kbd>M-%</kbd> (<code>query-replace</code>). 
This command finds occurrences of `<samp><span class="samp">foo</span></samp>' one by one, displays each
occurrence and asks you whether to replace it.  Aside from querying,
<code>query-replace</code> works just like <code>replace-string</code>.  It
preserves case, like <code>replace-string</code>, provided
<code>case-replace</code> is non-<code>nil</code>, as it normally is
(see <a href="#Replacement-and-Case">Replacement and Case</a>).  A numeric argument means consider
only occurrences that are bounded by word-delimiter characters.

   </p><p><a name="index-C_002dM_002d_0025-653"></a><a name="index-query_002dreplace_002dregexp-654"></a>  <kbd>C-M-%</kbd> performs regexp search and replace (<code>query-replace-regexp</code>). 
It works like <code>replace-regexp</code> except that it queries
like <code>query-replace</code>.

   </p><p><a name="index-faces-for-highlighting-query-replace-655"></a>  These commands highlight the current match using the face
<code>query-replace</code>.  They highlight other matches using
<code>lazy-highlight</code> just like incremental search (see <a href="#Incremental-Search">Incremental Search</a>).

   </p><p>The characters you can type when you are shown a match for the string
or regexp are:

<!-- WideCommands -->
</p><dl>
<dt><kbd>&lt;SPC&gt;</kbd></dt><dd>to replace the occurrence with <var>newstring</var>.

     <br></dd><dt><kbd>&lt;DEL&gt;</kbd></dt><dd>to skip to the next occurrence without replacing this one.

     <br></dd><dt><kbd>, </kbd><span class="roman">(Comma)</span></dt><dd>to replace this occurrence and display the result.  You are then asked
for another input character to say what to do next.  Since the
replacement has already been made, &lt;DEL&gt; and &lt;SPC&gt; are
equivalent in this situation; both move to the next occurrence.

     <p>You can type <kbd>C-r</kbd> at this point (see below) to alter the replaced
text.  You can also type <kbd>C-x u</kbd> to undo the replacement; this exits
the <code>query-replace</code>, so if you want to do further replacement you
must use <kbd>C-x &lt;ESC&gt; &lt;ESC&gt; &lt;RET&gt;</kbd> to restart
(see <a href="#Repetition">Repetition</a>).

     <br></p></dd><dt><kbd>&lt;RET&gt;</kbd></dt><dd>to exit without doing any more replacements.

     <br></dd><dt><kbd>. </kbd><span class="roman">(Period)</span></dt><dd>to replace this occurrence and then exit without searching for more
occurrences.

     <br></dd><dt><kbd>!</kbd></dt><dd>to replace all remaining occurrences without asking again.

     <br></dd><dt><kbd>^</kbd></dt><dd>to go back to the position of the previous occurrence (or what used to
be an occurrence), in case you changed it by mistake or want to
reexamine it.

     <br></dd><dt><kbd>C-r</kbd></dt><dd>to enter a recursive editing level, in case the occurrence needs to be
edited rather than just replaced with <var>newstring</var>.  When you are
done, exit the recursive editing level with <kbd>C-M-c</kbd> to proceed to
the next occurrence.  See <a href="#Recursive-Edit">Recursive Edit</a>.

     <br></dd><dt><kbd>C-w</kbd></dt><dd>to delete the occurrence, and then enter a recursive editing level as in
<kbd>C-r</kbd>.  Use the recursive edit to insert text to replace the deleted
occurrence of <var>string</var>.  When done, exit the recursive editing level
with <kbd>C-M-c</kbd> to proceed to the next occurrence.

     <br></dd><dt><kbd>e</kbd></dt><dd>to edit the replacement string in the minibuffer.  When you exit the
minibuffer by typing &lt;RET&gt;, the minibuffer contents replace the
current occurrence of the pattern.  They also become the new
replacement string for any further occurrences.

     <br></dd><dt><kbd>C-l</kbd></dt><dd>to redisplay the screen.  Then you must type another character to
specify what to do with this occurrence.

     <br></dd><dt><kbd>C-h</kbd></dt><dd>to display a message summarizing these options.  Then you must type
another character to specify what to do with this occurrence. 
</dd></dl>

   <p>Some other characters are aliases for the ones listed above: <kbd>y</kbd>,
<kbd>n</kbd> and <kbd>q</kbd> are equivalent to &lt;SPC&gt;, &lt;DEL&gt; and
&lt;RET&gt;.

   </p><p>Aside from this, any other character exits the <code>query-replace</code>,
and is then reread as part of a key sequence.  Thus, if you type
<kbd>C-k</kbd>, it exits the <code>query-replace</code> and then kills to end of
line.

   </p><p>To restart a <code>query-replace</code> once it is exited, use <kbd>C-x
&lt;ESC&gt; &lt;ESC&gt;</kbd>, which repeats the <code>query-replace</code> because it
used the minibuffer to read its arguments.  See <a href="#Repetition">C-x ESC ESC</a>.

   </p><p>See <a href="#Operating-on-Files">Operating on Files</a>, for the Dired <kbd>Q</kbd> command which
performs query replace on selected files.  See also <a href="#Transforming-File-Names">Transforming File Names</a>, for Dired commands to rename, copy, or link files by
replacing regexp matches in file names.

</p><div class="node">
<p></p><hr>
<a name="Other-Repeating-Search"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Replace">Replace</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Search">Search</a>

</div>

<h3 class="section">20.10 Other Search-and-Loop Commands</h3>

<p>Here are some other commands that find matches for a regular
expression.  They all ignore case in matching, if the pattern contains
no upper-case letters and <code>case-fold-search</code> is non-<code>nil</code>. 
Aside from <code>occur</code> and its variants, all operate on the text from
point to the end of the buffer, or on the active region in Transient
Mark mode.

   </p><p><a name="index-list_002dmatching_002dlines-656"></a><a name="index-occur-657"></a><a name="index-multi_002doccur-658"></a><a name="index-multi_002doccur_002din_002dmatching_002dbuffers-659"></a><a name="index-how_002dmany-660"></a><a name="index-delete_002dnon_002dmatching_002dlines-661"></a><a name="index-delete_002dmatching_002dlines-662"></a><a name="index-flush_002dlines-663"></a><a name="index-keep_002dlines-664"></a>
     </p><dl>
<dt><kbd>M-x occur &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd></dt><dd>Display a list showing each line in the buffer that contains a match
for <var>regexp</var>.  To limit the search to part of the buffer, narrow
to that part (see <a href="#Narrowing">Narrowing</a>).  A numeric argument <var>n</var>
specifies that <var>n</var> lines of context are to be displayed before and
after each matching line.  Currently, <code>occur</code> can not correctly
handle multiline matches.

     <p><a name="index-RET-_0040r_007b_0028Occur-mode_0029_007d-665"></a><a name="index-o-_0040r_007b_0028Occur-mode_0029_007d-666"></a><a name="index-C_002do-_0040r_007b_0028Occur-mode_0029_007d-667"></a>The buffer `<samp><span class="samp">*Occur*</span></samp>' containing the output serves as a menu for
finding the occurrences in their original context.  Click
<kbd>Mouse-2</kbd> on an occurrence listed in `<samp><span class="samp">*Occur*</span></samp>', or position
point there and type &lt;RET&gt;; this switches to the buffer that was
searched and moves point to the original of the chosen occurrence. 
<kbd>o</kbd> and <kbd>C-o</kbd> display the match in another window; <kbd>C-o</kbd>
does not select it.

     </p><p>After using <kbd>M-x occur</kbd>, you can use <code>next-error</code> to visit
the occurrences found, one by one.  <a href="#Compilation-Mode">Compilation Mode</a>.

     <br></p></dd><dt><kbd>M-x list-matching-lines</kbd></dt><dd>Synonym for <kbd>M-x occur</kbd>.

     <br></dd><dt><kbd>M-x multi-occur &lt;RET&gt; </kbd><var>buffers</var><kbd> &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd></dt><dd>This function is just like <code>occur</code>, except it is able to search
through multiple buffers.  It asks you to specify the buffer names one by one.

     <br></dd><dt><kbd>M-x multi-occur-in-matching-buffers &lt;RET&gt; </kbd><var>bufregexp</var><kbd> &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd></dt><dd>This function is similar to <code>multi-occur</code>, except the buffers to
search are specified by a regular expression that matches visited
file names.  With a prefix argument, it uses the regular expression to match
buffer names instead.

     <br></dd><dt><kbd>M-x how-many &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd></dt><dd>Print the number of matches for <var>regexp</var> that exist in the buffer
after point.  In Transient Mark mode, if the region is active, the
command operates on the region instead.

     <br></dd><dt><kbd>M-x flush-lines &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd></dt><dd>This command deletes each line that contains a match for <var>regexp</var>,
operating on the text after point; it deletes the current line
if it contains a match starting after point.  In Transient Mark mode,
if the region is active, the command operates on the region instead;
it deletes a line partially contained in the region if it contains a
match entirely contained in the region.

     <p>If a match is split across lines, <code>flush-lines</code> deletes all those
lines.  It deletes the lines before starting to look for the next
match; hence, it ignores a match starting on the same line at which
another match ended.

     <br></p></dd><dt><kbd>M-x keep-lines &lt;RET&gt; </kbd><var>regexp</var><kbd> &lt;RET&gt;</kbd></dt><dd>This command deletes each line that <em>does not</em> contain a match for
<var>regexp</var>, operating on the text after point; if point is not at the
beginning of a line, it always keeps the current line.  In Transient
Mark mode, if the region is active, the command operates on the region
instead; it never deletes lines that are only partially contained in
the region (a newline that ends a line counts as part of that line).

     <p>If a match is split across lines, this command keeps all those lines. 
</p></dd></dl>

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2001, 2002, -->
<!-- 2003, 2004, 2005, 2006, 2007  Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
<div class="node">
<p></p><hr>
<a name="Fixit"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Keyboard-Macros">Keyboard Macros</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Search">Search</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">21 Commands for Fixing Typos</h2>

<p><a name="index-typos_002c-fixing-668"></a><a name="index-mistakes_002c-correcting-669"></a>
  In this chapter we describe the commands that are especially useful for
the times when you catch a mistake in your text just after you have made
it, or change your mind while composing text on the fly.

   </p><p>The most fundamental command for correcting erroneous editing is the
undo command, <kbd>C-x u</kbd> or <kbd>C-_</kbd> or <kbd>C-/</kbd>.  This command
undoes a single command (usually), a part of a command (in the case of
<code>query-replace</code>), or several consecutive self-inserting
characters.  Consecutive repetitions of the undo command undo earlier
and earlier changes, back to the limit of the undo information
available.  See <a href="#Undo">Undo</a>, for more information.

</p><ul class="menu">
<li><a accesskey="1" href="#Undo">Undo</a>:         The Undo commands. 
</li><li><a accesskey="2" href="#Kill-Errors">Kill Errors</a>:  Commands to kill a batch of recently entered text. 
</li><li><a accesskey="3" href="#Transpose">Transpose</a>:    Exchanging two characters, words, lines, lists... 
</li><li><a accesskey="4" href="#Fixing-Case">Fixing Case</a>:  Correcting case of last word entered. 
</li><li><a accesskey="5" href="#Spelling">Spelling</a>:     Apply spelling checker to a word, or a whole file. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Undo"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Kill-Errors">Kill Errors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Fixit">Fixit</a>

</div>

<h3 class="section">21.1 Undo</h3>

<p><a name="index-undo-670"></a><a name="index-changes_002c-undoing-671"></a>
  The <dfn>undo</dfn> commands undo recent changes in the buffer's text. 
Each buffer records changes individually, and the undo command always
applies to the current buffer.  You can undo all the changes in a
buffer for as far as back these records go.  Usually each editing
command makes a separate entry in the undo records, but some commands
such as <code>query-replace</code> divide their changes into multiple
entries for flexibility in undoing.  Meanwhile, self-inserting
characters are usually grouped to make undoing less tedious.

     </p><dl>
<dt><kbd>C-x u</kbd></dt><dt><kbd>C-_</kbd></dt><dt><kbd>C-/</kbd></dt><dd>Undo one entry in the current buffer's undo records (<code>undo</code>). 
</dd></dl>

   <p><a name="index-C_002dx-u-672"></a><a name="index-C_002d_005f-673"></a><a name="index-C_002d_002f-674"></a><a name="index-undo-675"></a>  To begin to undo, type the command <kbd>C-x u</kbd> (or its aliases,
<kbd>C-_</kbd> or <kbd>C-/</kbd>).  This undoes the most recent change in the
buffer, and moves point back to where it was before that change.

   </p><p>Consecutive repetitions of <kbd>C-x u</kbd> (or its aliases) undo earlier
and earlier changes in the current buffer, back to the limit of the
current buffer's undo records.  If all the recorded changes have
already been undone, the undo command just signals an error.

   </p><p>If you notice that a buffer has been modified accidentally, the
easiest way to recover is to type <kbd>C-_</kbd> repeatedly until the stars
disappear from the front of the mode line.  At this time, all the
modifications you made have been canceled.  Whenever an undo command
makes the stars disappear from the mode line, it means that the buffer
contents are the same as they were when the file was last read in or
saved.

   </p><p>If you do not remember whether you changed the buffer deliberately,
type <kbd>C-_</kbd> once.  When you see the last change you made undone, you
will see whether it was an intentional change.  If it was an accident,
leave it undone.  If it was deliberate, redo the change as described
below.

   </p><p><a name="index-undo_002donly-676"></a>  Any command other than an undo command breaks the sequence of undo
commands.  Starting from that moment, the previous undo commands
become ordinary changes that you can undo.  Thus, to redo changes you
have undone, type <kbd>C-f</kbd> or any other command that will harmlessly
break the sequence of undoing, then type undo commands again.  On the
other hand, if you want to resume undoing, without redoing previous
undo commands, use <kbd>M-x undo-only</kbd>.  This is like <code>undo</code>, but
will not redo changes you have just undone.

   </p><p><a name="index-selective-undo-677"></a><a name="index-C_002du-C_002dx-u-678"></a>  Ordinary undo applies to all changes made in the current buffer.  You
can also perform <dfn>selective undo</dfn>, limited to the region.

   </p><p>To do this, specify the region you want, then run the <code>undo</code>
command with a prefix argument (the value does not matter): <kbd>C-u
C-x u</kbd> or <kbd>C-u C-_</kbd>.  This undoes the most recent change in the
region.  To undo further changes in the same region, repeat the
<code>undo</code> command (no prefix argument is needed).  In Transient Mark
mode (see <a href="#Transient-Mark">Transient Mark</a>), any use of <code>undo</code> when there is an
active region performs selective undo; you do not need a prefix
argument.

   </p><p>Some specialized buffers do not make undo records.  Buffers
whose names start with spaces never do; these buffers are used
internally by Emacs and its extensions to hold text that users don't
normally look at or edit.

   </p><p><a name="index-undo_002dlimit-679"></a><a name="index-undo_002dstrong_002dlimit-680"></a><a name="index-undo_002douter_002dlimit-681"></a><a name="index-undo-limit-682"></a>  When the undo records for a buffer becomes too large, Emacs
discards the oldest undo records from time to time (during garbage
collection).  You can specify how much undo records to keep by
setting three variables: <code>undo-limit</code>, <code>undo-strong-limit</code>,
and <code>undo-outer-limit</code>.  Their values are expressed in units of
bytes of space.

   </p><p>The variable <code>undo-limit</code> sets a soft limit: Emacs keeps undo
data for enough commands to reach this size, and perhaps exceed it,
but does not keep data for any earlier commands beyond that.  Its
default value is 20000.  The variable <code>undo-strong-limit</code> sets a
stricter limit: a previous command (not the most recent one) which
pushes the size past this amount is itself forgotten.  The default
value of <code>undo-strong-limit</code> is 30000.

   </p><p>Regardless of the values of those variables, the most recent change
is never discarded unless it gets bigger than <code>undo-outer-limit</code>
(normally 3,000,000).  At that point, Emacs discards the undo data and
warns you about it.  This is the only situation in which you cannot
undo the last command.  If this happens, you can increase the value of
<code>undo-outer-limit</code> to make it even less likely to happen in the
future.  But if you didn't expect the command to create such large
undo data, then it is probably a bug and you should report it. 
See <a href="#Bugs">Reporting Bugs</a>.

   </p><p>The reason the <code>undo</code> command has three key bindings, <kbd>C-x
u</kbd>, <kbd>C-_</kbd> and <kbd>C-/</kbd>, is that it is worthy of a
single-character key, but <kbd>C-x u</kbd> is more straightforward for
beginners to remember and type.  Meanwhile, <kbd>C--</kbd> on a text-only
terminal is really <kbd>C-_</kbd>, which makes it a natural and easily
typed binding for undoing.

</p><div class="node">
<p></p><hr>
<a name="Kill-Errors"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Transpose">Transpose</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Undo">Undo</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Fixit">Fixit</a>

</div>

<h3 class="section">21.2 Killing Your Mistakes</h3>

     <dl>
<dt><kbd>&lt;DEL&gt;</kbd></dt><dd>Delete last character (<code>delete-backward-char</code>). 
<br></dd><dt><kbd>M-&lt;DEL&gt;</kbd></dt><dd>Kill last word (<code>backward-kill-word</code>). 
<br></dd><dt><kbd>C-x &lt;DEL&gt;</kbd></dt><dd>Kill to beginning of sentence (<code>backward-kill-sentence</code>). 
</dd></dl>

   <p>The &lt;DEL&gt; character (<code>delete-backward-char</code>) is the most
important correction command.  It deletes the character before point. 
When &lt;DEL&gt; follows a self-inserting character command, you can think
of it as canceling that command.  However, avoid the confusion of thinking
of &lt;DEL&gt; as a general way to cancel a command!

   </p><p>When your mistake is longer than a couple of characters, it might be
more convenient to use <kbd>M-&lt;DEL&gt;</kbd> or <kbd>C-x &lt;DEL&gt;</kbd>. 
<kbd>M-&lt;DEL&gt;</kbd> kills back to the start of the last word, and <kbd>C-x
&lt;DEL&gt;</kbd> kills back to the start of the last sentence.  <kbd>C-x
&lt;DEL&gt;</kbd> is particularly useful when you change your mind about the
phrasing of the text you are writing.  <kbd>M-&lt;DEL&gt;</kbd> and <kbd>C-x
&lt;DEL&gt;</kbd> save the killed text for <kbd>C-y</kbd> and <kbd>M-y</kbd> to
retrieve.  See <a href="#Yanking">Yanking</a>.

   </p><p><kbd>M-&lt;DEL&gt;</kbd> is often useful even when you have typed only a few
characters wrong, if you know you are confused in your typing and aren't
sure exactly what you typed.  At such a time, you cannot correct with
&lt;DEL&gt; except by looking at the screen to see what you did.  Often it
requires less thought to kill the whole word and start again.

</p><div class="node">
<p></p><hr>
<a name="Transpose"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Fixing-Case">Fixing Case</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Kill-Errors">Kill Errors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Fixit">Fixit</a>

</div>

<h3 class="section">21.3 Transposing Text</h3>

     <dl>
<dt><kbd>C-t</kbd></dt><dd>Transpose two characters (<code>transpose-chars</code>). 
<br></dd><dt><kbd>M-t</kbd></dt><dd>Transpose two words (<code>transpose-words</code>). 
<br></dd><dt><kbd>C-M-t</kbd></dt><dd>Transpose two balanced expressions (<code>transpose-sexps</code>). 
<br></dd><dt><kbd>C-x C-t</kbd></dt><dd>Transpose two lines (<code>transpose-lines</code>). 
</dd></dl>

   <p><a name="index-C_002dt-683"></a><a name="index-transpose_002dchars-684"></a>  The common error of transposing two characters can be fixed, when they
are adjacent, with the <kbd>C-t</kbd> command (<code>transpose-chars</code>).  Normally,
<kbd>C-t</kbd> transposes the two characters on either side of point.  When
given at the end of a line, rather than transposing the last character of
the line with the newline, which would be useless, <kbd>C-t</kbd> transposes the
last two characters on the line.  So, if you catch your transposition error
right away, you can fix it with just a <kbd>C-t</kbd>.  If you don't catch it so
fast, you must move the cursor back between the two transposed
characters before you type <kbd>C-t</kbd>.  If you transposed a space with
the last character of the word before it, the word motion commands are
a good way of getting there.  Otherwise, a reverse search (<kbd>C-r</kbd>)
is often the best way.  See <a href="#Search">Search</a>.

   </p><p><a name="index-C_002dx-C_002dt-685"></a><a name="index-transpose_002dlines-686"></a><a name="index-M_002dt-687"></a><a name="index-transpose_002dwords-688"></a><!-- Don't index C-M-t and transpose-sexps here, they are indexed in -->
<!-- programs.texi, in the "List Commands" node. -->
<!-- @kindex C-M-t -->
<!-- @findex transpose-sexps -->
  <kbd>M-t</kbd> transposes the word before point with the word after point
(<code>transpose-words</code>).  It moves point forward over a word,
dragging the word preceding or containing point forward as well.  The
punctuation characters between the words do not move.  For example,
`<samp><span class="samp">FOO,&nbsp;BAR</span></samp>'<!-- /@w --> transposes into `<samp><span class="samp">BAR,&nbsp;FOO</span></samp>'<!-- /@w --> rather than
`<samp><span class="samp">BAR&nbsp;FOO,<!-- /@w --></span></samp>'.

   </p><p><kbd>C-M-t</kbd> (<code>transpose-sexps</code>) is a similar command for
transposing two expressions (see <a href="#Expressions">Expressions</a>), and <kbd>C-x C-t</kbd>
(<code>transpose-lines</code>) exchanges lines.  They work like <kbd>M-t</kbd>
except as regards what units of text they transpose.

   </p><p>A numeric argument to a transpose command serves as a repeat count: it
tells the transpose command to move the character (word, expression, line)
before or containing point across several other characters (words,
expressions, lines).  For example, <kbd>C-u 3 C-t</kbd> moves the character before
point forward across three other characters.  It would change
`<samp><span class="samp">f-!-oobar</span></samp>' into `<samp><span class="samp">oobf-!-ar</span></samp>'.  This is equivalent to
repeating <kbd>C-t</kbd> three times.  <kbd>C-u - 4 M-t</kbd> moves the word
before point backward across four words.  <kbd>C-u - C-M-t</kbd> would cancel
the effect of plain <kbd>C-M-t</kbd>.

   </p><p>A numeric argument of zero is assigned a special meaning (because
otherwise a command with a repeat count of zero would do nothing): to
transpose the character (word, expression, line) ending after point
with the one ending after the mark.

</p><div class="node">
<p></p><hr>
<a name="Fixing-Case"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Spelling">Spelling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transpose">Transpose</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Fixit">Fixit</a>

</div>

<h3 class="section">21.4 Case Conversion</h3>

     <dl>
<dt><kbd>M-- M-l</kbd></dt><dd>Convert last word to lower case.  Note <kbd>Meta--</kbd> is Meta-minus. 
<br></dd><dt><kbd>M-- M-u</kbd></dt><dd>Convert last word to all upper case. 
<br></dd><dt><kbd>M-- M-c</kbd></dt><dd>Convert last word to lower case with capital initial. 
</dd></dl>

   <p><a name="index-M_002d_0040t_007b_002d_007d-M_002dl-689"></a><a name="index-M_002d_0040t_007b_002d_007d-M_002du-690"></a><a name="index-M_002d_0040t_007b_002d_007d-M_002dc-691"></a>  A very common error is to type words in the wrong case.  Because of this,
the word case-conversion commands <kbd>M-l</kbd>, <kbd>M-u</kbd> and <kbd>M-c</kbd> have a
special feature when used with a negative argument: they do not move the
cursor.  As soon as you see you have mistyped the last word, you can simply
case-convert it and go on typing.  See <a href="#Case">Case</a>.

</p><div class="node">
<p></p><hr>
<a name="Spelling"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Fixing-Case">Fixing Case</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Fixit">Fixit</a>

</div>

<h3 class="section">21.5 Checking and Correcting Spelling</h3>

<p><a name="index-spelling_002c-checking-and-correcting-692"></a><a name="index-checking-spelling-693"></a><a name="index-correcting-spelling-694"></a>
  This section describes the commands to check the spelling of a single
word or of a portion of a buffer.  These commands work with the spelling
checker programs Aspell and Ispell, which are not part of Emacs. 
See the <a href="http://aspell.net/man-html/index.html">Aspell manual</a>.

     </p><dl>
<dt><kbd>M-x flyspell-mode</kbd></dt><dd>Enable Flyspell mode, which highlights all misspelled words. 
<br></dd><dt><kbd>M-x flyspell-prog-mode</kbd></dt><dd>Enable Flyspell mode for comments and strings only. 
<br></dd><dt><kbd>M-$</kbd></dt><dd>Check and correct spelling of the word at point (<code>ispell-word</code>). 
<br></dd><dt><kbd>M-&lt;TAB&gt;</kbd></dt><dt><kbd>&lt;ESC&gt; &lt;TAB&gt;</kbd></dt><dd>Complete the word before point based on the spelling dictionary
(<code>ispell-complete-word</code>). 
<br></dd><dt><kbd>M-x ispell</kbd></dt><dd>Spell-check the active region or the current buffer. 
<br></dd><dt><kbd>M-x ispell-buffer</kbd></dt><dd>Check and correct spelling of each word in the buffer. 
<br></dd><dt><kbd>M-x ispell-region</kbd></dt><dd>Check and correct spelling of each word in the region. 
<br></dd><dt><kbd>M-x ispell-message</kbd></dt><dd>Check and correct spelling of each word in a draft mail message,
excluding cited material. 
<br></dd><dt><kbd>M-x ispell-change-dictionary &lt;RET&gt; </kbd><var>dict</var><kbd> &lt;RET&gt;</kbd></dt><dd>Restart the Aspell or Ispell process, using <var>dict</var> as the dictionary. 
<br></dd><dt><kbd>M-x ispell-kill-ispell</kbd></dt><dd>Kill the Aspell or Ispell subprocess. 
</dd></dl>

   <p><a name="index-Flyspell-mode-695"></a><a name="index-flyspell_002dmode-696"></a>  Flyspell mode is a fully-automatic way to check spelling as you edit
in Emacs.  It operates by checking words as you change or insert them. 
When it finds a word that it does not recognize, it highlights that
word.  This does not interfere with your editing, but when you see the
highlighted word, you can move to it and fix it.  Type <kbd>M-x
flyspell-mode</kbd> to enable or disable this mode in the current buffer.

   </p><p>When Flyspell mode highlights a word as misspelled, you can click on
it with <kbd>Mouse-2</kbd> to display a menu of possible corrections and
actions.  You can also correct the word by editing it manually in any
way you like.

   </p><p><a name="index-flyspell_002dprog_002dmode-697"></a>Flyspell Prog mode works just like ordinary Flyspell mode, except that
it only checks words in comments and string constants.  This feature
is useful for editing programs.  Type <kbd>M-x flyspell-prog-mode</kbd> to
enable or disable this mode in the current buffer.

   </p><p>The other Emacs spell-checking features check or look up words when
you give an explicit command to do so.

   </p><p><a name="index-M_002d_0024-698"></a><a name="index-ispell_002dword-699"></a>  To check the spelling of the word around or before point, and
optionally correct it as well, use the command <kbd>M-$</kbd>
(<code>ispell-word</code>).  If the word is not correct, the command offers
you various alternatives for what to do about it.

   </p><p><a name="index-ispell_002dbuffer-700"></a><a name="index-ispell_002dregion-701"></a>  To check the entire current buffer, use <kbd>M-x ispell-buffer</kbd>.  Use
<kbd>M-x ispell-region</kbd> to check just the current region.  To check
spelling in an email message you are writing, use <kbd>M-x
ispell-message</kbd>; that command checks the whole buffer, except for
material that is indented or appears to be cited from other messages.

   </p><p><a name="index-ispell-702"></a><a name="index-spell_002dchecking-the-active-region-703"></a>  The <kbd>M-x ispell</kbd> command spell-checks the active region if the
Transient Mark mode is on (see <a href="#Transient-Mark">Transient Mark</a>), otherwise it
spell-checks the current buffer.

   </p><p>Each time these commands encounter an incorrect word, they ask you
what to do.  They display a list of alternatives, usually including
several &#8220;near-misses&#8221;&#8212;words that are close to the word being
checked.  Then you must type a single-character response.  Here are
the valid responses:

     </p><dl>
<dt><kbd>&lt;SPC&gt;</kbd></dt><dd>Skip this word&#8212;continue to consider it incorrect, but don't change it
here.

     <br></dd><dt><kbd>r </kbd><var>new</var><kbd> &lt;RET&gt;</kbd></dt><dd>Replace the word (just this time) with <var>new</var>.  (The replacement
string will be rescanned for more spelling errors.)

     <br></dd><dt><kbd>R </kbd><var>new</var><kbd> &lt;RET&gt;</kbd></dt><dd>Replace the word with <var>new</var>, and do a <code>query-replace</code> so you
can replace it elsewhere in the buffer if you wish.  (The replacements
will be rescanned for more spelling errors.)

     <br></dd><dt><var>digit</var></dt><dd>Replace the word (just this time) with one of the displayed
near-misses.  Each near-miss is listed with a digit; type that digit to
select it.

     <br></dd><dt><kbd>a</kbd></dt><dd>Accept the incorrect word&#8212;treat it as correct, but only in this
editing session.

     <br></dd><dt><kbd>A</kbd></dt><dd>Accept the incorrect word&#8212;treat it as correct, but only in this
editing session and for this buffer.

     <br></dd><dt><kbd>i</kbd></dt><dd>Insert this word in your private dictionary file so that Aspell or Ispell will
consider it correct from now on, even in future sessions.

     <br></dd><dt><kbd>u</kbd></dt><dd>Insert the lower-case version of this word in your private dictionary
file.

     <br></dd><dt><kbd>m</kbd></dt><dd>Like <kbd>i</kbd>, but you can also specify dictionary completion
information.

     <br></dd><dt><kbd>l </kbd><var>word</var><kbd> &lt;RET&gt;</kbd></dt><dd>Look in the dictionary for words that match <var>word</var>.  These words
become the new list of &#8220;near-misses&#8221;; you can select one of them as
the replacement by typing a digit.  You can use `<samp><span class="samp">*</span></samp>' in <var>word</var> as a
wildcard.

     <br></dd><dt><kbd>C-g</kbd></dt><dd>Quit interactive spell checking, leaving point at the word that was
being checked.  You can restart checking again afterward with <kbd>C-u
M-$</kbd>.

     <br></dd><dt><kbd>X</kbd></dt><dd>Same as <kbd>C-g</kbd>.

     <br></dd><dt><kbd>x</kbd></dt><dd>Quit interactive spell checking and move point back to where it was
when you started spell checking.

     <br></dd><dt><kbd>q</kbd></dt><dd>Quit interactive spell checking and kill the Ispell subprocess.

     <br></dd><dt><kbd>C-l</kbd></dt><dd>Refresh the screen.

     <br></dd><dt><kbd>C-z</kbd></dt><dd>This key has its normal command meaning (suspend Emacs or iconify this
frame).

     <br></dd><dt><kbd>?</kbd></dt><dd>Show the list of options. 
</dd></dl>

   <p><a name="index-ispell_002dcomplete_002dword-704"></a>  The command <code>ispell-complete-word</code>, which is bound to the key
<kbd>M-&lt;TAB&gt;</kbd> in Text mode and related modes, shows a list of
completions based on spelling correction.  Insert the beginning of a
word, and then type <kbd>M-&lt;TAB&gt;</kbd>; the command displays a
completion list window.  (If your window manager intercepts
<kbd>M-&lt;TAB&gt;</kbd>, type <kbd>&lt;ESC&gt; &lt;TAB&gt;</kbd> or <kbd>C-M-i</kbd>.)  To
choose one of the completions listed, click <kbd>Mouse-2</kbd> or
<kbd>Mouse-1</kbd> fast on it, or move the cursor there in the completions
window and type &lt;RET&gt;.  See <a href="#Text-Mode">Text Mode</a>.

   </p><p><a name="index-g_t_0040code_007bispell_007d-program-705"></a><a name="index-ispell_002dkill_002dispell-706"></a>  Once started, the Aspell or Ispell subprocess continues to run
(waiting for something to do), so that subsequent spell checking
commands complete more quickly.  If you want to get rid of the
process, use <kbd>M-x ispell-kill-ispell</kbd>.  This is not usually
necessary, since the process uses no time except when you do spelling
correction.

   </p><p><a name="index-ispell_002ddictionary-707"></a>  Ispell and Aspell use two dictionaries together for spell checking: the
standard dictionary and your private dictionary.  The variable
<code>ispell-dictionary</code> specifies the file name to use for the
standard dictionary; a value of <code>nil</code> selects the default
dictionary.  The command <kbd>M-x ispell-change-dictionary</kbd> sets this
variable and then restarts the subprocess, so that it will use
a different standard dictionary.

   </p><p><a name="index-ispell_002dcomplete_002dword_002ddict-708"></a>  Aspell and Ispell use a separate dictionary for word completion. 
The variable <code>ispell-complete-word-dict</code> specifies the file name
of this dictionary.  The completion dictionary must be different
because it cannot use root and affix information.  For some languages
there is a spell checking dictionary but no word completion
dictionary.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 2000, 2001, -->
<!-- 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
</p><div class="node">
<p></p><hr>
<a name="Keyboard-Macros"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Files">Files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Fixit">Fixit</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">22 Keyboard Macros</h2>

<p><a name="index-defining-keyboard-macros-709"></a><a name="index-keyboard-macro-710"></a>
  In this chapter we describe how to record a sequence of editing
commands so you can repeat it conveniently later.

   </p><p>A <dfn>keyboard macro</dfn> is a command defined by an Emacs user to stand for
another sequence of keys.  For example, if you discover that you are
about to type <kbd>C-n M-d C-d</kbd> forty times, you can speed your work by
defining a keyboard macro to do <kbd>C-n M-d C-d</kbd>, and then executing
it 39 more times.

   </p><p>You define a keyboard macro by executing and recording the commands
which are its definition.  Put differently, as you define a keyboard
macro, the definition is being executed for the first time.  This way,
you can see the effects of your commands, so that you don't have to
figure them out in your head.  When you close the definition, the
keyboard macro is defined and also has been, in effect, executed once. 
You can then do the whole thing over again by invoking the macro.

   </p><p>Keyboard macros differ from ordinary Emacs commands in that they are
written in the Emacs command language rather than in Lisp.  This makes it
easier for the novice to write them, and makes them more convenient as
temporary hacks.  However, the Emacs command language is not powerful
enough as a programming language to be useful for writing anything
intelligent or general.  For such things, Lisp must be used.

</p><ul class="menu">
<li><a accesskey="1" href="#Basic-Keyboard-Macro">Basic Keyboard Macro</a>:      Defining and running keyboard macros. 
</li><li><a accesskey="2" href="#Keyboard-Macro-Ring">Keyboard Macro Ring</a>:       Where previous keyboard macros are saved. 
</li><li><a accesskey="3" href="#Keyboard-Macro-Counter">Keyboard Macro Counter</a>:    Inserting incrementing numbers in macros. 
</li><li><a accesskey="4" href="#Keyboard-Macro-Query">Keyboard Macro Query</a>:      Making keyboard macros do different things each time. 
</li><li><a accesskey="5" href="#Save-Keyboard-Macro">Save Keyboard Macro</a>:       Giving keyboard macros names; saving them in files. 
</li><li><a accesskey="6" href="#Edit-Keyboard-Macro">Edit Keyboard Macro</a>:       Editing keyboard macros. 
</li><li><a accesskey="7" href="#Keyboard-Macro-Step_002dEdit">Keyboard Macro Step-Edit</a>:  Interactively executing and editing a keyboard
                               macro. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Basic-Keyboard-Macro"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Keyboard-Macro-Ring">Keyboard Macro Ring</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Keyboard-Macros">Keyboard Macros</a>

</div>

<h3 class="section">22.1 Basic Use</h3>

     <dl>
<dt><kbd>&lt;F3&gt;</kbd></dt><dt><kbd>C-x (</kbd></dt><dd>Start defining a keyboard macro (<code>kmacro-start-macro</code>). 
<br></dd><dt><kbd>&lt;F4&gt;</kbd></dt><dd>If a keyboard macro is being defined, end the definition; otherwise,
execute the most recent keyboard macro
(<code>kmacro-end-or-call-macro</code>). 
<br></dd><dt><kbd>C-x )</kbd></dt><dd>End the definition of a keyboard macro (<code>kmacro-end-macro</code>). 
<br></dd><dt><kbd>C-x e</kbd></dt><dd>Execute the most recent keyboard macro (<code>kmacro-end-and-call-macro</code>). 
First end the definition of the keyboard macro, if currently defining it. 
To immediately execute the keyboard macro again, just repeat the <kbd>e</kbd>. 
<br></dd><dt><kbd>C-u C-x (</kbd></dt><dd>Re-execute last keyboard macro, then add more keys to its definition. 
<br></dd><dt><kbd>C-u C-u C-x (</kbd></dt><dd>Add more keys to the last keyboard macro without re-executing it. 
<br></dd><dt><kbd>C-x C-k r</kbd></dt><dd>Run the last keyboard macro on each line that begins in the region
(<code>apply-macro-to-region-lines</code>). 
</dd></dl>

   <p><a name="index-F3-711"></a><a name="index-F4-712"></a><a name="index-C_002dx-_0028-713"></a><a name="index-C_002dx-_0029-714"></a><a name="index-C_002dx-e-715"></a><a name="index-kmacro_002dstart_002dmacro-716"></a><a name="index-kmacro_002dend_002dmacro-717"></a><a name="index-kmacro_002dend_002dand_002dcall_002dmacro-718"></a>  To start defining a keyboard macro, type the <kbd>F3</kbd> or <kbd>C-x (</kbd> command
(<code>kmacro-start-macro</code>).  From then on, your keys continue to be
executed, but also become part of the definition of the macro.  `<samp><span class="samp">Def</span></samp>'
appears in the mode line to remind you of what is going on.  When you are
finished, the <kbd>F4</kbd> or <kbd>C-x )</kbd> command (<code>kmacro-end-macro</code>) terminates the
definition (without becoming part of it!).  For example,

</p><pre class="example">     C-x ( M-f foo C-x )
</pre>
   <p class="noindent">defines a macro to move forward a word and then insert `<samp><span class="samp">foo</span></samp>'.

   </p><p>The macro thus defined can be invoked again with the <kbd>C-x e</kbd>
command (<code>kmacro-end-and-call-macro</code>), which may be given a
repeat count as a numeric argument to execute the macro many times. 
If you enter <kbd>C-x e</kbd> while defining a macro, the macro is
terminated and executed immediately.

   </p><p>After executing the macro with <kbd>C-x e</kbd>, you can use <kbd>e</kbd>
repeatedly to immediately repeat the macro one or more times.  For example,

</p><pre class="example">     C-x ( xyz C-x e e e
</pre>
   <p class="noindent">inserts `<samp><span class="samp">xyzxyzxyzxyz</span></samp>' in the current buffer.

   </p><p><kbd>C-x )</kbd> can also be given a repeat count as an argument, in
which case it repeats the macro that many times right after defining
it, but defining the macro counts as the first repetition (since it is
executed as you define it).  Therefore, giving <kbd>C-x )</kbd> an argument
of 4 executes the macro immediately 3 additional times.  An argument
of zero to <kbd>C-x e</kbd> or <kbd>C-x )</kbd> means repeat the macro
indefinitely (until it gets an error or you type <kbd>C-g</kbd> or, on
MS-DOS, <kbd>C-&lt;BREAK&gt;</kbd>).

   </p><p>The key &lt;F4&gt; is like a combination of <kbd>C-x )</kbd> and <kbd>C-x
e</kbd>.  If you're defining a macro, &lt;F4&gt; ends the definition. 
Otherwise it executes the last macro.  For example,

</p><pre class="example">     F3 xyz F4 F4 F4
</pre>
   <p class="noindent">inserts `<samp><span class="samp">xyzxyzxyz</span></samp>' in the current buffer.

   </p><p>If you wish to repeat an operation at regularly spaced places in the
text, define a macro and include as part of the macro the commands to move
to the next place you want to use it.  For example, if you want to change
each line, you should position point at the start of a line, and define a
macro to change that line and leave point at the start of the next line. 
Then repeating the macro will operate on successive lines.

   </p><p>When a command reads an argument with the minibuffer, your
minibuffer input becomes part of the macro along with the command.  So
when you replay the macro, the command gets the same argument as
when you entered the macro.  For example,

</p><pre class="example">     C-x ( C-a C-&lt;SPC&gt; C-n M-w C-x b f o o &lt;RET&gt; C-y C-x b &lt;RET&gt; C-x )
</pre>
   <p class="noindent">defines a macro that copies the current line into the buffer
`<samp><span class="samp">foo</span></samp>', then returns to the original buffer.

   </p><p>You can use function keys in a keyboard macro, just like keyboard
keys.  You can even use mouse events, but be careful about that: when
the macro replays the mouse event, it uses the original mouse position
of that event, the position that the mouse had while you were defining
the macro.  The effect of this may be hard to predict.  (Using the
current mouse position would be even less predictable.)

   </p><p>One thing that sometimes works badly in a keyboard macro is the
command <kbd>C-M-c</kbd> (<code>exit-recursive-edit</code>).  When this command
exits a recursive edit that started within the macro, it works as
you'd expect.  But if it exits a recursive edit that started before
you invoked the keyboard macro, it also necessarily exits the keyboard
macro as part of the process.

   </p><p>After you have terminated the definition of a keyboard macro, you can add
to the end of its definition by typing <kbd>C-u F3</kbd> or <kbd>C-u C-x (</kbd>. 
This is equivalent
to plain <kbd>C-x (</kbd> followed by retyping the whole definition so far.  As
a consequence it re-executes the macro as previously defined.

   </p><p>You can also add to the end of the definition of the last keyboard
macro without re-executing it by typing <kbd>C-u C-u C-x (</kbd>.

   </p><p>The variable <code>kmacro-execute-before-append</code> specifies whether
a single <kbd>C-u</kbd> prefix causes the existing macro to be re-executed
before appending to it.

   </p><p><a name="index-apply_002dmacro_002dto_002dregion_002dlines-719"></a><a name="index-C_002dx-C_002dk-r-720"></a>  The command <kbd>C-x C-k r</kbd> (<code>apply-macro-to-region-lines</code>)
repeats the last defined keyboard macro on each line that begins in
the region.  It does this line by line, by moving point to the
beginning of the line and then executing the macro.

</p><div class="node">
<p></p><hr>
<a name="Keyboard-Macro-Ring"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Keyboard-Macro-Counter">Keyboard Macro Counter</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basic-Keyboard-Macro">Basic Keyboard Macro</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Keyboard-Macros">Keyboard Macros</a>

</div>

<h3 class="section">22.2 The Keyboard Macro Ring</h3>

<p>All defined keyboard macros are recorded in the &#8220;keyboard macro ring,&#8221;
a list of sequences of keys.  There is only one keyboard macro ring,
shared by all buffers.

     </p><dl>
<dt><kbd>C-x C-k C-k</kbd></dt><dd>Execute the keyboard macro at the head of the ring (<code>kmacro-end-or-call-macro-repeat</code>). 
<br></dd><dt><kbd>C-x C-k C-n</kbd></dt><dd>Rotate the keyboard macro ring to the next macro (defined earlier)
(<code>kmacro-cycle-ring-next</code>). 
<br></dd><dt><kbd>C-x C-k C-p</kbd></dt><dd>Rotate the keyboard macro ring to the previous macro (defined later)
(<code>kmacro-cycle-ring-previous</code>). 
</dd></dl>

   <p>All commands which operate on the keyboard macro ring use the
same <kbd>C-x C-k</kbd> prefix.  Most of these commands can be executed and
repeated immediately after each other without repeating the <kbd>C-x
C-k</kbd> prefix.  For example,

</p><pre class="example">     C-x C-k C-p C-p C-k C-k C-k C-n C-n C-k C-p C-k C-d
</pre>
   <p class="noindent">will rotate the keyboard macro ring to the &#8220;second previous&#8221; macro,
execute the resulting head macro three times, rotate back to the
original head macro, execute that once, rotate to the &#8220;previous&#8221;
macro, execute that, and finally delete it from the macro ring.

   </p><p><a name="index-kmacro_002dend_002dor_002dcall_002dmacro_002drepeat-721"></a><a name="index-C_002dx-C_002dk-C_002dk-722"></a>  The command <kbd>C-x C-k C-k</kbd> (<code>kmacro-end-or-call-macro-repeat</code>)
executes the keyboard macro at the head of the macro ring.  You can
repeat the macro immediately by typing another <kbd>C-k</kbd>, or you can
rotate the macro ring immediately by typing <kbd>C-n</kbd> or <kbd>C-p</kbd>.

   </p><p>When a keyboard macro is being defined, <kbd>C-x C-k C-k</kbd> behaves like
<kbd>C-x )</kbd> except that, immediately afterward, you can use most key
bindings of this section without the <kbd>C-x C-k</kbd> prefix.  For
instance, another <kbd>C-k</kbd> will re-execute the macro.

   </p><p><a name="index-kmacro_002dcycle_002dring_002dnext-723"></a><a name="index-C_002dx-C_002dk-C_002dn-724"></a><a name="index-kmacro_002dcycle_002dring_002dprevious-725"></a><a name="index-C_002dx-C_002dk-C_002dp-726"></a>  The commands <kbd>C-x C-k C-n</kbd> (<code>kmacro-cycle-ring-next</code>) and
<kbd>C-x C-k C-p</kbd> (<code>kmacro-cycle-ring-previous</code>) rotate the
macro ring, bringing the next or previous keyboard macro to the head
of the macro ring.  The definition of the new head macro is displayed
in the echo area.  You can continue to rotate the macro ring
immediately by repeating just <kbd>C-n</kbd> and <kbd>C-p</kbd> until the
desired macro is at the head of the ring.  To execute the new macro
ring head immediately, just type <kbd>C-k</kbd>.

   </p><p>Note that Emacs treats the head of the macro ring as the &#8220;last
defined keyboard macro.&#8221;  For instance, <kbd>C-x e</kbd> will execute that
macro, and <kbd>C-x C-k n</kbd> will give it a name.

   </p><p><a name="index-kmacro_002dring_002dmax-727"></a>  The maximum number of macros stored in the keyboard macro ring is
determined by the customizable variable <code>kmacro-ring-max</code>.

</p><div class="node">
<p></p><hr>
<a name="Keyboard-Macro-Counter"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Keyboard-Macro-Query">Keyboard Macro Query</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Keyboard-Macro-Ring">Keyboard Macro Ring</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Keyboard-Macros">Keyboard Macros</a>

</div>

<h3 class="section">22.3 The Keyboard Macro Counter</h3>

     <dl>
<dt><kbd>C-x C-k C-i</kbd></dt><dd>Insert the keyboard macro counter value in the buffer
(<code>kmacro-insert-counter</code>). 
<br></dd><dt><kbd>C-x C-k C-c</kbd></dt><dd>Set the keyboard macro counter (<code>kmacro-set-counter</code>). 
<br></dd><dt><kbd>C-x C-k C-a</kbd></dt><dd>Add the prefix arg to the keyboard macro counter (<code>kmacro-add-counter</code>). 
<br></dd><dt><kbd>C-x C-k C-f</kbd></dt><dd>Specify the format for inserting the keyboard macro counter
(<code>kmacro-set-format</code>). 
</dd></dl>

   <p>Each keyboard macro has an associated counter.  Normally, the
macro counter is initialized to 0 when you start defining the macro,
and incremented by 1 after each insertion of the counter value;
that is, if you insert the macro counter twice while defining the
macro, the counter will increase by 2 on each repetition of the macro.

   </p><p><a name="index-kmacro_002dinsert_002dcounter-728"></a><a name="index-C_002dx-C_002dk-C_002di-729"></a>  The command <kbd>C-x C-k C-i</kbd> (<code>kmacro-insert-counter</code>) inserts
the current value of the current keyboard macro's counter, and
increments the counter by 1.  You can use a numeric prefix argument to
specify a different increment.  If you just specify a <kbd>C-u</kbd>
prefix, then the increment is zero, so it repeats the last inserted
counter value.  For example, if you enter the following sequence while
defining a macro

</p><pre class="example">     C-x C-k C-i C-x C-k C-i C-u C-x C-k C-i C-x C-k C-i
</pre>
   <p class="noindent">it inserts `<samp><span class="samp">0112</span></samp>' in the buffer.  The next two iterations
of the macro will insert `<samp><span class="samp">3445</span></samp>' and `<samp><span class="samp">6778</span></samp>'.

   </p><p>This command usually only makes sense while defining a keyboard
macro.  But its behavior when no keyboard macro is being defined or
executed is predictable: it inserts and increments the counter of the
macro at the head of the keyboard macro ring.

   </p><p><a name="index-kmacro_002dset_002dcounter-730"></a><a name="index-C_002dx-C_002dk-C_002dc-731"></a>  The command <kbd>C-x C-k C-c</kbd> (<code>kmacro-set-counter</code>) sets the
current macro counter to the value of the numeric argument.  If you use
it inside the macro, it operates on each repetition of the macro.  If
you specify just <kbd>C-u</kbd> as the prefix, while executing the macro,
that resets the counter to the value it had at the beginning of the
current repetition of the macro (undoing any increments so far in this
repetition).

   </p><p><a name="index-kmacro_002dadd_002dcounter-732"></a><a name="index-C_002dx-C_002dk-C_002da-733"></a>  The command <kbd>C-x C-k C-a</kbd> (<code>kmacro-add-counter</code>) adds the
prefix argument to the current macro counter.  With just <kbd>C-u</kbd> as
argument, it resets the counter to the last value inserted by any
keyboard macro.  (Normally, when you use this, the last insertion
will be in the same macro and it will be the same counter.)

   </p><p><a name="index-kmacro_002dset_002dformat-734"></a><a name="index-C_002dx-C_002dk-C_002df-735"></a>  The command <kbd>C-x C-k C-f</kbd> (<code>kmacro-set-format</code>) prompts for
the format to use when inserting the macro counter.  The default
format is `<samp><span class="samp">%d</span></samp>', which means to insert the number in decimal
without any padding.  You can exit with empty minibuffer to reset the
format to this default.  You can specify any format string that the
<code>format</code> function accepts and that makes sense with a single
integer extra argument (see <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html#Formatting-Strings">Formatting Strings</a>).  Do not put the format string inside double
quotes when you insert it in the minibuffer.

   </p><p>If you use this command while no keyboard macro is being defined or
executed, the new format affects all subsequent macro definitions. 
Existing macros continue to use the format in effect when they were
defined.  If you set the format while defining a keyboard macro, this
affects the macro being defined from that point on, but it does not
affect subsequent macros.  Execution of the macro will, at each step,
use the format in effect at that step during its definition.  Changes
to the macro format during execution of a macro, like the
corresponding changes during its definition, have no effect on
subsequent macros.

   </p><p>The format set by <kbd>C-x C-k C-f</kbd> does not affect insertion of
numbers stored in registers.

</p><div class="node">
<p></p><hr>
<a name="Keyboard-Macro-Query"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Save-Keyboard-Macro">Save Keyboard Macro</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Keyboard-Macro-Counter">Keyboard Macro Counter</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Keyboard-Macros">Keyboard Macros</a>

</div>

<h3 class="section">22.4 Executing Macros with Variations</h3>

     <dl>
<dt><kbd>C-x q</kbd></dt><dd>When this point is reached during macro execution, ask for confirmation
(<code>kbd-macro-query</code>). 
</dd></dl>

   <p><a name="index-C_002dx-q-736"></a><a name="index-kbd_002dmacro_002dquery-737"></a>  Using <kbd>C-x q</kbd> (<code>kbd-macro-query</code>), you can get an effect
similar to that of <code>query-replace</code>, where the macro asks you each
time around whether to make a change.  While defining the macro,
type <kbd>C-x q</kbd> at the point where you want the query to occur.  During
macro definition, the <kbd>C-x q</kbd> does nothing, but when you run the
macro later, <kbd>C-x q</kbd> asks you interactively whether to continue.

   </p><p>The valid responses when <kbd>C-x q</kbd> asks are &lt;SPC&gt; (or <kbd>y</kbd>),
&lt;DEL&gt; (or <kbd>n</kbd>), &lt;RET&gt; (or <kbd>q</kbd>), <kbd>C-l</kbd> and <kbd>C-r</kbd>. 
The answers are the same as in <code>query-replace</code>, though not all of
the <code>query-replace</code> options are meaningful.

   </p><p>These responses include &lt;SPC&gt; to continue, and &lt;DEL&gt; to skip
the remainder of this repetition of the macro and start right away with
the next repetition.  &lt;RET&gt; means to skip the remainder of this
repetition and cancel further repetitions.  <kbd>C-l</kbd> redraws the screen
and asks you again for a character to say what to do.

   </p><p><kbd>C-r</kbd> enters a recursive editing level, in which you can perform
editing which is not part of the macro.  When you exit the recursive
edit using <kbd>C-M-c</kbd>, you are asked again how to continue with the
keyboard macro.  If you type a &lt;SPC&gt; at this time, the rest of the
macro definition is executed.  It is up to you to leave point and the
text in a state such that the rest of the macro will do what you
want.

   </p><p><kbd>C-u C-x q</kbd>, which is <kbd>C-x q</kbd> with a numeric argument,
performs a completely different function.  It enters a recursive edit
reading input from the keyboard, both when you type it during the
definition of the macro, and when it is executed from the macro.  During
definition, the editing you do inside the recursive edit does not become
part of the macro.  During macro execution, the recursive edit gives you
a chance to do some particularized editing on each repetition. 
See <a href="#Recursive-Edit">Recursive Edit</a>.

   </p><p>Another way to vary the behavior of a keyboard macro is to use a
register as a counter, incrementing it on each repetition of the macro. 
See <a href="#RegNumbers">RegNumbers</a>.

</p><div class="node">
<p></p><hr>
<a name="Save-Keyboard-Macro"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Edit-Keyboard-Macro">Edit Keyboard Macro</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Keyboard-Macro-Query">Keyboard Macro Query</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Keyboard-Macros">Keyboard Macros</a>

</div>

<h3 class="section">22.5 Naming and Saving Keyboard Macros</h3>

     <dl>
<dt><kbd>C-x C-k n</kbd></dt><dd>Give a command name (for the duration of the Emacs session) to the most
recently defined keyboard macro (<code>kmacro-name-last-macro</code>). 
<br></dd><dt><kbd>C-x C-k b</kbd></dt><dd>Bind the most recently defined keyboard macro to a key sequence (for
the duration of the session) (<code>kmacro-bind-to-key</code>). 
<br></dd><dt><kbd>M-x insert-kbd-macro</kbd></dt><dd>Insert in the buffer a keyboard macro's definition, as Lisp code. 
</dd></dl>

   <p><a name="index-saving-keyboard-macros-738"></a><a name="index-kmacro_002dname_002dlast_002dmacro-739"></a><a name="index-C_002dx-C_002dk-n-740"></a>  If you wish to save a keyboard macro for later use, you can give it
a name using <kbd>C-x C-k n</kbd> (<code>kmacro-name-last-macro</code>). 
This reads a name as an argument using the minibuffer and defines that
name to execute the last keyboard macro, in its current form.  (If you
later add to the definition of this macro, that does not alter the
name's definition as a macro.)  The macro name is a Lisp symbol, and
defining it in this way makes it a valid command name for calling with
<kbd>M-x</kbd> or for binding a key to with <code>global-set-key</code>
(see <a href="#Keymaps">Keymaps</a>).  If you specify a name that has a prior definition
other than a keyboard macro, an error message is shown and nothing is
changed.

   </p><p><a name="index-binding-keyboard-macros-741"></a><a name="index-kmacro_002dbind_002dto_002dkey-742"></a><a name="index-C_002dx-C_002dk-b-743"></a>  You can also bind the last keyboard macro (in its current form) to a
key, using <kbd>C-x C-k b</kbd> (<code>kmacro-bind-to-key</code>) followed by the
key sequence you want to bind.  You can bind to any key sequence in
the global keymap, but since most key sequences already have other
bindings, you should select the key sequence carefully.  If you try to
bind to a key sequence with an existing binding (in any keymap), this
command asks you for confirmation before replacing the existing binding.

   </p><p>To avoid problems caused by overriding existing bindings, the key
sequences <kbd>C-x C-k 0</kbd> through <kbd>C-x C-k 9</kbd> and <kbd>C-x C-k A</kbd>
through <kbd>C-x C-k Z</kbd> are reserved for your own keyboard macro
bindings.  In fact, to bind to one of these key sequences, you only
need to type the digit or letter rather than the whole key sequences. 
For example,

</p><pre class="example">     C-x C-k b 4
</pre>
   <p class="noindent">will bind the last keyboard macro to the key sequence <kbd>C-x C-k 4</kbd>.

   </p><p><a name="index-insert_002dkbd_002dmacro-744"></a>  Once a macro has a command name, you can save its definition in a file. 
Then it can be used in another editing session.  First, visit the file
you want to save the definition in.  Then use this command:

</p><pre class="example">     M-x insert-kbd-macro &lt;RET&gt; <var>macroname</var> &lt;RET&gt;
</pre>
   <p class="noindent">This inserts some Lisp code that, when executed later, will define the
same macro with the same definition it has now.  (You need not
understand Lisp code to do this, because <code>insert-kbd-macro</code> writes
the Lisp code for you.)  Then save the file.  You can load the file
later with <code>load-file</code> (see <a href="#Lisp-Libraries">Lisp Libraries</a>).  If the file you
save in is your init file <samp><span class="file">~/.emacs</span></samp> (see <a href="#Init-File">Init File</a>) then the
macro will be defined each time you run Emacs.

   </p><p>If you give <code>insert-kbd-macro</code> a numeric argument, it makes
additional Lisp code to record the keys (if any) that you have bound
to <var>macroname</var>, so that the macro will be reassigned the same keys
when you load the file.

</p><div class="node">
<p></p><hr>
<a name="Edit-Keyboard-Macro"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Keyboard-Macro-Step_002dEdit">Keyboard Macro Step-Edit</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Save-Keyboard-Macro">Save Keyboard Macro</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Keyboard-Macros">Keyboard Macros</a>

</div>

<h3 class="section">22.6 Editing a Keyboard Macro</h3>

     <dl>
<dt><kbd>C-x C-k C-e</kbd></dt><dd>Edit the last defined keyboard macro (<code>kmacro-edit-macro</code>). 
<br></dd><dt><kbd>C-x C-k e </kbd><var>name</var><kbd> &lt;RET&gt;</kbd></dt><dd>Edit a previously defined keyboard macro <var>name</var> (<code>edit-kbd-macro</code>). 
<br></dd><dt><kbd>C-x C-k l</kbd></dt><dd>Edit the last 100 keystrokes as a keyboard macro
(<code>kmacro-edit-lossage</code>). 
</dd></dl>

   <p><a name="index-kmacro_002dedit_002dmacro-745"></a><a name="index-C_002dx-C_002dk-C_002de-746"></a><a name="index-C_002dx-C_002dk-RET-747"></a>  You can edit the last keyboard macro by typing <kbd>C-x C-k C-e</kbd> or
<kbd>C-x C-k RET</kbd> (<code>kmacro-edit-macro</code>).  This formats the macro
definition in a buffer and enters a specialized major mode for editing
it.  Type <kbd>C-h m</kbd> once in that buffer to display details of how to
edit the macro.  When you are finished editing, type <kbd>C-c C-c</kbd>.

   </p><p><a name="index-edit_002dkbd_002dmacro-748"></a><a name="index-C_002dx-C_002dk-e-749"></a>  You can edit a named keyboard macro or a macro bound to a key by typing
<kbd>C-x C-k e</kbd> (<code>edit-kbd-macro</code>).  Follow that with the
keyboard input that you would use to invoke the macro&#8212;<kbd>C-x e</kbd> or
<kbd>M-x </kbd><var>name</var> or some other key sequence.

   </p><p><a name="index-kmacro_002dedit_002dlossage-750"></a><a name="index-C_002dx-C_002dk-l-751"></a>  You can edit the last 100 keystrokes as a macro by typing
<kbd>C-x C-k l</kbd> (<code>kmacro-edit-lossage</code>).

</p><div class="node">
<p></p><hr>
<a name="Keyboard-Macro-Step-Edit"></a>
<a name="Keyboard-Macro-Step_002dEdit"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Edit-Keyboard-Macro">Edit Keyboard Macro</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Keyboard-Macros">Keyboard Macros</a>

</div>

<h3 class="section">22.7 Stepwise Editing a Keyboard Macro</h3>

<p><a name="index-kmacro_002dstep_002dedit_002dmacro-752"></a><a name="index-C_002dx-C_002dk-SPC-753"></a>  You can interactively replay and edit the last keyboard
macro, one command at a time, by typing <kbd>C-x C-k SPC</kbd>
(<code>kmacro-step-edit-macro</code>).  Unless you quit the macro using
<kbd>q</kbd> or <kbd>C-g</kbd>, the edited macro replaces the last macro on the
macro ring.

   </p><p>This macro editing feature shows the last macro in the minibuffer
together with the first (or next) command to be executed, and prompts
you for an action.  You can enter <kbd>?</kbd> to get a summary of your
options.  These actions are available:

     </p><ul>
<li><kbd>SPC</kbd> and <kbd>y</kbd> execute the current command, and advance to the
next command in the keyboard macro. 
</li><li><kbd>n</kbd>, <kbd>d</kbd>, and <kbd>DEL</kbd> skip and delete the current command. 
</li><li><kbd>f</kbd> skips the current command in this execution of the keyboard
macro, but doesn't delete it from the macro. 
</li><li><kbd>&lt;TAB&gt;</kbd> executes the current command, as well as all similar
commands immediately following the current command; for example, &lt;TAB&gt;
may be used to insert a sequence of characters (corresponding to a
sequence of <code>self-insert-command</code> commands). 
</li><li><kbd>c</kbd> continues execution (without further editing) until the end of
the keyboard macro.  If execution terminates normally, the edited
macro replaces the original keyboard macro. 
</li><li><kbd>C-k</kbd> skips and deletes the rest of the keyboard macro,
terminates step-editing, and replaces the original keyboard macro
with the edited macro. 
</li><li><kbd>q</kbd> and <kbd>C-g</kbd> cancels the step-editing of the keyboard macro;
discarding any changes made to the keyboard macro. 
</li><li><kbd>i KEY... C-j</kbd> reads and executes a series of key sequences (not
including the final <kbd>C-j</kbd>), and inserts them before the current
command in the keyboard macro, without advancing over the current
command. 
</li><li><kbd>I KEY...</kbd> reads one key sequence, executes it, and inserts it
before the current command in the keyboard macro, without advancing
over the current command. 
</li><li><kbd>r KEY... C-j</kbd> reads and executes a series of key sequences (not
including the final <kbd>C-j</kbd>), and replaces the current command in
the keyboard macro with them, advancing over the inserted key
sequences. 
</li><li><kbd>R KEY...</kbd> reads one key sequence, executes it, and replaces the
current command in the keyboard macro with that key sequence,
advancing over the inserted key sequence. 
</li><li><kbd>a KEY... C-j</kbd> executes the current command, then reads and
executes a series of key sequences (not including the final
<kbd>C-j</kbd>), and inserts them after the current command in the keyboard
macro; it then advances over the current command and the inserted key
sequences. 
</li><li><kbd>A KEY... C-j</kbd> executes the rest of the commands in the keyboard
macro, then reads and executes a series of key sequences (not
including the final <kbd>C-j</kbd>), and appends them at the end of the
keyboard macro; it then terminates the step-editing and replaces the
original keyboard macro with the edited macro. 
</li></ul>

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 1999, 2000, -->
<!-- 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
<div class="node">
<p></p><hr>
<a name="Files"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Buffers">Buffers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Keyboard-Macros">Keyboard Macros</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">23 File Handling</h2>

<p><a name="index-files-754"></a>
  The operating system stores data permanently in named <dfn>files</dfn>, so
most of the text you edit with Emacs comes from a file and is ultimately
stored in a file.

   </p><p>To edit a file, you must tell Emacs to read the file and prepare a
buffer containing a copy of the file's text.  This is called
<dfn>visiting</dfn> the file.  Editing commands apply directly to text in the
buffer; that is, to the copy inside Emacs.  Your changes appear in the
file itself only when you <dfn>save</dfn> the buffer back into the file.

   </p><p>In addition to visiting and saving files, Emacs can delete, copy,
rename, and append to files, keep multiple versions of them, and operate
on file directories.

</p><ul class="menu">
<li><a accesskey="1" href="#File-Names">File Names</a>:           How to type and edit file-name arguments. 
</li><li><a accesskey="2" href="#Visiting">Visiting</a>:             Visiting a file prepares Emacs to edit the file. 
</li><li><a accesskey="3" href="#Saving">Saving</a>:               Saving makes your changes permanent. 
</li><li><a accesskey="4" href="#Reverting">Reverting</a>:            Reverting cancels all the changes not saved.

</li><li><a accesskey="5" href="#Autorevert">Autorevert</a>:           Auto Reverting non-file buffers. 
</li><li><a accesskey="6" href="#Auto-Save">Auto Save</a>:            Auto Save periodically protects against loss of data. 
</li><li><a accesskey="7" href="#File-Aliases">File Aliases</a>:         Handling multiple names for one file. 
</li><li><a accesskey="8" href="#Version-Control">Version Control</a>:      Version control systems (RCS, CVS and SCCS). 
</li><li><a accesskey="9" href="#Directories">Directories</a>:          Creating, deleting, and listing file directories. 
</li><li><a href="#Comparing-Files">Comparing Files</a>:      Finding where two files differ. 
</li><li><a href="#Diff-Mode">Diff Mode</a>:            Mode for editing file differences. 
</li><li><a href="#Misc-File-Ops">Misc File Ops</a>:        Other things you can do on files. 
</li><li><a href="#Compressed-Files">Compressed Files</a>:     Accessing compressed files. 
</li><li><a href="#File-Archives">File Archives</a>:        Operating on tar, zip, jar etc. archive files. 
</li><li><a href="#Remote-Files">Remote Files</a>:         Accessing files on other sites. 
</li><li><a href="#Quoted-File-Names">Quoted File Names</a>:    Quoting special characters in file names. 
</li><li><a href="#File-Name-Cache">File Name Cache</a>:      Completion against a list of files you often use. 
</li><li><a href="#File-Conveniences">File Conveniences</a>:    Convenience Features for Finding Files. 
</li><li><a href="#Filesets">Filesets</a>:             Handling sets of files. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="File-Names"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Visiting">Visiting</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Files">Files</a>

</div>

<h3 class="section">23.1 File Names</h3>

<p><a name="index-file-names-755"></a>
  Most Emacs commands that operate on a file require you to specify the
file name.  (Saving and reverting are exceptions; the buffer knows which
file name to use for them.)  You enter the file name using the
minibuffer (see <a href="#Minibuffer">Minibuffer</a>).  <dfn>Completion</dfn> is available
(see <a href="#Completion">Completion</a>) to make it easier to specify long file names.  When
completing file names, Emacs ignores those whose file-name extensions
appear in the variable <code>completion-ignored-extensions</code>; see
<a href="#Completion-Options">Completion Options</a>.

   </p><p>For most operations, there is a <dfn>default file name</dfn> which is used
if you type just &lt;RET&gt; to enter an empty argument.  Normally the
default file name is the name of the file visited in the current buffer;
this makes it easy to operate on that file with any of the Emacs file
commands.

   </p><p><a name="index-default_002ddirectory-756"></a>  Each buffer has a default directory which is normally the same as the
directory of the file visited in that buffer.  When you enter a file
name without a directory, the default directory is used.  If you specify
a directory in a relative fashion, with a name that does not start with
a slash, it is interpreted with respect to the default directory.  The
default directory is kept in the variable <code>default-directory</code>,
which has a separate value in every buffer.

   </p><p><a name="index-cd-757"></a><a name="index-pwd-758"></a>  The command <kbd>M-x pwd</kbd> displays the current buffer's default
directory, and the command <kbd>M-x cd</kbd> sets it (to a value read using
the minibuffer).  A buffer's default directory changes only when the
<code>cd</code> command is used.  A file-visiting buffer's default directory
is initialized to the directory of the file it visits.  If you create
a buffer with <kbd>C-x b</kbd>, its default directory is copied from that
of the buffer that was current at the time.

   </p><p>For example, if the default file name is <samp><span class="file">/u/rms/gnu/gnu.tasks</span></samp>
then the default directory is normally <samp><span class="file">/u/rms/gnu/</span></samp>.  If you
type just `<samp><span class="samp">foo</span></samp>', which does not specify a directory, it is short
for <samp><span class="file">/u/rms/gnu/foo</span></samp>.  `<samp><span class="samp">../.login</span></samp>' would stand for
<samp><span class="file">/u/rms/.login</span></samp>.  `<samp><span class="samp">new/foo</span></samp>' would stand for the file name
<samp><span class="file">/u/rms/gnu/new/foo</span></samp>.

   </p><p><a name="index-insert_002ddefault_002ddirectory-759"></a>  The default directory actually appears in the minibuffer when the
minibuffer becomes active to read a file name.  This serves two
purposes: it <em>shows</em> you what the default is, so that you can type
a relative file name and know with certainty what it will mean, and it
allows you to <em>edit</em> the default to specify a different directory. 
This insertion of the default directory is inhibited if the variable
<code>insert-default-directory</code> is set to <code>nil</code>.

   </p><p>Note that it is legitimate to type an absolute file name after you
enter the minibuffer, ignoring the presence of the default directory
name as part of the text.  The final minibuffer contents may look
invalid, but that is not so.  For example, if the minibuffer starts out
with `<samp><span class="samp">/usr/tmp/</span></samp>' and you add `<samp><span class="samp">/x1/rms/foo</span></samp>', you get
`<samp><span class="samp">/usr/tmp//x1/rms/foo</span></samp>'; but Emacs ignores everything through the
first slash in the double slash; the result is `<samp><span class="samp">/x1/rms/foo</span></samp>'. 
See <a href="#Minibuffer-File">Minibuffer File</a>.

   </p><p><a name="index-home-directory-shorthand-760"></a>  You can use <samp><span class="file">~/</span></samp> in a file name to mean your home directory,
or <samp><span class="file">~</span><var>user-id</var><span class="file">/</span></samp> to mean the home directory of a user whose
login name is <code>user-id</code><a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>.

   </p><p><a name="index-environment-variables-in-file-names-761"></a><a name="index-expansion-of-environment-variables-762"></a><a name="index-g_t_0040code_007b_0024_007d-in-file-names-763"></a>  <a name="File-Names-with-_0024"></a>`<samp><span class="samp">$</span></samp>' in a file name is used to
substitute an environment variable.  The environment variable name
consists of all the alphanumeric characters after the `<samp><span class="samp">$</span></samp>';
alternatively, it can be enclosed in braces after the `<samp><span class="samp">$</span></samp>'.  For
example, if you have used the shell command <samp><span class="command">export
FOO=rms/hacks</span></samp> to set up an environment variable named <samp><span class="env">FOO</span></samp>, then
you can use <samp><span class="file">/u/$FOO/test.c</span></samp> or <samp><span class="file">/u/${FOO}/test.c</span></samp> as an
abbreviation for <samp><span class="file">/u/rms/hacks/test.c</span></samp>.  If the environment
variable is not defined, no substitution occurs: <samp><span class="file">/u/$notdefined</span></samp>
stands for itself (assuming the environment variable <samp><span class="env">notdefined</span></samp>
is not defined).

   </p><p>Note that shell commands to set environment variables affect Emacs
only when done before Emacs is started.

   </p><p>To access a file with `<samp><span class="samp">$</span></samp>' in its name, if the `<samp><span class="samp">$</span></samp>' causes
expansion, type `<samp><span class="samp">$$</span></samp>'.  This pair is converted to a single
`<samp><span class="samp">$</span></samp>' at the same time as variable substitution is performed for a
single `<samp><span class="samp">$</span></samp>'.  Alternatively, quote the whole file name with
`<samp><span class="samp">/:</span></samp>' (see <a href="#Quoted-File-Names">Quoted File Names</a>).  File names which begin with a
literal `<samp><span class="samp">~</span></samp>' should also be quoted with `<samp><span class="samp">/:</span></samp>'.

   </p><p><a name="index-substitute_002din_002dfile_002dname-764"></a>  The Lisp function that performs the `<samp><span class="samp">$</span></samp>'-substitution is called
<code>substitute-in-file-name</code>.  The substitution is performed only on
file names read as such using the minibuffer.

   </p><p>You can include non-<acronym>ASCII</acronym> characters in file names if you set the
variable <code>file-name-coding-system</code> to a non-<code>nil</code> value. 
See <a href="#File-Name-Coding">File Name Coding</a>.

</p><div class="node">
<p></p><hr>
<a name="Visiting"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Saving">Saving</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#File-Names">File Names</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Files">Files</a>

</div>

<h3 class="section">23.2 Visiting Files</h3>

<p><a name="index-visiting-files-765"></a><a name="index-open-file-766"></a>
     </p><dl>
<dt><kbd>C-x C-f</kbd></dt><dd>Visit a file (<code>find-file</code>). 
<br></dd><dt><kbd>C-x C-r</kbd></dt><dd>Visit a file for viewing, without allowing changes to it
(<code>find-file-read-only</code>). 
<br></dd><dt><kbd>C-x C-v</kbd></dt><dd>Visit a different file instead of the one visited last
(<code>find-alternate-file</code>). 
<br></dd><dt><kbd>C-x 4 f</kbd></dt><dd>Visit a file, in another window (<code>find-file-other-window</code>).  Don't
alter what is displayed in the selected window. 
<br></dd><dt><kbd>C-x 5 f</kbd></dt><dd>Visit a file, in a new frame (<code>find-file-other-frame</code>).  Don't
alter what is displayed in the selected frame. 
<br></dd><dt><kbd>M-x find-file-literally</kbd></dt><dd>Visit a file with no conversion of the contents. 
</dd></dl>

   <p><a name="index-files_002c-visiting-and-saving-767"></a><a name="index-saving-files-768"></a>  <dfn>Visiting</dfn> a file means reading its contents into an Emacs
buffer so you can edit them.  Emacs makes a new buffer for each file
that you visit.  We often say that this buffer &#8220;is visiting&#8221; that
file, or that the buffer's &#8220;visited file&#8221; is that file.  Emacs
constructs the buffer name from the file name by throwing away the
directory, keeping just the name proper.  For example, a file named
<samp><span class="file">/usr/rms/emacs.tex</span></samp> would get a buffer named `<samp><span class="samp">emacs.tex</span></samp>'. 
If there is already a buffer with that name, Emacs constructs a unique
name&#8212;the normal method is to append `<samp><span class="samp">&lt;2&gt;</span></samp>', `<samp><span class="samp">&lt;3&gt;</span></samp>', and so
on, but you can select other methods (see <a href="#Uniquify">Uniquify</a>).

   </p><p>Each window's mode line shows the name of the buffer that is being displayed
in that window, so you can always tell what buffer you are editing.

   </p><p>The changes you make with editing commands are made in the Emacs
buffer.  They do not take effect in the file that you visited, or any
permanent place, until you <dfn>save</dfn> the buffer.  Saving the buffer
means that Emacs writes the current contents of the buffer into its
visited file.  See <a href="#Saving">Saving</a>.

   </p><p><a name="index-modified-_0028buffer_0029-769"></a>  If a buffer contains changes that have not been saved, we say the
buffer is <dfn>modified</dfn>.  This is important because it implies that
some changes will be lost if the buffer is not saved.  The mode line
displays two stars near the left margin to indicate that the buffer is
modified.

   </p><p><a name="index-C_002dx-C_002df-770"></a><a name="index-find_002dfile-771"></a>  To visit a file, use the command <kbd>C-x C-f</kbd> (<code>find-file</code>).  Follow
the command with the name of the file you wish to visit, terminated by a
&lt;RET&gt;.

   </p><p>The file name is read using the minibuffer (see <a href="#Minibuffer">Minibuffer</a>), with
defaulting and completion in the standard manner (see <a href="#File-Names">File Names</a>). 
While in the minibuffer, you can abort <kbd>C-x C-f</kbd> by typing
<kbd>C-g</kbd>.  File-name completion ignores certain file names; for more
about this, see <a href="#Completion-Options">Completion Options</a>.

   </p><p>Your confirmation that <kbd>C-x C-f</kbd> has completed successfully is
the appearance of new text on the screen and a new buffer name in the
mode line.  If the specified file does not exist and you could not
create it, or exists but you can't read it, then you get an error,
with an error message displayed in the echo area.

   </p><p>If you visit a file that is already in Emacs, <kbd>C-x C-f</kbd> does not make
another copy.  It selects the existing buffer containing that file. 
However, before doing so, it checks whether the file itself has changed
since you visited or saved it last.  If the file has changed, Emacs offers
to reread it.

   </p><p><a name="index-large_002dfile_002dwarning_002dthreshold-772"></a><a name="index-maximum-buffer-size-exceeded_002c-error-message-773"></a>  If you try to visit a file larger than
<code>large-file-warning-threshold</code> (the default is 10000000, which is
about 10 megabytes), Emacs will ask you for confirmation first.  You
can answer <kbd>y</kbd> to proceed with visiting the file.  Note, however,
that Emacs cannot visit files that are larger than the maximum Emacs
buffer size, which is around 256 megabytes on 32-bit machines
(see <a href="#Buffers">Buffers</a>).  If you try, Emacs will display an error message
saying that the maximum buffer size has been exceeded.

   </p><p><a name="index-file-selection-dialog-774"></a>  On graphical displays there are two additional methods for
visiting files.  Firstly, when Emacs is built with a suitable GUI
toolkit, commands invoked with the mouse (by clicking on the menu bar
or tool bar) use the toolkit's standard File Selection dialog instead
of prompting for the file name in the minibuffer.  On Unix and
GNU/Linux platforms, Emacs does that when built with GTK, LessTif, and
Motif toolkits; on MS-Windows and Mac, the GUI version does that by default. 
For information on how to customize this, see <a href="#Dialog-Boxes">Dialog Boxes</a>.

   </p><p>Secondly, Emacs supports &#8220;drag and drop&#8221;; dropping a file into an
ordinary Emacs window visits the file using that window.  However,
dropping a file into a window displaying a Dired buffer moves or
copies the file into the displayed directory.  For details, see
<a href="#Drag-and-Drop">Drag and Drop</a>, and <a href="#Misc-Dired-Features">Misc Dired Features</a>.

   </p><p><a name="index-creating-files-775"></a>  What if you want to create a new file?  Just visit it.  Emacs displays
`<samp><span class="samp">(New file)</span></samp>' in the echo area, but in other respects behaves as if
you had visited an existing empty file.  If you make any changes and
save them, the file is created.

   </p><p>Emacs recognizes from the contents of a file which end-of-line
convention it uses to separate lines&#8212;newline (used on GNU/Linux and
on Unix), carriage-return linefeed (used on Microsoft systems), or
just carriage-return (used on the Macintosh)&#8212;and automatically
converts the contents to the normal Emacs convention, which is that
the newline character separates lines.  This is a part of the general
feature of coding system conversion (see <a href="#Coding-Systems">Coding Systems</a>), and
makes it possible to edit files imported from different operating
systems with equal convenience.  If you change the text and save the
file, Emacs performs the inverse conversion, changing newlines back
into carriage-return linefeed or just carriage-return if appropriate.

   </p><p><a name="index-find_002dfile_002drun_002ddired-776"></a>  If the file you specify is actually a directory, <kbd>C-x C-f</kbd> invokes
Dired, the Emacs directory browser, so that you can &#8220;edit&#8221; the contents
of the directory (see <a href="#Dired">Dired</a>).  Dired is a convenient way to view, delete,
or operate on the files in the directory.  However, if the variable
<code>find-file-run-dired</code> is <code>nil</code>, then it is an error to try
to visit a directory.

   </p><p>Files which are actually collections of other files, or <dfn>file
archives</dfn>, are visited in special modes which invoke a Dired-like
environment to allow operations on archive members.  See <a href="#File-Archives">File Archives</a>, for more about these features.

   </p><p><a name="index-wildcard-characters-in-file-names-777"></a><a name="index-find_002dfile_002dwildcards-778"></a>  If the file name you specify contains shell-style wildcard
characters, Emacs visits all the files that match it.  (On
case-insensitive filesystems, Emacs matches the wildcards disregarding
the letter case.)  Wildcards include `<samp><span class="samp">?</span></samp>', `<samp><span class="samp">*</span></samp>', and
`<samp><span class="samp">[...]</span></samp>' sequences.  To enter the wild card `<samp><span class="samp">?</span></samp>' in a file
name in the minibuffer, you need to type <kbd>C-q ?</kbd>.  See <a href="#Quoted-File-Names">Quoted File Names</a>, for information on how to visit a file whose name
actually contains wildcard characters.  You can disable the wildcard
feature by customizing <code>find-file-wildcards</code>.

   </p><p>If you visit a file that the operating system won't let you modify,
or that is marked read-only, Emacs makes the buffer read-only too, so
that you won't go ahead and make changes that you'll have trouble
saving afterward.  You can make the buffer writable with <kbd>C-x C-q</kbd>
(<code>toggle-read-only</code>).  See <a href="#Misc-Buffer">Misc Buffer</a>.

   </p><p><a name="index-C_002dx-C_002dr-779"></a><a name="index-find_002dfile_002dread_002donly-780"></a>  If you want to visit a file as read-only in order to protect
yourself from entering changes accidentally, visit it with the command
<kbd>C-x C-r</kbd> (<code>find-file-read-only</code>) instead of <kbd>C-x C-f</kbd>.

   </p><p><a name="index-C_002dx-C_002dv-781"></a><a name="index-find_002dalternate_002dfile-782"></a>  If you visit a nonexistent file unintentionally (because you typed the
wrong file name), use the <kbd>C-x C-v</kbd> command
(<code>find-alternate-file</code>) to visit the file you really wanted. 
<kbd>C-x C-v</kbd> is similar to <kbd>C-x C-f</kbd>, but it kills the current
buffer (after first offering to save it if it is modified).  When
<kbd>C-x C-v</kbd> reads the file name to visit, it inserts the entire
default file name in the buffer, with point just after the directory
part; this is convenient if you made a slight error in typing the name.

   </p><p><a name="index-C_002dx-4-f-783"></a><a name="index-find_002dfile_002dother_002dwindow-784"></a>  <kbd>C-x 4 f</kbd> (<code>find-file-other-window</code>) is like <kbd>C-x C-f</kbd>
except that the buffer containing the specified file is selected in another
window.  The window that was selected before <kbd>C-x 4 f</kbd> continues to
show the same buffer it was already showing.  If this command is used when
only one window is being displayed, that window is split in two, with one
window showing the same buffer as before, and the other one showing the
newly requested file.  See <a href="#Windows">Windows</a>.

   </p><p><a name="index-C_002dx-5-f-785"></a><a name="index-find_002dfile_002dother_002dframe-786"></a>  <kbd>C-x 5 f</kbd> (<code>find-file-other-frame</code>) is similar, but opens a
new frame, or makes visible any existing frame showing the file you
seek.  This feature is available only when you are using a window
system.  See <a href="#Frames">Frames</a>.

   </p><p><a name="index-find_002dfile_002dliterally-787"></a>  If you wish to edit a file as a sequence of <acronym>ASCII</acronym> characters with no special
encoding or conversion, use the <kbd>M-x find-file-literally</kbd> command. 
It visits a file, like <kbd>C-x C-f</kbd>, but does not do format conversion
(see <a href="#Formatted-Text">Formatted Text</a>), character code conversion (see <a href="#Coding-Systems">Coding Systems</a>), or automatic uncompression (see <a href="#Compressed-Files">Compressed Files</a>), and
does not add a final newline because of <code>require-final-newline</code>. 
If you already have visited the same file in the usual (non-literal)
manner, this command asks you whether to visit it literally instead.

   </p><p><a name="index-find_002dfile_002dhook-788"></a><a name="index-find_002dfile_002dnot_002dfound_002dfunctions-789"></a>  Two special hook variables allow extensions to modify the operation of
visiting files.  Visiting a file that does not exist runs the functions
in the list <code>find-file-not-found-functions</code>; this variable holds a list
of functions, and the functions are called one by one (with no
arguments) until one of them returns non-<code>nil</code>.  This is not a
normal hook, and the name ends in `<samp><span class="samp">-functions</span></samp>' rather than `<samp><span class="samp">-hook</span></samp>'
to indicate that fact.

   </p><p>Successful visiting of any file, whether existing or not, calls the
functions in the list <code>find-file-hook</code>, with no arguments. 
This variable is a normal hook.  In the case of a nonexistent file, the
<code>find-file-not-found-functions</code> are run first.  See <a href="#Hooks">Hooks</a>.

   </p><p>There are several ways to specify automatically the major mode for
editing the file (see <a href="#Choosing-Modes">Choosing Modes</a>), and to specify local
variables defined for that file (see <a href="#File-Variables">File Variables</a>).

</p><div class="node">
<p></p><hr>
<a name="Saving"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Reverting">Reverting</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Visiting">Visiting</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Files">Files</a>

</div>

<h3 class="section">23.3 Saving Files</h3>

<p><dfn>Saving</dfn> a buffer in Emacs means writing its contents back into the file
that was visited in the buffer.

</p><ul class="menu">
<li><a accesskey="1" href="#Save-Commands">Save Commands</a>:        Commands for saving files. 
</li><li><a accesskey="2" href="#Backup">Backup</a>:               How Emacs saves the old version of your file. 
</li><li><a accesskey="3" href="#Customize-Save">Customize Save</a>:       Customizing the saving of files. 
</li><li><a accesskey="4" href="#Interlocking">Interlocking</a>:         How Emacs protects against simultaneous editing
                          of one file by two users. 
</li><li><a accesskey="5" href="#File-Shadowing">Shadowing</a>:   Copying files to "shadows" automatically. 
</li><li><a accesskey="6" href="#Time-Stamps">Time Stamps</a>:          Emacs can update time stamps on saved files. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Save-Commands"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Backup">Backup</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Saving">Saving</a>

</div>

<h4 class="subsection">23.3.1 Commands for Saving Files</h4>

<p>These are the commands that relate to saving and writing files.

     </p><dl>
<dt><kbd>C-x C-s</kbd></dt><dd>Save the current buffer in its visited file on disk (<code>save-buffer</code>). 
<br></dd><dt><kbd>C-x s</kbd></dt><dd>Save any or all buffers in their visited files (<code>save-some-buffers</code>). 
<br></dd><dt><kbd>M-~</kbd></dt><dd>Forget that the current buffer has been changed (<code>not-modified</code>). 
With prefix argument (<kbd>C-u</kbd>), mark the current buffer as changed. 
<br></dd><dt><kbd>C-x C-w</kbd></dt><dd>Save the current buffer with a specified file name (<code>write-file</code>). 
<br></dd><dt><kbd>M-x set-visited-file-name</kbd></dt><dd>Change the file name under which the current buffer will be saved. 
</dd></dl>

   <p><a name="index-C_002dx-C_002ds-790"></a><a name="index-save_002dbuffer-791"></a>  When you wish to save the file and make your changes permanent, type
<kbd>C-x C-s</kbd> (<code>save-buffer</code>).  After saving is finished, <kbd>C-x C-s</kbd>
displays a message like this:

</p><pre class="example">     Wrote /u/rms/gnu/gnu.tasks
</pre>
   <p class="noindent">If the selected buffer is not modified (no changes have been made in it
since the buffer was created or last saved), saving is not really done,
because it would have no effect.  Instead, <kbd>C-x C-s</kbd> displays a message
like this in the echo area:

</p><pre class="example">     (No changes need to be saved)
</pre>
   <p><a name="index-C_002dx-s-792"></a><a name="index-save_002dsome_002dbuffers-793"></a>  The command <kbd>C-x s</kbd> (<code>save-some-buffers</code>) offers to save any
or all modified buffers.  It asks you what to do with each buffer.  The
possible responses are analogous to those of <code>query-replace</code>:

     </p><dl>
<dt><kbd>y</kbd></dt><dd>Save this buffer and ask about the rest of the buffers. 
<br></dd><dt><kbd>n</kbd></dt><dd>Don't save this buffer, but ask about the rest of the buffers. 
<br></dd><dt><kbd>!</kbd></dt><dd>Save this buffer and all the rest with no more questions. 
<!-- following generates acceptable underfull hbox -->
<br></dd><dt><kbd>&lt;RET&gt;</kbd></dt><dd>Terminate <code>save-some-buffers</code> without any more saving. 
<br></dd><dt><kbd>.</kbd></dt><dd>Save this buffer, then exit <code>save-some-buffers</code> without even asking
about other buffers. 
<br></dd><dt><kbd>C-r</kbd></dt><dd>View the buffer that you are currently being asked about.  When you exit
View mode, you get back to <code>save-some-buffers</code>, which asks the
question again. 
<br></dd><dt><kbd>d</kbd></dt><dd>Diff the buffer against its corresponding file, so you can see
what changes you would be saving. 
<br></dd><dt><kbd>C-h</kbd></dt><dd>Display a help message about these options. 
</dd></dl>

   <p><kbd>C-x C-c</kbd>, the key sequence to exit Emacs, invokes
<code>save-some-buffers</code> and therefore asks the same questions.

   </p><p><a name="index-M_002d_007e-794"></a><a name="index-not_002dmodified-795"></a>  If you have changed a buffer but you do not want to save the changes,
you should take some action to prevent it.  Otherwise, each time you use
<kbd>C-x s</kbd> or <kbd>C-x C-c</kbd>, you are liable to save this buffer by
mistake.  One thing you can do is type <kbd>M-~</kbd> (<code>not-modified</code>),
which clears out the indication that the buffer is modified.  If you do
this, none of the save commands will believe that the buffer needs to be
saved.  (`<samp><span class="samp">~</span></samp>' is often used as a mathematical symbol for `not'; thus
<kbd>M-~</kbd> is `not', metafied.)  You could also use
<code>set-visited-file-name</code> (see below) to mark the buffer as visiting
a different file name, one which is not in use for anything important. 
Alternatively, you can cancel all the changes made since the file was
visited or saved, by reading the text from the file again.  This is
called <dfn>reverting</dfn>.  See <a href="#Reverting">Reverting</a>.  (You could also undo all the
changes by repeating the undo command <kbd>C-x u</kbd> until you have undone
all the changes; but reverting is easier.)  You can also kill the buffer.

   </p><p><a name="index-set_002dvisited_002dfile_002dname-796"></a>  <kbd>M-x set-visited-file-name</kbd> alters the name of the file that the
current buffer is visiting.  It reads the new file name using the
minibuffer.  Then it marks the buffer as visiting that file name, and
changes the buffer name correspondingly.  <code>set-visited-file-name</code>
does not save the buffer in the newly visited file; it just alters the
records inside Emacs in case you do save later.  It also marks the
buffer as &#8220;modified&#8221; so that <kbd>C-x C-s</kbd> in that buffer
<em>will</em> save.

   </p><p><a name="index-C_002dx-C_002dw-797"></a><a name="index-write_002dfile-798"></a>  If you wish to mark the buffer as visiting a different file and save it
right away, use <kbd>C-x C-w</kbd> (<code>write-file</code>).  It is
equivalent to <code>set-visited-file-name</code> followed by <kbd>C-x C-s</kbd>
(except that <kbd>C-x C-w</kbd> asks for confirmation if the file exists). 
<kbd>C-x C-s</kbd> used on a buffer that is not visiting a file has the
same effect as <kbd>C-x C-w</kbd>; that is, it reads a file name, marks the
buffer as visiting that file, and saves it there.  The default file name in
a buffer that is not visiting a file is made by combining the buffer name
with the buffer's default directory (see <a href="#File-Names">File Names</a>).

   </p><p>If the new file name implies a major mode, then <kbd>C-x C-w</kbd> switches
to that major mode, in most cases.  The command
<code>set-visited-file-name</code> also does this.  See <a href="#Choosing-Modes">Choosing Modes</a>.

   </p><p>If Emacs is about to save a file and sees that the date of the latest
version on disk does not match what Emacs last read or wrote, Emacs
notifies you of this fact, because it probably indicates a problem caused
by simultaneous editing and requires your immediate attention. 
See <a href="#Interlocking">Simultaneous Editing</a>.

</p><div class="node">
<p></p><hr>
<a name="Backup"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Customize-Save">Customize Save</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Save-Commands">Save Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Saving">Saving</a>

</div>

<h4 class="subsection">23.3.2 Backup Files</h4>

<p><a name="index-backup-file-799"></a><a name="index-make_002dbackup_002dfiles-800"></a><a name="index-vc_002dmake_002dbackup_002dfiles-801"></a>
  On most operating systems, rewriting a file automatically destroys all
record of what the file used to contain.  Thus, saving a file from Emacs
throws away the old contents of the file&#8212;or it would, except that
Emacs carefully copies the old contents to another file, called the
<dfn>backup</dfn> file, before actually saving.

   </p><p>For most files, the variable <code>make-backup-files</code> determines
whether to make backup files.  On most operating systems, its default
value is <code>t</code>, so that Emacs does write backup files.

   </p><p>For files managed by a version control system (see <a href="#Version-Control">Version Control</a>), the variable <code>vc-make-backup-files</code> determines whether
to make backup files.  By default it is <code>nil</code>, since backup files
are redundant when you store all the previous versions in a version
control system. 
See <a href="#General-VC-Options">General VC Options</a>.

   </p><p>At your option, Emacs can keep either a single backup for each file,
or make a series of numbered backup files for each file that you edit.

   </p><p><a name="index-backup_002denable_002dpredicate-802"></a><a name="index-temporary_002dfile_002ddirectory-803"></a><a name="index-small_002dtemporary_002dfile_002ddirectory-804"></a>  The default value of the <code>backup-enable-predicate</code> variable
prevents backup files being written for files in the directories used
for temporary files, specified by <code>temporary-file-directory</code> or
<code>small-temporary-file-directory</code>.

   </p><p>Emacs makes a backup for a file only the first time the file is saved
from one buffer.  No matter how many times you save a file, its backup file
continues to contain the contents from before the file was visited. 
Normally this means that the backup file contains the contents from before
the current editing session; however, if you kill the buffer and then visit
the file again, a new backup file will be made by the next save.

   </p><p>You can also explicitly request making another backup file from a
buffer even though it has already been saved at least once.  If you save
the buffer with <kbd>C-u C-x C-s</kbd>, the version thus saved will be made
into a backup file if you save the buffer again.  <kbd>C-u C-u C-x C-s</kbd>
saves the buffer, but first makes the previous file contents into a new
backup file.  <kbd>C-u C-u C-u C-x C-s</kbd> does both things: it makes a
backup from the previous contents, and arranges to make another from the
newly saved contents if you save again.

</p><ul class="menu">
<li><a accesskey="1" href="#Numbered-Backups">One or Many</a>:  Whether to make one backup file or many. 
</li><li><a accesskey="2" href="#Backup-Names">Names</a>: 		How backup files are named. 
</li><li><a accesskey="3" href="#Backup-Deletion">Deletion</a>: 	Emacs deletes excess numbered backups. 
</li><li><a accesskey="4" href="#Backup-Copying">Copying</a>: 	Backups can be made by copying or renaming. 
</li></ul>

<div class="node">
<p></p><hr>
<a name="Numbered-Backups"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Backup-Names">Backup Names</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Backup">Backup</a>

</div>

<h5 class="subsubsection">23.3.2.1 Numbered Backups</h5>

<p><a name="index-version_002dcontrol-805"></a>  The choice of single backup file or multiple numbered backup files
is controlled by the variable <code>version-control</code>.  Its possible
values are:

     </p><dl>
<dt><code>t</code></dt><dd>Make numbered backups. 
<br></dd><dt><code>nil</code></dt><dd>Make numbered backups for files that have numbered backups already. 
Otherwise, make single backups. 
<br></dd><dt><code>never</code></dt><dd>Never make numbered backups; always make single backups. 
</dd></dl>

<p class="noindent">The usual way to set this variable is globally, through your
<samp><span class="file">.emacs</span></samp> file or the customization buffer.  However, you can set
<code>version-control</code> locally in an individual buffer to control the
making of backups for that buffer's file.  For example, Rmail mode
locally sets <code>version-control</code> to <code>never</code> to make sure that
there is only one backup for an Rmail file.  See <a href="#Locals">Locals</a>.

   </p><p><a name="index-g_t_0040env_007bVERSION_005fCONTROL_007d-environment-variable-806"></a>  If you set the environment variable <samp><span class="env">VERSION_CONTROL</span></samp>, to tell
various GNU utilities what to do with backup files, Emacs also obeys the
environment variable by setting the Lisp variable <code>version-control</code>
accordingly at startup.  If the environment variable's value is `<samp><span class="samp">t</span></samp>'
or `<samp><span class="samp">numbered</span></samp>', then <code>version-control</code> becomes <code>t</code>; if the
value is `<samp><span class="samp">nil</span></samp>' or `<samp><span class="samp">existing</span></samp>', then <code>version-control</code>
becomes <code>nil</code>; if it is `<samp><span class="samp">never</span></samp>' or `<samp><span class="samp">simple</span></samp>', then
<code>version-control</code> becomes <code>never</code>.

</p><div class="node">
<p></p><hr>
<a name="Backup-Names"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Backup-Deletion">Backup Deletion</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Numbered-Backups">Numbered Backups</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Backup">Backup</a>

</div>

<h5 class="subsubsection">23.3.2.2 Single or Numbered Backups</h5>

<p>When Emacs makes a single backup file, its name is normally
constructed by appending `<samp><span class="samp">~</span></samp>' to the file name being edited; thus,
the backup file for <samp><span class="file">eval.c</span></samp> would be <samp><span class="file">eval.c~</span></samp>.

   </p><p><a name="index-make_002dbackup_002dfile_002dname_002dfunction-807"></a><a name="index-backup_002ddirectory_002dalist-808"></a>  You can change this behavior by defining the variable
<code>make-backup-file-name-function</code> to a suitable function. 
Alternatively you can customize the variable
<code>backup-directory-alist</code> to specify that files matching certain
patterns should be backed up in specific directories.

   </p><p>A typical use is to add an element <code>("." . </code><var>dir</var><code>)</code> to make
all backups in the directory with absolute name <var>dir</var>; Emacs
modifies the backup file names to avoid clashes between files with the
same names originating in different directories.  Alternatively,
adding, say, <code>("." . ".~")</code> would make backups in the invisible
subdirectory <samp><span class="file">.~</span></samp> of the original file's directory.  Emacs
creates the directory, if necessary, to make the backup.

   </p><p>If access control stops Emacs from writing backup files under the usual
names, it writes the backup file as <samp><span class="file">%backup%~</span></samp> in your home
directory.  Only one such file can exist, so only the most recently
made such backup is available.

   </p><p>If you choose to have a series of numbered backup files, backup file
names contain `<samp><span class="samp">.~</span></samp>', the number, and another `<samp><span class="samp">~</span></samp>' after the
original file name.  Thus, the backup files of <samp><span class="file">eval.c</span></samp> would be
called <samp><span class="file">eval.c.~1~</span></samp>, <samp><span class="file">eval.c.~2~</span></samp>, and so on, all the way
through names like <samp><span class="file">eval.c.~259~</span></samp> and beyond.  The variable
<code>backup-directory-alist</code> applies to numbered backups just as
usual.

</p><div class="node">
<p></p><hr>
<a name="Backup-Deletion"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Backup-Copying">Backup Copying</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Backup-Names">Backup Names</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Backup">Backup</a>

</div>

<h5 class="subsubsection">23.3.2.3 Automatic Deletion of Backups</h5>

<p>To prevent excessive consumption of disk space, Emacs can delete numbered
backup versions automatically.  Generally Emacs keeps the first few backups
and the latest few backups, deleting any in between.  This happens every
time a new backup is made.

   </p><p><a name="index-kept_002dold_002dversions-809"></a><a name="index-kept_002dnew_002dversions-810"></a>  The two variables <code>kept-old-versions</code> and
<code>kept-new-versions</code> control this deletion.  Their values are,
respectively, the number of oldest (lowest-numbered) backups to keep
and the number of newest (highest-numbered) ones to keep, each time a
new backup is made.  The backups in the middle (excluding those oldest
and newest) are the excess middle versions&#8212;those backups are
deleted.  These variables' values are used when it is time to delete
excess versions, just after a new backup version is made; the newly
made backup is included in the count in <code>kept-new-versions</code>.  By
default, both variables are 2.

   </p><p><a name="index-delete_002dold_002dversions-811"></a>  If <code>delete-old-versions</code> is <code>t</code>, Emacs deletes the excess
backup files silently.  If it is <code>nil</code>, the default, Emacs asks
you whether it should delete the excess backup versions.  If it has
any other value, then Emacs never automatically deletes backups.

   </p><p>Dired's <kbd>.</kbd> (Period) command can also be used to delete old versions. 
See <a href="#Dired-Deletion">Dired Deletion</a>.

</p><div class="node">
<p></p><hr>
<a name="Backup-Copying"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Backup-Deletion">Backup Deletion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Backup">Backup</a>

</div>

<h5 class="subsubsection">23.3.2.4 Copying vs. Renaming</h5>

<p>Backup files can be made by copying the old file or by renaming it. 
This makes a difference when the old file has multiple names (hard
links).  If the old file is renamed into the backup file, then the
alternate names become names for the backup file.  If the old file is
copied instead, then the alternate names remain names for the file
that you are editing, and the contents accessed by those names will be
the new contents.

   </p><p>The method of making a backup file may also affect the file's owner
and group.  If copying is used, these do not change.  If renaming is used,
you become the file's owner, and the file's group becomes the default
(different operating systems have different defaults for the group).

   </p><p>Having the owner change is usually a good idea, because then the owner
always shows who last edited the file.  Also, the owners of the backups
show who produced those versions.  Occasionally there is a file whose
owner should not change; it is a good idea for such files to contain
local variable lists to set <code>backup-by-copying-when-mismatch</code>
locally (see <a href="#File-Variables">File Variables</a>).

   </p><p><a name="index-backup_002dby_002dcopying-812"></a><a name="index-backup_002dby_002dcopying_002dwhen_002dlinked-813"></a><a name="index-backup_002dby_002dcopying_002dwhen_002dmismatch-814"></a><a name="index-backup_002dby_002dcopying_002dwhen_002dprivileged_002dmismatch-815"></a><a name="index-file-ownership_002c-and-backup-816"></a><a name="index-backup_002c-and-user_002did-817"></a>  The choice of renaming or copying is controlled by four variables. 
Renaming is the default choice.  If the variable
<code>backup-by-copying</code> is non-<code>nil</code>, copying is used.  Otherwise,
if the variable <code>backup-by-copying-when-linked</code> is non-<code>nil</code>,
then copying is used for files that have multiple names, but renaming
may still be used when the file being edited has only one name.  If the
variable <code>backup-by-copying-when-mismatch</code> is non-<code>nil</code>, then
copying is used if renaming would cause the file's owner or group to
change.  <code>backup-by-copying-when-mismatch</code> is <code>t</code> by default
if you start Emacs as the superuser.  The fourth variable,
<code>backup-by-copying-when-privileged-mismatch</code>, gives the highest
numeric user-id for which <code>backup-by-copying-when-mismatch</code> will be
forced on.  This is useful when low-numbered user-ids are assigned to
special system users, such as <code>root</code>, <code>bin</code>, <code>daemon</code>,
etc., which must maintain ownership of files.

   </p><p>When a file is managed with a version control system (see <a href="#Version-Control">Version Control</a>), Emacs does not normally make backups in the usual way for
that file.  But check-in and check-out are similar in some ways to
making backups.  One unfortunate similarity is that these operations
typically break hard links, disconnecting the file name you visited from
any alternate names for the same file.  This has nothing to do with
Emacs&#8212;the version control system does it.

</p><div class="node">
<p></p><hr>
<a name="Customize-Save"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Interlocking">Interlocking</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Backup">Backup</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Saving">Saving</a>

</div>

<h4 class="subsection">23.3.3 Customizing Saving of Files</h4>

<p><a name="index-require_002dfinal_002dnewline-818"></a>  If the value of the variable <code>require-final-newline</code> is
<code>t</code>, saving or writing a file silently puts a newline at the end
if there isn't already one there.  If the value is <code>visit</code>, Emacs
adds a newline at the end of any file that doesn't have one, just
after it visits the file.  (This marks the buffer as modified, and you
can undo it.)  If the value is <code>visit-save</code>, that means to add
newlines both on visiting and on saving.  If the value is <code>nil</code>,
Emacs leaves the end of the file unchanged; if it's neither <code>nil</code>
nor <code>t</code>, Emacs asks you whether to add a newline.  The default is
<code>nil</code>.

   </p><p><a name="index-mode_002drequire_002dfinal_002dnewline-819"></a>  Many major modes are designed for specific kinds of files that are
always supposed to end in newlines.  These major modes set the
variable <code>require-final-newline</code> according to
<code>mode-require-final-newline</code>.  By setting the latter variable,
you can control how these modes handle final newlines.

   </p><p><a name="index-write_002dregion_002dinhibit_002dfsync-820"></a>  When Emacs saves a file, it invokes the <code>fsync</code> system call to
force the data immediately out to disk.  This is important for safety
if the system crashes or in case of power outage.  However, it can be
disruptive on laptops using power saving, because it requires the disk
to spin up each time you save a file.  Setting
<code>write-region-inhibit-fsync</code> to a non-<code>nil</code> value disables
this synchronization.  Be careful&#8212;this means increased risk of data
loss.

</p><div class="node">
<p></p><hr>
<a name="Interlocking"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#File-Shadowing">File Shadowing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Customize-Save">Customize Save</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Saving">Saving</a>

</div>

<h4 class="subsection">23.3.4 Protection against Simultaneous Editing</h4>

<p><a name="index-file-dates-821"></a><a name="index-simultaneous-editing-822"></a>  Simultaneous editing occurs when two users visit the same file, both
make changes, and then both save them.  If nobody were informed that
this was happening, whichever user saved first would later find that his
changes were lost.

   </p><p>On some systems, Emacs notices immediately when the second user starts
to change the file, and issues an immediate warning.  On all systems,
Emacs checks when you save the file, and warns if you are about to
overwrite another user's changes.  You can prevent loss of the other
user's work by taking the proper corrective action instead of saving the
file.

   </p><p><a name="index-ask_002duser_002dabout_002dlock-823"></a><a name="index-locking-files-824"></a>  When you make the first modification in an Emacs buffer that is
visiting a file, Emacs records that the file is <dfn>locked</dfn> by you. 
(It does this by creating a symbolic link in the same directory with a
different name.)  Emacs removes the lock when you save the changes.  The
idea is that the file is locked whenever an Emacs buffer visiting it has
unsaved changes.

   </p><p><a name="index-collision-825"></a>  If you begin to modify the buffer while the visited file is locked by
someone else, this constitutes a <dfn>collision</dfn>.  When Emacs detects a
collision, it asks you what to do, by calling the Lisp function
<code>ask-user-about-lock</code>.  You can redefine this function for the sake
of customization.  The standard definition of this function asks you a
question and accepts three possible answers:

     </p><dl>
<dt><kbd>s</kbd></dt><dd>Steal the lock.  Whoever was already changing the file loses the lock,
and you gain the lock. 
<br></dd><dt><kbd>p</kbd></dt><dd>Proceed.  Go ahead and edit the file despite its being locked by someone else. 
<br></dd><dt><kbd>q</kbd></dt><dd>Quit.  This causes an error (<code>file-locked</code>), and the buffer
contents remain unchanged&#8212;the modification you were trying to make
does not actually take place. 
</dd></dl>

   <p>Note that locking works on the basis of a file name; if a file has
multiple names, Emacs does not realize that the two names are the same file
and cannot prevent two users from editing it simultaneously under different
names.  However, basing locking on names means that Emacs can interlock the
editing of new files that will not really exist until they are saved.

   </p><p>Some systems are not configured to allow Emacs to make locks, and
there are cases where lock files cannot be written.  In these cases,
Emacs cannot detect trouble in advance, but it still can detect the
collision when you try to save a file and overwrite someone else's
changes.

   </p><p>If Emacs or the operating system crashes, this may leave behind lock
files which are stale, so you may occasionally get warnings about
spurious collisions.  When you determine that the collision is spurious,
just use <kbd>p</kbd> to tell Emacs to go ahead anyway.

   </p><p>Every time Emacs saves a buffer, it first checks the last-modification
date of the existing file on disk to verify that it has not changed since the
file was last visited or saved.  If the date does not match, it implies
that changes were made in the file in some other way, and these changes are
about to be lost if Emacs actually does save.  To prevent this, Emacs
displays a warning message and asks for confirmation before saving. 
Occasionally you will know why the file was changed and know that it does
not matter; then you can answer <kbd>yes</kbd> and proceed.  Otherwise, you should
cancel the save with <kbd>C-g</kbd> and investigate the situation.

   </p><p>The first thing you should do when notified that simultaneous editing
has already taken place is to list the directory with <kbd>C-u C-x C-d</kbd>
(see <a href="#Directories">Directories</a>).  This shows the file's current author.  You
should attempt to contact him to warn him not to continue editing. 
Often the next step is to save the contents of your Emacs buffer under a
different name, and use <code>diff</code> to compare the two files.

</p><div class="node">
<p></p><hr>
<a name="File-Shadowing"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Time-Stamps">Time Stamps</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Interlocking">Interlocking</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Saving">Saving</a>

</div>

<h4 class="subsection">23.3.5 Shadowing Files</h4>

<p><a name="index-shadow-files-826"></a><a name="index-file-shadows-827"></a><a name="index-shadow_002dinitialize-828"></a>
     </p><dl>
<dt><kbd>M-x shadow-initialize</kbd></dt><dd>Set up file shadowing. 
<br></dd><dt><kbd>M-x shadow-define-literal-group</kbd></dt><dd>Declare a single file to be shared between sites. 
<br></dd><dt><kbd>M-x shadow-define-regexp-group</kbd></dt><dd>Make all files that match each of a group of files be shared between hosts. 
<br></dd><dt><kbd>M-x shadow-define-cluster &lt;RET&gt; </kbd><var>name</var><kbd> &lt;RET&gt;</kbd></dt><dd>Define a shadow file cluster <var>name</var>. 
<br></dd><dt><kbd>M-x shadow-copy-files</kbd></dt><dd>Copy all pending shadow files. 
<br></dd><dt><kbd>M-x shadow-cancel</kbd></dt><dd>Cancel the instruction to shadow some files. 
</dd></dl>

   <p>You can arrange to keep identical <dfn>shadow</dfn> copies of certain files
in more than one place&#8212;possibly on different machines.  To do this,
first you must set up a <dfn>shadow file group</dfn>, which is a set of
identically-named files shared between a list of sites.  The file
group is permanent and applies to further Emacs sessions as well as
the current one.  Once the group is set up, every time you exit Emacs,
it will copy the file you edited to the other files in its group.  You
can also do the copying without exiting Emacs, by typing <kbd>M-x
shadow-copy-files</kbd>.

   </p><p>To set up a shadow file group, use <kbd>M-x
shadow-define-literal-group</kbd> or <kbd>M-x shadow-define-regexp-group</kbd>. 
See their documentation strings for further information.

   </p><p>Before copying a file to its shadows, Emacs asks for confirmation. 
You can answer &#8220;no&#8221; to bypass copying of this file, this time.  If
you want to cancel the shadowing permanently for a certain file, use
<kbd>M-x shadow-cancel</kbd> to eliminate or change the shadow file group.

   </p><p>A <dfn>shadow cluster</dfn> is a group of hosts that share directories, so
that copying to or from one of them is sufficient to update the file
on all of them.  Each shadow cluster has a name, and specifies the
network address of a primary host (the one we copy files to), and a
regular expression that matches the host names of all the other hosts
in the cluster.  You can define a shadow cluster with <kbd>M-x
shadow-define-cluster</kbd>.

</p><div class="node">
<p></p><hr>
<a name="Time-Stamps"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#File-Shadowing">File Shadowing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Saving">Saving</a>

</div>

<h4 class="subsection">23.3.6 Updating Time Stamps Automatically</h4>

<p><a name="index-time-stamps-829"></a><a name="index-modification-dates-830"></a><a name="index-locale_002c-date-format-831"></a>
You can arrange to put a time stamp in a file, so that it will be updated
automatically each time you edit and save the file.  The time stamp
has to be in the first eight lines of the file, and you should
insert it like this:

</p><pre class="example">     Time-stamp: &lt;&gt;
</pre>
   <p class="noindent">or like this:

</p><pre class="example">     Time-stamp: " "
</pre>
   <p><a name="index-time_002dstamp-832"></a>  Then add the hook function <code>time-stamp</code> to the hook
<code>before-save-hook</code>; that hook function will automatically update
the time stamp, inserting the current date and time when you save the
file.  You can also use the command <kbd>M-x time-stamp</kbd> to update the
time stamp manually.  For other customizations, see the Custom group
<code>time-stamp</code>.  Note that non-numeric fields in the time stamp are
formatted according to your locale setting (see <a href="#Environment">Environment</a>).

</p><div class="node">
<p></p><hr>
<a name="Reverting"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Autorevert">Autorevert</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Saving">Saving</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Files">Files</a>

</div>

<h3 class="section">23.4 Reverting a Buffer</h3>

<p><a name="index-revert_002dbuffer-833"></a><a name="index-drastic-changes-834"></a><a name="index-reread-a-file-835"></a>
  If you have made extensive changes to a file and then change your mind
about them, you can get rid of them by reading in the previous version
of the file.  To do this, use <kbd>M-x revert-buffer</kbd>, which operates on
the current buffer.  Since reverting a buffer unintentionally could lose
a lot of work, you must confirm this command with <kbd>yes</kbd>.

   </p><p><code>revert-buffer</code> tries to position point in such a way that, if
the file was edited only slightly, you will be at approximately the
same piece of text after reverting as before.  However, if you have made
drastic changes, point may wind up in a totally different piece of text.

   </p><p>Reverting marks the buffer as &#8220;not modified&#8221; until another change is
made.

   </p><p>Some kinds of buffers whose contents reflect data bases other than files,
such as Dired buffers, can also be reverted.  For them, reverting means
recalculating their contents from the appropriate data base.  Buffers
created explicitly with <kbd>C-x b</kbd> cannot be reverted; <code>revert-buffer</code>
reports an error when asked to do so.

   </p><p><a name="index-revert_002dwithout_002dquery-836"></a>  When you edit a file that changes automatically and frequently&#8212;for
example, a log of output from a process that continues to run&#8212;it may be
useful for Emacs to revert the file without querying you, whenever you
visit the file again with <kbd>C-x C-f</kbd>.

   </p><p>To request this behavior, set the variable <code>revert-without-query</code>
to a list of regular expressions.  When a file name matches one of these
regular expressions, <code>find-file</code> and <code>revert-buffer</code> will
revert it automatically if it has changed&#8212;provided the buffer itself
is not modified.  (If you have edited the text, it would be wrong to
discard your changes.)

   </p><p><a name="index-Global-Auto_002dRevert-mode-837"></a><a name="index-mode_002c-Global-Auto_002dRevert-838"></a><a name="index-Auto_002dRevert-mode-839"></a><a name="index-mode_002c-Auto_002dRevert-840"></a><a name="index-global_002dauto_002drevert_002dmode-841"></a><a name="index-auto_002drevert_002dmode-842"></a><a name="index-auto_002drevert_002dtail_002dmode-843"></a>
  You may find it useful to have Emacs revert files automatically when
they change.  Three minor modes are available to do this.

   </p><p><kbd>M-x global-auto-revert-mode</kbd> enables Global Auto-Revert mode,
which periodically checks all file buffers and reverts when the
corresponding file has changed.  <kbd>M-x auto-revert-mode</kbd> enables a
local version, Auto-Revert mode, which applies only to the current
buffer.

   </p><p>You can use Auto-Revert mode to &#8220;tail&#8221; a file such as a system
log, so that changes made to that file by other programs are
continuously displayed.  To do this, just move the point to the end of
the buffer, and it will stay there as the file contents change. 
However, if you are sure that the file will only change by growing at
the end, use Auto-Revert Tail mode instead
(<code>auto-revert-tail-mode</code>).  It is more efficient for this.

   </p><p><a name="index-auto_002drevert_002dinterval-844"></a>  The variable <code>auto-revert-interval</code> controls how often to check
for a changed file.  Since checking a remote file is too slow, these
modes do not check or revert remote files.

   </p><p>See <a href="#VC-Mode-Line">VC Mode Line</a>, for Auto Revert peculiarities in buffers that
visit files under version control.

<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 2004, 2005, 2006, 2007 Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
<!-- This file is included either in emacs-xtra.texi (when producing the -->
<!-- printed version) or in the main Emacs manual (for the on-line version). -->
</p><div class="node">
<p></p><hr>
<a name="Autorevert"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Auto-Save">Auto Save</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Reverting">Reverting</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Files">Files</a>

</div>

<h3 class="section">23.5 Auto Reverting non-file Buffers</h3>

<p>Normally Global Auto Revert Mode only reverts file buffers.  There are
two ways to auto-revert certain non-file buffers: enabling Auto Revert
Mode in those buffers (using <kbd>M-x auto-revert-mode</kbd>) and setting
<code>global-auto-revert-non-file-buffers</code> to <code>t</code>.  The latter
enables Auto Reverting for all types of buffers for which it is
implemented, that is, for the types of buffers listed in the menu
below.

   </p><p>Like file buffers, non-file buffers should normally not revert while
you are working on them, or while they contain information that might
get lost after reverting.  Therefore, they do not revert if they are
&#8220;modified&#8221;.  This can get tricky, because deciding when a non-file
buffer should be marked modified is usually more difficult than for
file buffers.

   </p><p>Another tricky detail is that, for efficiency reasons, Auto Revert
often does not try to detect all possible changes in the buffer, only
changes that are &#8220;major&#8221; or easy to detect.  Hence, enabling
auto-reverting for a non-file buffer does not always guarantee that
all information in the buffer is up to date and does not necessarily
make manual reverts useless.

   </p><p>At the other extreme, certain buffers automatically auto-revert every
<code>auto-revert-interval</code> seconds.  (This currently only applies to
the Buffer Menu.)  In this case, Auto Revert does not print any
messages while reverting, even when <code>auto-revert-verbose</code> is
non-<code>nil</code>.

   </p><p>The details depend on the particular types of buffers and are
explained in the corresponding sections.

</p><ul class="menu">
<li><a accesskey="1" href="#Auto-Reverting-the-Buffer-Menu">Auto Reverting the Buffer Menu</a>
</li><li><a accesskey="2" href="#Auto-Reverting-Dired">Auto Reverting Dired</a>
</li><li><a accesskey="3" href="#Supporting-additional-buffers">Supporting additional buffers</a>
</li></ul>

<div class="node">
<p></p><hr>
<a name="Auto-Reverting-the-Buffer-Menu"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Auto-Reverting-Dired">Auto Reverting Dired</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Autorevert">Autorevert</a>

</div>

<h4 class="subsection">23.5.1 Auto Reverting the Buffer Menu</h4>

<p>If auto-reverting of non-file buffers is enabled, the Buffer Menu
automatically reverts every <code>auto-revert-interval</code> seconds,
whether there is a need for it or not.  (It would probably take longer
to check whether there is a need than to actually revert.)

   </p><p>If the Buffer Menu inappropriately gets marked modified, just revert
it manually using <kbd>g</kbd> and auto-reverting will resume.  However, if
you marked certain buffers to get deleted or to be displayed, you have
to be careful, because reverting erases all marks.  The fact that
adding marks sets the buffer's modified flag prevents Auto Revert from
automatically erasing the marks.

</p><div class="node">
<p></p><hr>
<a name="Auto-Reverting-Dired"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Supporting-additional-buffers">Supporting additional buffers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Auto-Reverting-the-Buffer-Menu">Auto Reverting the Buffer Menu</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Autorevert">Autorevert</a>

